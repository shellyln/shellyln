define("app",[],function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=103)}([function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BarcodeBase=e.barcodeBasePropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(4)),a=r(17),s=r(6);var l=e.barcodeBasePropsDefault=Object.assign({},s.shapePropsDefault,{fillColor:"black",font:"normal 3.5px 'OCRB'",rotation:0,height:6.35,quietWidth:2.54,quietHeight:.66,unit:"mm",drawText:!0,useRawDataAsText:!1,textHeight:3.55});e.BarcodeBase=function(t){function e(t,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},l,t)));return n.charactersMap=r,n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Shape),n(e,[{key:"toImgTag",value:function(){return(0,s.toImgTag)(this)}},{key:"toElementStyle",value:function(){return(0,s.toElementStyle)(this)}},{key:"toDataUrl",value:function(){return(0,s.toDataUrl)(this)}},{key:"toSvg",value:function(){return(0,s.toSvg)(this)}},{key:"toRendered",value:function(){return o.renderAsHtml_noDefer(this)}},{key:"render",value:function(t,r){var n=this.getContext(t,s.CONTEXT_SVG_CANVAS),o=Boolean(n);o||(n=new a.SvgCanvas,this.setContext(t,s.CONTEXT_SVG_CANVAS,n),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"beforeRender",this).call(this,t));var l,u,h,c,f=this.props.data||"",p=this.props.text,d=f,g=this.encodeData(f);f=g.data,l=g.heightData,u=g.labelText,h=g.startChar,c=g.stopChar;var v=this.calcCheckDigit(f),y=this.calcSymbolSize(f,h,c,v),m=y.tw,b=y.th;f=""+h+f+v+c,void 0!==u?p=u:(void 0!==p&&null!==p||(p=this.props.text),void 0!==p&&null!==p||(p=d));var w=void 0===this.props.rotation||null===this.props.rotation?0:Math.floor(this.props.rotation/90)%4;switch(w<0&&(w+=4),w){case 1:n.rotate(1.5*Math.PI),n.translate(-m,0);break;case 2:n.rotate(Math.PI),n.translate(-m,-b);break;case 3:n.rotate(.5*Math.PI),n.translate(0,-b)}if(this.props.drawText&&n.beginGroup(),this.isHeightModulated?this.renderHeightModulatedBarData(n,m,b,f,l,p):this.renderBarData(n,m,b,f,l,p),this.renderAdditional(n,m,b,f,p),this.props.drawText&&(n.endGroup(),n.beginGroup()),this.props.drawText&&(this.props.font&&(n.font=this.props.font),this.renderText(n,m,b,f,p)),this.props.drawText&&n.endGroup(),o)return"";i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"afterRender",this).call(this,t),this.unsetContext(t,s.CONTEXT_SVG_CANVAS);var x=m+(this.props.x||0),k=b+(this.props.y||0);return(0,s.renderSvgCanvas)(this.props,n,x,k)}},{key:"calcSymbolSize",value:function(t,e,r,n){return{tw:0,th:0}}},{key:"calcCheckDigit",value:function(t){return""}},{key:"encodeData",value:function(t){return{data:t,startChar:"",stopChar:""}}},{key:"getBarSpaceWidth",value:function(){return[]}},{key:"getBarSpaceHeight",value:function(){return[[{offset:0,height:this.props.height}]]}},{key:"getRenderStartCoodinate",value:function(t,e){var r=this.props;return{rx:r.quietWidth,ry:r.quietHeight}}},{key:"renderBarData",value:function(t,e,r,n,i,o){for(var a=this.getBarSpaceWidth(),s=this.getBarSpaceHeight(),l=this.getRenderStartCoodinate(n,o),u=l.rx,h=l.ry,c=0;c<n.length;c++){var f=this.charactersMap.get(n[c]);if(!f)throw new Error("BarcodeBase#renderBarData: character is out of range.");for(var p=f.pattern,d=!0,g=0,v=0;v<p.length;v++){var y=p[v];switch(y){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var m=a[Number.parseInt(y)];if(d){var b=void 0===i?s[0]:s[Number.parseInt(i[c])],w=!0,x=!1,k=void 0;try{for(var _,S=b[Symbol.iterator]();!(w=(_=S.next()).done);w=!0){var E=_.value;t.rect(u+g,h+E.offset,m,E.height)}}catch(t){x=!0,k=t}finally{try{!w&&S.return&&S.return()}finally{if(x)throw k}}}g+=m,d=!d;break;case"+":d=!0;break;case"-":d=!1}}u+=g}t.fill()}},{key:"renderHeightModulatedBarData",value:function(t,e,r,n,i,o){for(var a=this.getBarSpaceWidth()[1],s=this.getBarSpaceHeight(),l=this.getRenderStartCoodinate(n,o),u=l.rx,h=l.ry,c=0;c<n.length;c++){for(var f=this.charactersMap.get(n[c]).pattern,p=0,d=0;d<f.length;d++){var g=f[d];switch(g){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":var v=s[Number.parseInt(g)],y=!0,m=!1,b=void 0;try{for(var w,x=v[Symbol.iterator]();!(y=(w=x.next()).done);y=!0){var k=w.value;t.rect(u+p,h+k.offset,a,k.height)}}catch(t){m=!0,b=t}finally{try{!y&&x.return&&x.return()}finally{if(m)throw b}}case"0":p+=2*a}}u+=p}t.fill()}},{key:"renderAdditional",value:function(t,e,r,n,i){}},{key:"renderText",value:function(t,e,r,n,i){var o=this.props;t.textAlign="center",t.textBaseline="alphabetic",t.fillText(o.useRawDataAsText?n:i,e/2,r-o.quietHeight)}},{key:"isHeightModulated",get:function(){return!1}}]),e}()},function(t,e,r){"use strict";var n=r(10),i=Object.keys||function(t){var e=[];for(var r in t)e.push(r);return e};t.exports=c;var o=r(5);o.inherits=r(0);var a=r(33),s=r(27);o.inherits(c,a);for(var l=i(s.prototype),u=0;u<l.length;u++){var h=l[u];c.prototype[h]||(c.prototype[h]=s.prototype[h])}function c(t){if(!(this instanceof c))return new c(t);a.call(this,t),s.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",f)}function f(){this.allowHalfOpen||this._writableState.ended||n.nextTick(p,this)}function p(t){t.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),c.prototype._destroy=function(t,e){this.push(null),this.end(),n.nextTick(e,t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Fragment=e.RedAgatePhantomComponent=e.RedAgateComponent=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.createElement=function(t,e){for(var r=arguments.length,n=Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];if(e=p(e||{},n),"function"==typeof t)return{type:t,props:e,nodeId:null,children:n,component:t.prototype.earlyConstruct&&t.prototype.transform?new t(e):null};if("string"==typeof t)return{type:t,props:e,nodeId:null,children:n,component:null};throw new Error("createElement receives invalid parameter type.")},e.cloneElement=function(t){var e=Object.assign({},t.props||{});delete e.__nodeId;var r=Array.isArray(t.children)?t.children.slice(0):t.children;return e=p(e,r),{type:t.type,props:e,nodeId:null,children:r,component:null}},e.createElementFromComponentInstance=function(t){return{type:t.constructor,props:t.props,nodeId:null,children:Array.isArray(t.props.children)?t.props.children:[],component:t}},e.transform=d,e.elementStyleRenderer=g,e.htmlAttributesRenderer=v,e.htmlRenderer=y,e.renderAsHtml=m,e.renderAsHtml_noDefer=function(t){var e=new Map;return y(d(t,{counter:0}),e)},e.render=function(t,e,r){m(t).then(function(t){e.innerHTML=t,r&&r(t,null)}).catch(function(t){r&&r(null,t)})},e.renderOnAwsLambda=function(t,e){m(t).then(function(t){e(null,t)}).catch(function(t){e(t,null)})},e.renderOnExpress=function(t,e,r,n){m(t).then(function(t){n&&n.forEach(function(t){return r.set(t[0],"string"==typeof t[1]?t[1]:void 0)}),r.send(t)}).catch(function(t){console.error(JSON.stringify(t)),r.status(500).send("")})};var o=r(41);function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=new Set(["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"]),h=e.RedAgateComponent=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,t),this.props=e,this.savedContexts=new Map}return i(t,[{key:"defer",value:function(){return Promise.resolve()}},{key:"setContext",value:function(t,e,r){if(this.savedContexts.has(e))throw new Error("RedAgateComponent#setContext: the key '"+e+"' has already set by myself.");t.has(e)&&t.set(e,t.get(e)),t.set(e,r)}},{key:"unsetContext",value:function(t,e){t.delete(e),this.savedContexts.has(e)&&(t.set(e,this.savedContexts.get(e)),this.savedContexts.delete(e))}},{key:"getContext",value:function(t,e){return t.get(e)}}]),t}(),c=e.RedAgatePhantomComponent=function(t){function e(){return l(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return s(e,h),i(e,[{key:"transform",value:function(){return null!==this.props.children&&void 0!==this.props.children?this.props.children:[]}}]),e}(),f=function(t){function e(t,r){l(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.fn=t,n}return s(e,h),i(e,[{key:"transform",value:function(){return this.fn(this.props)}}]),e}();function p(t,e){if(e){1===e.length?t.children=e[0]:e.length>1&&(t.children=e);var r={},i=!1,o=!0,a=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;if(null===h||void 0===h);else if(Array.isArray(h));else if("object"!==(void 0===h?"undefined":n(h)));else if(h.props){var c=h.props;"object"===n(c.refs)&&(i=!0,r=Object.assign(r,c.refs)),"string"==typeof c.ref&&(i=!0,r[c.ref]=h)}}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}i&&(t.refs=r)}return t}function d(t,e){if(e||(e={counter:0}),null===t||void 0===t)return t;if(Array.isArray(t))return t.map(function(t){return d(t,e)}).filter(function(t){return null!==t&&void 0!==t});if("object"!==(void 0===t?"undefined":n(t)))return t;var r=function(t){return{type:t.type,props:t.props,nodeId:t.nodeId,children:Array.isArray(t.children)?t.children.slice(0):t.children,component:t.component}}(function(t,e){return null!==t.nodeId&&void 0!==t.nodeId||(t.nodeId=e.counter++,t.props.__nodeId=t.nodeId),null!==t.component&&void 0!==t.component||"function"==typeof t.type&&(t.component=t.type.prototype.transform?new t.type(t.props):new f(t.type,t.props)),t}(t,e));if(r.component&&r.component.transform){var i=r.component.transform();null===i||void 0===i?r.children=[]:Array.isArray(i)?r.children=i:(void 0===i||n(i),r.children=[i])}else r.children||(r.children=[]);return r.children=r.children.map(function(t){return d(t,e)}).filter(function(t){return null!==t&&void 0!==t}),r}function g(t){return"string"==typeof t?t:Object.getOwnPropertyNames(t).filter(function(e){return null!==t[e]&&void 0!==t[e]}).map(function(e){return o.Escape.html(e.replace(/([a-z0-9])([A-Z])/g,function(t,e,r){return e+"-"+r.toLowerCase()}))+":"+o.Escape.html(t[e])+";"}).join("")}function v(t,e,r){var n="",i="",a=function(t){return Array.isArray(t)?t.map(function(t){return o.Escape.html(t.toString())}).filter(function(t){return null!==t&&void 0!==t}).join(" "):o.Escape.html(t.toString())},s=!0,l=!1,u=void 0;try{for(var h,c=Object.getOwnPropertyNames(t)[Symbol.iterator]();!(s=(h=c.next()).done);s=!0){var f=h.value;switch(f){case"styleClass":case"className":case"class":n+=' class="'+a(t[f])+'"';break;case"style":n+=' style="'+g(t.style)+'"';break;case"children":case"__nodeId":break;case"dangerouslySetInnerHTML":i+=t[f].__html;break;case"setInnerText":i+=o.Escape.html(t[f].__text).replace(/\r?\n/g,"<br/>").replace(/\r/g,"<br/>");break;default:e&&e.has(f)||r&&!r.has(f)&&"id"!==f||null===t[f]||void 0===t[f]||!1===t[f]||(!0===t[f]?n+=" "+o.Escape.html(f):n+=" "+o.Escape.html(f)+'="'+a(t[f])+'"')}}}catch(t){l=!0,u=t}finally{try{!s&&c.return&&c.return()}finally{if(l)throw u}}return{attrs:n,children:i}}function y(t,e){if(null===t||void 0===t)return"";if(Array.isArray(t))return t.map(function(t){return y(t,e)}).join("");if("object"!==(void 0===t?"undefined":n(t)))return o.Escape.html(t.toString());if(!t.props)return o.Escape.html(t.toString());var r=t,i=v(r.props),a=i.attrs,s=i.children;r.component&&r.component.beforeRender&&r.component.beforeRender(e),null!==r.children&&void 0!==r.children&&(s+=r.children.map(function(t){return y(t,e)}).join(""));var l="";if(r.component&&r.component.render)l=r.component.render(e,s);else if("string"==typeof r.type){var h=o.Escape.html(r.type);l=""!==s&&null!==s&&void 0!==s||!u.has(h)?"<"+h+a+">"+s+"</"+h+">":"<"+h+a+"/>"}else l=s;return r.component&&r.component.afterRender&&r.component.afterRender(e),l}function m(t){var e=new Map,r=d(t,{counter:0});return Promise.all(function t(e,r){if(null===r||void 0===r)return e;if(Array.isArray(r))return r.forEach(function(r){return t(e,r)}),e;if("object"!==(void 0===r?"undefined":n(r)))return e;if(r.component&&r.component.defer){var i=r.component.defer();i&&e.push(i)}return r.children&&t(e,r.children),e}([],r)).then(function(t){return y(r,e)})}e.Fragment=function(t){function e(t){return l(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,c),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(3);Object.keys(n).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return n[t]}})})},function(t,e){function r(t){return Object.prototype.toString.call(t)}e.isArray=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===r(t)},e.isBoolean=function(t){return"boolean"==typeof t},e.isNull=function(t){return null===t},e.isNullOrUndefined=function(t){return null==t},e.isNumber=function(t){return"number"==typeof t},e.isString=function(t){return"string"==typeof t},e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=function(t){return void 0===t},e.isRegExp=function(t){return"[object RegExp]"===r(t)},e.isObject=function(t){return"object"==typeof t&&null!==t},e.isDate=function(t){return"[object Date]"===r(t)},e.isError=function(t){return"[object Error]"===r(t)||t instanceof Error},e.isFunction=function(t){return"function"==typeof t},e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=Buffer.isBuffer},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Shape=e.shapePropsDefault=e.CONTEXT_ASSET_=e.CONTEXT_SVG_PATH=e.CONTEXT_SVG_CANVAS=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.renderSvgCanvas=function(t,e,r,n){return t.asImgTag?'<img style="width:'+r+t.unit+";height:"+n+t.unit+';" src="'+e.toDataUrl(new o.Rect2D(0,0,r,n),t.unit,120)+'"'+i.htmlAttributesRenderer(t,void 0,new Set([])).attrs+"></img>":t.asElementStyle?""+(t.style?i.elementStyleRenderer(t.style):"")+i.elementStyleRenderer({"background-image":'url("'+e.toDataUrl(new o.Rect2D(0,0,r,n),t.unit,0)+'")'}):t.asDataUrl?e.toDataUrl(new o.Rect2D(0,0,r,n),t.unit,0):e.render(new o.Rect2D(0,0,r,n),t.unit)},e.toImgTag=function(t){var e=Object.assign({},t.props);e.asImgTag=!0,e.asElementStyle=!1,e.asDataUrl=!1;var r=t.props;t.props=e;var n=i.renderAsHtml_noDefer(i.createElementFromComponentInstance(t));return t.props=r,n},e.toElementStyle=function(t){var e=Object.assign({},t.props);e.asImgTag=!1,e.asElementStyle=!0,e.asDataUrl=!1;var r=t.props;t.props=e;var n=i.renderAsHtml_noDefer(i.createElementFromComponentInstance(t));return t.props=r,n},e.toDataUrl=function(t){var e=Object.assign({},t.props);e.asImgTag=!1,e.asElementStyle=!1,e.asDataUrl=!0;var r=t.props;t.props=e;var n=i.renderAsHtml_noDefer(i.createElementFromComponentInstance(t));return t.props=r,n},e.toSvg=function(t){var e=Object.assign({},t.props);e.asImgTag=!1,e.asElementStyle=!1,e.asDataUrl=!1;var r=t.props;t.props=e;var n=i.renderAsHtml_noDefer(i.createElementFromComponentInstance(t));return t.props=r,n};var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3)),o=r(40);var a=e.CONTEXT_SVG_CANVAS="CONTEXT_SVG_CANVAS",s=e.CONTEXT_SVG_PATH="CONTEXT_SVG_PATH";e.CONTEXT_ASSET_="CONTEXT_ASSET_",e.shapePropsDefault={x:0,y:0,margin:0},e.Shape=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.isAmbient=!1,r.isPathFragment=!1,r.isGroup=!0,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.RedAgatePhantomComponent),n(e,[{key:"initializeCanvas",value:function(t){if((this.props.fill||this.isAmbient)&&void 0!==this.props.fillColor&&null!==this.props.fillColor&&(t.fillStyle=this.props.fillColor.toString()),(this.props.stroke||this.isAmbient)&&(void 0!==this.props.strokeColor&&null!==this.props.strokeColor&&(t.strokeStyle=this.props.strokeColor.toString()),void 0!==this.props.lineCap&&null!==this.props.lineCap&&(t.lineCap=this.props.lineCap),void 0!==this.props.lineJoin&&null!==this.props.lineJoin&&(t.lineJoin=this.props.lineJoin),void 0!==this.props.lineWidth&&null!==this.props.lineWidth&&(t.lineWidth=this.props.lineWidth),void 0!==this.props.miterLimit&&null!==this.props.miterLimit&&(t.miterLimit=this.props.miterLimit),void 0!==this.props.lineDash&&null!==this.props.lineDash&&t.setLineDash(this.props.lineDash),void 0!==this.props.lineDashOffset&&null!==this.props.lineDashOffset&&(t.lineDashOffset=this.props.lineDashOffset)),this.isAmbient){var e=this.props;(e.margin||e.x||e.y)&&t.translate((e.margin||0)+(e.x||0),(e.margin||0)+(e.y||0)),void 0!==e.scaleX&&null!==e.scaleX&&t.scale(e.scaleX,1),void 0!==e.scaleY&&null!==e.scaleY&&t.scale(1,e.scaleY),void 0!==e.rotationDeg&&null!==e.rotationDeg&&t.rotate(e.rotationDeg*Math.PI/180),void 0!==e.tm&&null!==e.tm&&e.tm.length>=6&&t.transform(e.tm[0],e.tm[1],e.tm[2],e.tm[3],e.tm[4],e.tm[5])}}},{key:"setGraphicState",value:function(t){this.isGroup&&t.beginGroup(),t.save(),t.translate(this.props.margin+this.props.x,this.props.margin+this.props.y),this.initializeCanvas(t)}},{key:"restoreGraphicState",value:function(t){t.restore(),this.isGroup&&t.endGroup()}},{key:"fillStrokePaths",value:function(t){this.props.fill&&this.props.stroke?t.fillStroke():this.props.fill?t.fill():this.props.stroke&&t.stroke()}},{key:"beforeRender",value:function(t){this.isPathFragment=this.getContext(t,s)||!1;var e=this.getContext(t,a);e&&(this.isPathFragment||this.setGraphicState(e))}},{key:"afterRender",value:function(t){var e=this.getContext(t,a);e&&(this.isPathFragment||(this.fillStrokePaths(e),this.restoreGraphicState(e)))}}]),e}()},function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var r=function(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"});return[r].concat(o).concat([i]).join("\n")}var a;return[r].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.query=function(t){return new i(t)};var i=e.Query=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e}return n(t,[{key:"orderBy",value:function(e){var r=void 0;return r=Array.isArray(e)?function(t,r){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if("string"==typeof l){if(t[l]>r[l])return 1;if(t[l]<r[l])return-1}else{var u="desc"===l[1]?-1:1;if(t[l[0]]>r[l[0]])return 1*u;if(t[l[0]]<r[l[0]])return-1*u}}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return 0}:e,new t(this.data.slice(0).sort(r))}},{key:"groupBy",value:function(e){var r=void 0;r=Array.isArray(e)?function(t,r){var n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;if(t[l]!==r[l])return!1}}catch(t){i=!0,o=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw o}}return!0}:e;for(var n=[],i=0,o=1;o<this.data.length;o++)r(this.data[i],this.data[o],o,this.data)||(n.push(this.data.slice(i,o)),i=o);return n.push(this.data.slice(i,o)),new t(n)}},{key:"groupEvery",value:function(t){if("number"==typeof t)return this.groupBy(function(e,r,n,i){return n%t!=0});var e=Object.assign({first:t.intermediate,last:t.intermediate},t),r=this.groupBy(function(t,r,n,i){return e.single>=i.length?n%e.single!=0:n<=e.first?n%e.first!=0:(n-e.first)%e.intermediate!=0});return 1===r.data.length&&e.single<r.data[0].length&&r.data.push([]),r.data.length>1&&r.data[r.data.length-1].length>e.last&&r.data.push([]),r}},{key:"where",value:function(e){return new t(this.data.filter(e))}},{key:"select",value:function(t){return t?this.data.map(t):this.data}}]),t}()},function(t,e,r){var n=r(29),i=n.Buffer;function o(t,e){for(var r in t)e[r]=t[r]}function a(t,e,r){return i(t,e,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?t.exports=n:(o(n,e),e.Buffer=a),o(i,a),a.from=function(t,e,r){if("number"==typeof t)throw new TypeError("Argument must not be a number");return i(t,e,r)},a.alloc=function(t,e,r){if("number"!=typeof t)throw new TypeError("Argument must be a number");var n=i(t);return void 0!==e?"string"==typeof r?n.fill(e,r):n.fill(e):n.fill(0),n},a.allocUnsafe=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return i(t)},a.allocUnsafeSlow=function(t){if("number"!=typeof t)throw new TypeError("Argument must be a number");return n.SlowBuffer(t)}},function(t,e,r){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?t.exports={nextTick:function(t,e,r,n){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var i,o,a=arguments.length;switch(a){case 0:case 1:return process.nextTick(t);case 2:return process.nextTick(function(){t.call(null,e)});case 3:return process.nextTick(function(){t.call(null,e,r)});case 4:return process.nextTick(function(){t.call(null,e,r,n)});default:for(i=new Array(a-1),o=0;o<i.length;)i[o++]=arguments[o];return process.nextTick(function(){t.apply(null,i)})}}}:t.exports=process},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var i=e.TextEncoding=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"encodeToUtf8",value:function(e){return t.__encodeToUtf8(e)}},{key:"decodeUtf8",value:function(e){return t.__decodeUtf8(e)}},{key:"__encodeToUtf8Impl",value:function(t){var e=t.length,r=-1,n=512,i=new Uint8Array(n),o=void 0,a=void 0;for(o=0;o<e;++o){var s=t.codePointAt(o);if(void 0===s)throw new Error("Can't convert string to UTF-8. string include unexpected sequence.");if((a=s)<=127)i[++r]=a;else if(a<=2047)i[++r]=192|a>>>6,i[++r]=128|63&a;else if(a<=65535)i[++r]=224|a>>>12,i[++r]=128|a>>>6&63,i[++r]=128|63&a;else{if(!(a<=1114111))throw new Error("Can't convert string to UTF-8. string include unexpected sequence.");i[++r]=240|a>>>18,i[++r]=128|a>>>12&63,i[++r]=128|a>>>6&63,i[++r]=128|63&a,65536<=a&&++o}if(n-r<=4){var l=i;n*=2,(i=new Uint8Array(n)).set(l)}}return i.subarray(0,++r)}},{key:"__decodeUtf8Impl",value:function(t){for(var e="",r=0,n=t.length,i=void 0,o=void 0,a=void 0,s=void 0;r<n;)switch((i=t[r++])>>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=String.fromCodePoint(i);break;case 12:case 13:o=t[r++],e+=String.fromCodePoint((31&i)<<6|63&o);break;case 14:o=t[r++],a=t[r++],e+=String.fromCodePoint((15&i)<<12|(63&o)<<6|(63&a)<<0);break;case 16:if(i>>>3&1)throw new Error("Can't convert UTF-8 to string. UTF-8 include unexpected sequence.");o=t[r++],a=t[r++],s=t[r++],e+=String.fromCodePoint((7&i)<<18|(63&o)<<12|(63&a)<<6|(63&s)<<0)}return e}}]),t}();i.__ctor=(i.isNode="undefined"!=typeof Buffer,i.isTextEncoder="undefined"!=typeof TextEncoder,void(i.isNode?(i.__encodeToUtf8=function(t){return Buffer.from(t,"utf8")},i.__decodeUtf8=function(t){return Buffer.from(Array.isArray(t)?t:Array.from(t)).toString("utf8")}):i.isTextEncoder?(i.utf8Encoder=new TextEncoder("utf8"),i.__encodeToUtf8=function(t){return i.utf8Encoder.encode(t)},i.utfDecoder=new TextDecoder("utf8"),i.__decodeUtf8=function(t){return i.utfDecoder.decode(t)}):(i.__encodeToUtf8=i.__encodeToUtf8Impl,i.__decodeUtf8=i.__decodeUtf8Impl)))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SingleFont=e.Font=e.Style=e.Script=e.Image=e.Asset=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3)),o=r(6),a=r(39),s=r(11),l=r(38),u=r(20),h=r(81);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.Asset=function(t){function e(t){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.content="",r}return p(e,i.RedAgatePhantomComponent),n(e,[{key:"defer",value:function(){var t=this;if(void 0===this.props.src||null===this.props.src||""===this.props.src)return Promise.resolve();var e=this.props.src;return new Promise(function(r,n){try{l.FileFetcher.fetchLocation(t.props.src).then(function(i){var o=i.contentType;if(null===o){var s=h.Uri.getPathExt(e);if(null===(o=h.Uri.pathExtToContentType(s)))return u.Logger.log("Asset#defer:unknown content-type:"+s),void n("unknown content-type")}t.content="data:"+o+";base64,"+a.Base64.encode(i.data,120),r()}).catch(function(t){u.Logger.log("Asset#defer:catch:"+t),n(t)})}catch(t){u.Logger.log("Asset#defer:catch:"+t),n(t)}})}},{key:"beforeRender",value:function(t){this.setContext(t,o.CONTEXT_ASSET_+this.props.contextName,this.content)}},{key:"render",value:function(t,e){return""}}]),e}(),e.Image=function(t){function e(t){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.content="",r}return p(e,o.Shape),n(e,[{key:"transform",value:function(){return null!==this.props.children&&void 0!==this.props.children?this.props.children:[]}},{key:"defer",value:function(){var t=this;if(void 0!==this.props.use&&null!==this.props.use&&""!==this.props.use)return Promise.resolve();if(null!==this.content&&void 0!==this.content&&""!==this.content)return Promise.resolve();if(null===this.props.src||void 0===this.props.src||""===this.props.src)return Promise.resolve();if(this.props.noDownload)return this.content=this.props.src,Promise.resolve();var e=this.props.src;return new Promise(function(r,n){l.FileFetcher.fetchLocation(e).then(function(i){var o=i.contentType;if(null===o){var s=h.Uri.getPathExt(e);if(null===(o=h.Uri.pathExtToContentType(s)))return u.Logger.log("Image#defer:unknown content-type:"+s),void n("unknown content-type")}t.content="data:"+o+";base64,"+a.Base64.encode(i.data,120),r()}).catch(function(t){u.Logger.log("Image#defer:"+t),n(t)})})}},{key:"renderAsHtml",value:function(t){var e="";if(this.props.asAsset)e='<script>(Function("return this")())[\'#img_asset_mb3vhWjBUxDX__'+this.props.id+"']=\""+this.content.replace(/\r/g,"").replace(/\n/g,"")+'";<\/script>';else if(void 0!==this.props.use&&null!==this.props.use&&""!==this.props.use){var r=this.props.id||"__img_node_id_mb3vhWjBUxDX_"+this.props.__nodeId;e='<img id="'+r+'" style="width:'+this.props.width+(this.props.unit||"px")+";height:"+this.props.height+(this.props.unit||"px")+';"'+i.htmlAttributesRenderer(this.props,new Set(["id","src","unit","width","height"])).attrs+'></img><script>document.getElementById("'+r+'").src=(Function("return this")())[\'#img_asset_mb3vhWjBUxDX__'+this.props.use+"'];<\/script>"}else e='<img src="'+this.content+'" style="width:'+this.props.width+(this.props.unit||"px")+";height:"+this.props.height+(this.props.unit||"px")+';"'+i.htmlAttributesRenderer(this.props,new Set(["src","unit","width","height"])).attrs+"></img>";return e}},{key:"renderAsSvg",value:function(t){var e=void 0!==this.props.use&&null!==this.props.use&&""!==this.props.use?"#"+this.props.use:t.registerImage({url:this.content,x:0,y:0,width:1,height:1},this.props.id);this.props.asAsset||t.drawImage(e,this.props.x||0,this.props.y||0,this.props.width,this.props.height)}},{key:"render",value:function(t,e){var r=this.getContext(t,o.CONTEXT_SVG_CANVAS);return void 0!==this.props.srcContext&&null!==this.props.srcContext&&""!==this.props.srcContext&&(this.content=this.getContext(t,o.CONTEXT_ASSET_+this.props.srcContext)),r?(this.renderAsSvg(r),""):this.renderAsHtml(t)}}]),e}(),e.Script=function(t){function e(t){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.content="",r}return p(e,i.RedAgatePhantomComponent),n(e,[{key:"defer",value:function(){var t=this;return void 0===this.props.src||null===this.props.src||""===this.props.src?Promise.resolve():this.props.noDownload?Promise.resolve():new Promise(function(e,r){try{l.FileFetcher.fetchLocation(t.props.src).then(function(r){t.content=s.TextEncoding.decodeUtf8(r.data),e()}).catch(function(t){u.Logger.log("Script#defer:catch:"+t),r(t)})}catch(t){u.Logger.log("Script#defer:catch:"+t),r(t)}})}},{key:"render",value:function(t,e){var r="";r=this.props.noDownload?"<script"+i.htmlAttributesRenderer(this.props,new Set([])).attrs+"><\/script>":"<script"+i.htmlAttributesRenderer(this.props,new Set(["src"])).attrs+">"+this.content+"<\/script>";var n=this.getContext(t,o.CONTEXT_SVG_CANVAS);return n?(n.registerCustomAsset(r),""):r}}]),e}();var d=e.Style=function(t){function e(t){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.content="",r}return p(e,i.RedAgatePhantomComponent),n(e,[{key:"defer",value:function(){var t=this;return void 0===this.props.src||null===this.props.src||""===this.props.src?Promise.resolve():this.props.noDownload?Promise.resolve():new Promise(function(e,r){try{l.FileFetcher.fetchLocation(t.props.src).then(function(n){t.content=s.TextEncoding.decodeUtf8(n.data);for(var i=/^url\((.+?)\)$/,o=t.content.split(/(url\(.+?\))/),c=[],f=[],p=function(e){var r=i.exec(o[e]);r&&(c.push(l.FileFetcher.fetchLocation(h.Uri.join(t.props.src,r[1])).then(function(t){o[e]=o[e].replace(i,"url(data:"+t.contentType+";charset=utf-8;base64,"+a.Base64.encode(t.data)+")")})),f.push(e))},d=0;d<o.length;d++)p(d);Promise.all(c).then(function(){t.content=o.join(""),e()}).catch(function(t){u.Logger.log("Style#defer:catch(1):"+t),r(t)})}).catch(function(t){u.Logger.log("Style#defer:catch(2):"+t),r(t)})}catch(t){u.Logger.log("Style#defer:catch(3):"+t),r(t)}})}},{key:"render",value:function(t,e){var r="";r=this.props.noDownload?'<style type="text/css">@import url("'+this.props.src+'");</style>':"<style"+i.htmlAttributesRenderer(this.props,new Set(["src"])).attrs+">"+this.content+"</style>";var n=this.getContext(t,o.CONTEXT_SVG_CANVAS);return n?(n.registerCustomAsset(r),""):r}}]),e}();e.Font=d,e.SingleFont=function(t){function e(t){c(this,e);var r=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.content="",r}return p(e,i.RedAgatePhantomComponent),n(e,[{key:"defer",value:function(){var t=this;return void 0===this.props.src||null===this.props.src||""===this.props.src?Promise.resolve():this.props.noDownload?Promise.resolve():new Promise(function(e,r){try{l.FileFetcher.fetchLocation(t.props.src).then(function(r){t.content="data:"+r.contentType+";charset=utf-8;base64,"+a.Base64.encode(r.data),e()}).catch(function(t){u.Logger.log("SingleFont#defer:catch:"+t),r(t)})}catch(t){u.Logger.log("SingleFont#defer:catch:"+t),r(t)}})}},{key:"render",value:function(t,e){var r;this.props.noDownload,r='<style type="text/css">@font-face{font-family:'+this.props.fontFamily+";font-style:"+this.props.fontStyle+";font-weight:"+this.props.fontWeight+";src:"+(this.props.localNames?this.props.localNames.map(function(t){return" local("+t+")"}):"")+" url("+(this.props.noDownload?this.props.src:this.content)+");unicode-range:"+this.props.unicodeRange+";}</style>";var n=this.getContext(t,o.CONTEXT_SVG_CANVAS);return n?(n.registerCustomAsset(r),""):r}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HtmlImposition=e.Xml=e.Html5=e.Xhtml1_0_Frameset=e.Xhtml1_0_Transitional=e.Xhtml1_0_Strict=e.Html4_01_Frameset=e.Html4_01_Transitional=e.Html4_01_Strict=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3));function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.Html4_01_Strict=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Html4_01_Transitional=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Html4_01_Frameset=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Frameset//EN" "http://www.w3.org/TR/html4/frameset.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Xhtml1_0_Strict=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Xhtml1_0_Transitional=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Xhtml1_0_Frameset=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return'<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Frameset//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd"><html'+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Html5=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){var r=i.htmlAttributesRenderer(this.props);return"<!DOCTYPE html><html"+r.attrs+">"+r.children+e+"</html>"}}]),e}(),e.Xml=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgatePhantomComponent),n(e,[{key:"render",value:function(t,e){return'<?xml version="'+("string"==typeof this.props.version?this.props.version:"1.0")+'" encoding="'+("string"==typeof this.props.encoding?this.props.encoding:"UTF-8")+'"?>'+e}}]),e}(),e.HtmlImposition=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgateComponent),n(e,[{key:"transform",value:function(){for(var t=Array.isArray(this.props.children)?this.props.children.find(function(t){return"function"==typeof t}):this.props.children,e=[],r=Object.assign({},this.props.scope||{}),n=0;n<this.props.items.length;n++)e.push(i.createElement("div",{style:{position:"absolute",left:this.props.paperWidth/this.props.cols*(n%this.props.cols),top:this.props.paperHeight/this.props.rows*Math.floor(n/this.props.cols)}},t(this.props.items[n],n,this.props.items,r)));return e}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Template=e.Facet=e.Do=e.If=e.ForEach=e.Repeat=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3));function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.Repeat=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgateComponent),n(e,[{key:"transform",value:function(){for(var t=Array.isArray(this.props.children)?this.props.children.find(function(t){return"function"==typeof t}):this.props.children,e=[],r=Object.assign({},this.props.scope||{}),n=0;n<this.props.times;n++)e.push(t(n,r));return e}}]),e}(),e.ForEach=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgateComponent),n(e,[{key:"transform",value:function(){for(var t=Array.isArray(this.props.children)?this.props.children.find(function(t){return"function"==typeof t}):this.props.children,e=[],r=Object.assign({},this.props.scope||{}),n=0;n<this.props.items.length;n++)e.push(t(this.props.items[n],n,this.props.items,r));return e}}]),e}(),e.If=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.RedAgateComponent),n(e,[{key:"transform",value:function(){return this.props.condition?this.props.children:[]}}]),e}(),e.Do=function(t){function e(t){o(this,e);var r=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return(Array.isArray(r.props.children)?r.props.children.find(function(t){return"function"==typeof t}):r.props.children)(),r}return s(e,i.RedAgateComponent),n(e,[{key:"earlyConstruct",value:function(){}},{key:"transform",value:function(){return[]}},{key:"render",value:function(t,e){return""}}]),e}();var l=e.Facet=function(t){function e(t){return o(this,e),a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return s(e,i.Fragment),e}();e.Template=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.Integer53=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"highestBit",value:function(t){t=Math.abs(t);for(var e=52;e>=0;e--)if(Math.trunc(t/Math.pow(2,e))>0)return e;return-1}},{key:"bitOr",value:function(t,e){var r=(4294967295&(t=Math.abs(t)))>>>0,n=(4294967295&(e=Math.abs(e)))>>>0;return 4294967296*(((t-r)/4294967296|(e-n)/4294967296)>>>0)+((r|n)>>>0)}},{key:"bitAnd",value:function(t,e){var r=(4294967295&(t=Math.abs(t)))>>>0,n=(4294967295&(e=Math.abs(e)))>>>0;return 4294967296*(((t-r)/4294967296&(e-n)/4294967296)>>>0)+((r&n)>>>0)}},{key:"bitXor",value:function(t,e){var r=(4294967295&(t=Math.abs(t)))>>>0,n=(4294967295&(e=Math.abs(e)))>>>0;return 4294967296*(((t-r)/4294967296^(e-n)/4294967296)>>>0)+((r^n)>>>0)}},{key:"bitNot",value:function(t){var e=(4294967295&(t=Math.abs(t)))>>>0;return 4294967296*((2097151&~((t-e)/4294967296))>>>0)+(~e>>>0)}},{key:"bitLShift",value:function(t,e){return t=Math.abs(t),e>=0?e<=52?t%Math.pow(2,53-e)*Math.pow(2,e):0:e>=-52?Math.trunc(t/Math.pow(2,-e)):0}},{key:"bitRShift",value:function(t,e){return t=Math.abs(t),e<=0?e>=-52?t%Math.pow(2,53+e)*Math.pow(2,-e):0:e<=52?Math.trunc(t/Math.pow(2,e)):0}},{key:"slice",value:function(t,e,r){return t=Math.abs(t),r<0&&(r+=53),0<e&&(t=Math.trunc(t/Math.pow(2,e)),r-=e),t%Math.pow(2,r)}},{key:"MAX_INT",get:function(){return 9007199254740991}}]),t}()},function(t,e,r){var n=r(70);t.exports="string"==typeof n?n:n.toString()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SvgCanvas=e.SvgCanvas2DPattern=e.SvgCanvas2DRadialGradient=e.SvgCanvas2DLinerGradient=e.SvgCanvasImageData=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(11),a=r(39),s=r(41),l=r(76),u=r(75),h=r(40);function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var f=e.SvgCanvasImageData=function t(e,r,n,i,o){c(this,t),this.url=e,this.x=r,this.y=n,this.width=i,this.height=o},p=e.SvgCanvas2DLinerGradient=function(){function t(e,r,n,i,o){c(this,t),this.id=e,this.x0=r,this.y0=n,this.x1=i,this.y1=o,this.content='<linearGradient id="'+e+'" gradientUnits="userSpaceOnUse" x1="'+r+'" y1="'+n+'" x2="'+i+'" y2="'+o+'" >\n'}return i(t,[{key:"addColorStop",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.content+='<stop offset="'+t+'" stop-color="'+e+'" stop-opacity="'+r+'" />\n'}},{key:"toDef",value:function(){return this.content+"</linearGradient>"}},{key:"toString",value:function(){return"url(#"+this.id+")"}}]),t}(),d=e.SvgCanvas2DRadialGradient=function(){function t(e,r,n,i,o,a){c(this,t),this.id=e,this.cx=r,this.cy=n,this.r=i,this.fx=o,this.fy=a,this.content='<radialGradient id="'+e+'" gradientUnits="userSpaceOnUse" cx="'+r+'" cy="'+n+'" r="'+i+'" fx="'+o+'" fy="'+a+'" >\n'}return i(t,[{key:"addColorStop",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.content+='<stop offset="'+t+'" stop-color="'+e+'" stop-opacity="'+r+'" />\n'}},{key:"toDef",value:function(){return this.content+"</radialGradient>"}},{key:"toString",value:function(){return"url(#"+this.id+")"}}]),t}(),g=e.SvgCanvas2DPattern=function(){function t(e,r){c(this,t),this.id=e,this.imageData=r}return i(t,[{key:"toDef",value:function(){var t='<image x="0" y="0" width="'+this.imageData.width+'" height="'+this.imageData.height+'" \nxlink:href="'+this.imageData.url+'" />';return'<pattern id="'+this.id+'"  patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" x="'+this.imageData.x+'" y="'+this.imageData.y+'" width="'+this.imageData.width+'" height="'+this.imageData.height+'">'+t+"</pattern>"}},{key:"toString",value:function(){return"url(#"+this.id+")"}}]),t}(),v=function t(e){if(c(this,t),this.globalAlpha=1,this.globalCompositeOperation="source-over",this.shadowBlur=0,this.shadowColor="rgba(0,0,0,1)",this.shadowOffsetX=0,this.shadowOffsetY=0,this.filterIdUrl=null,this.font="normal 12px 'Times New Roman'",this.textAlign="start",this.textBaseline="auto",this.lineCap="butt",this.lineDashOffset=0,this.lineJoin="miter",this.lineWidth=1,this.miterLimit=4,this.strokeStyle="black",this.fillStyle="black",this.ctm=new h.TransferMatrix2D,this.currentPoint=null,this.currentPointOnCtm=null,this.subpath=[],this.lineDash=[],this.clipPath="",e){for(var r in this)this.hasOwnProperty(r)&&e.hasOwnProperty(r)&&(this[r]=e[r]);this.subpath=Array.from(this.subpath)}};e.SvgCanvas=function(){function t(){c(this,t),this.graphicsStack=[],this.assets=[],this.content="",this.contentSaved="",this.idCount=0,this.template=null,this.graphicsStack.push(new v)}return i(t,[{key:"render",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mm",r='xmlns="http://www.w3.org/2000/svg"',n='xmlns:xlink="http://www.w3.org/1999/xlink"',i='viewBox="'+t.x+" "+t.y+" "+t.w+" "+t.h+'"',o="<defs>\n"+this.assets.map(function(t){return"string"==typeof t?t:t.toDef()}).join("\n")+"</defs>";if(this.template){var a=this.template.replace(/<\/svg>\s*$/,""),s=/(<svg[^>]*?)\s+?width\s*?=\s*?["'](?:[^"'>]+?)["']([^>]*?>)/;a=s.test(a)?a.replace(s,'$1 width="'+t.w+e+'"$2'):a.replace(/<svg\s/,'<svg width="'+t.w+e+'" ');var l=/(<svg[^>]*?)\s+?height\s*?=\s*?["'](?:[^"'>]+?)["']([^>]*?>)/;a=l.test(a)?a.replace(l,'$1 height="'+t.h+e+'"$2'):a.replace(/<svg\s/,'<svg height="'+t.h+e+'" ');var u=/(<svg[^>]*?)\s+?viewBox\s*?=\s*?["'](?:[^"'>]+?)["']([^>]*?>)/;return(a=u.test(a)?a.replace(u,"$1 "+i+"$2"):a.replace(/<svg\s/,"<svg "+i+" ")).match(/<svg[^>]*?\s+?xmlns:xlink\s*?=/)||(a=a.replace(/<svg\s/,"<svg "+n+" ")),a.match(/<svg[^>]*?\s+?xmlns\s*?=/)||(a=a.replace(/<svg\s/,"<svg "+r+" ")),a+"\n"+o+"\n"+this.contentSaved+this.content+"</svg>"}return"<svg "+r+" "+n+' version="1.1" width="'+t.w+e+'" height="'+t.h+e+'" '+i+">\n"+o+"\n"+this.contentSaved+this.content+"</svg>"}},{key:"toDataUrl",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"mm",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:120;return"data:image/svg+xml;base64,"+a.Base64.encode(o.TextEncoding.encodeToUtf8(this.render(t,e)),r)}},{key:"save",value:function(){var t=new v(this.graphicsStack[this.graphicsStack.length-1]);this.graphicsStack.push(t)}},{key:"restore",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])0<this.graphicsStack.length&&this.graphicsStack.pop();else if(0<this.graphicsStack.length){var t=this.subpath,e=this.currentPoint,r=this.currentPointOnCtm;this.graphicsStack.pop(),this.subpath=t,this.currentPoint=e,this.currentPointOnCtm=r}}},{key:"scale",value:function(t,e){if(null!==this.currentPointOnCtm){var r=(new h.TransferMatrix2D).scale(t,e);this.currentPointOnCtm=r.transfer(this.currentPointOnCtm)}this.ctm=this.ctm.scale(t,e)}},{key:"translate",value:function(t,e){if(null!==this.currentPointOnCtm){var r=(new h.TransferMatrix2D).translate(t,e);this.currentPointOnCtm=r.transfer(this.currentPointOnCtm)}this.ctm=this.ctm.translate(t,e)}},{key:"rotate",value:function(t){if(null!==this.currentPointOnCtm){var e=(new h.TransferMatrix2D).rotate(t);this.currentPointOnCtm=e.transfer(this.currentPointOnCtm)}this.ctm=this.ctm.rotate(t)}},{key:"transform",value:function(t,e,r,n,i,o){var a=new h.TransferMatrix2D(t,e,r,n,i,o);null!==this.currentPointOnCtm&&(this.currentPointOnCtm=a.transfer(this.currentPointOnCtm)),this.ctm=this.ctm.concat(a)}},{key:"setTransform",value:function(t,e,r,n,i,o){this.currentPointOnCtm=null,this.ctm=new h.TransferMatrix2D(t,e,r,n,i,o)}},{key:"beginPath",value:function(){this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null}},{key:"closePath",value:function(){this.subpath.push("Z"),this.currentPoint=null,this.currentPointOnCtm=null}},{key:"moveTo",value:function(t,e){var r=new h.Point2D(t,e);this.subpath.push("M",this.ctm.transfer(r)),this.currentPoint=this.subpath[this.subpath.length-1],this.currentPointOnCtm=r}},{key:"lineTo",value:function(t,e){var r=new h.Point2D(t,e);this.subpath.push("L",this.ctm.transfer(r));for(var n=arguments.length,i=Array(n>2?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];if(i&&i.length%4==0)for(var a=0;a<i.length&&!(i.length<=a+1);a+=2)r=new h.Point2D(i[a],i[a+1]),this.subpath.push(this.ctm.transfer(r));this.currentPoint=this.subpath[this.subpath.length-1],this.currentPointOnCtm=r}},{key:"quadraticCurveTo",value:function(t,e,r,n){var i=new h.Point2D(r,n);this.subpath.push("Q",this.ctm.transfer(new h.Point2D(t,e)),this.ctm.transfer(i));for(var o=arguments.length,a=Array(o>4?o-4:0),s=4;s<o;s++)a[s-4]=arguments[s];if(a&&a.length%4==0)for(var l=0;l<a.length&&!(a.length<=l+1);l+=2)i=new h.Point2D(a[l],a[l+1]),this.subpath.push(this.ctm.transfer(i));this.currentPoint=this.subpath[this.subpath.length-1],this.currentPointOnCtm=i}},{key:"bezierCurveTo",value:function(t,e,r,n,i,o){var a=new h.Point2D(i,o);this.subpath.push("C",this.ctm.transfer(new h.Point2D(t,e)),this.ctm.transfer(new h.Point2D(r,n)),this.ctm.transfer(a));for(var s=arguments.length,l=Array(s>6?s-6:0),u=6;u<s;u++)l[u-6]=arguments[u];if(l&&l.length%6==0)for(var c=0;c<l.length;c+=2)a=new h.Point2D(l[c],l[c+1]),this.subpath.push(this.ctm.transfer(a));this.currentPoint=this.subpath[this.subpath.length-1],this.currentPointOnCtm=a}},{key:"arc",value:function(t,e,r,n,i){var o,a=this,s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=Math.abs(i-n)>=2*Math.PI;if(Math.abs(n)>2*Math.PI&&(n%=2*Math.PI),n<0&&(n=2*Math.PI-n),Math.abs(i)>2*Math.PI&&(i%=2*Math.PI),i<0&&(i=2*Math.PI-i),l)i=n+2*Math.PI;else{if(s){var u=[i,n];n=u[0],i=u[1]}i<n&&(i+=2*Math.PI)}for(var c=i-n,f=0,p=Math.PI/2,d=4*(Math.sqrt(2)-1)/3,g=(new h.TransferMatrix2D).translate(t,e).scale(r,r),v=[];p<c;f+=p,c-=p){var y=g.rotate(n+f);0===v.length&&v.push(y.transfer(new h.Point2D(1,0))),v.push(y.transfer(new h.Point2D(1,d))),v.push(y.transfer(new h.Point2D(d,1))),v.push(y.transfer(new h.Point2D(0,1)))}var m=4*Math.tan(c/4)/3,b=g.rotate(n+f);0===v.length&&v.push(b.transfer(new h.Point2D(1,0))),v.push(b.transfer(new h.Point2D(1,m))),v.push(b.transfer(new h.Point2D(Math.cos(c)+m*Math.sin(c),Math.sin(c)-m*Math.cos(c)))),v.push(b.transfer(new h.Point2D(Math.cos(c),Math.sin(c)))),s&&(v=v.reverse());var w=v[v.length-1];v=v.map(function(t){return a.ctm.transfer(t)}),this.subpath.push(this.subpathIsEmptyOrClosed?"M":"L",v.shift(),"C"),(o=this.subpath).push.apply(o,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(v)),this.currentPoint=this.subpath[this.subpath.length-1],this.currentPointOnCtm=w}},{key:"arcTo",value:function(t,e,r,n,i){var o=this.currentPointOnCtm;if(null!==o){var a=new h.Point2D(t,e),s=new h.Point2D(r,n),l=h.Vector2D.fromPoints(o,a),u=h.Vector2D.fromPoints(a,s);if(0===l.x&&0===u.x||0===l.y&&0===u.y||l.isZero()||u.isZero())return this.subpath.push("L",this.ctm.transfer(a),this.ctm.transfer(s)),void(this.currentPointOnCtm=s);var c=h.Vector2D.getAngle(l,u);if(0===c||c===Math.PI)return this.subpath.push("L",this.ctm.transfer(a),this.ctm.transfer(s)),void(this.currentPointOnCtm=s);var f=Math.PI-c,p=i/Math.sin(f/2),d=Math.abs(Math.cos(f/2)*p),g=h.Vector2D.fromPoints(a,o).getAngle(),v=u.getAngle(),y=new h.Point2D(d*Math.cos(g)+a.x,d*Math.sin(g)+a.y),m=new h.Point2D(d*Math.cos(v)+a.x,d*Math.sin(v)+a.y);Math.abs(v-g)>Math.PI&&(v>g?g+=2*Math.PI:v+=2*Math.PI);var b=new h.Point2D(p*Math.cos((g+v)/2)+a.x,p*Math.sin((g+v)/2)+a.y),w=h.Vector2D.fromPoints(b,y),x=h.Vector2D.fromPoints(b,m),k=w.getAngle(),_=x.getAngle();Math.abs(_-k)>Math.PI&&(_>k?k+=2*Math.PI:_+=2*Math.PI),this.arc(b.x,b.y,i,k,_,k>=_),this.lineTo(r,n)}}},{key:"circle",value:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.subpathIsEmptyOrClosed||this.closePath(),this.arc(t,e,r,0,2*Math.PI,n),this.closePath()}},{key:"rect",value:function(t,e,r,n){!(arguments.length>4&&void 0!==arguments[4])||arguments[4]?this.subpath.push("M",this.ctm.transfer(new h.Point2D(t,e)),"L",this.ctm.transfer(new h.Point2D(t,e+n)),this.ctm.transfer(new h.Point2D(t+r,e+n)),this.ctm.transfer(new h.Point2D(t+r,e)),"Z"):this.subpath.push("M",this.ctm.transfer(new h.Point2D(t,e)),"L",this.ctm.transfer(new h.Point2D(t+r,e)),this.ctm.transfer(new h.Point2D(t+r,e+n)),this.ctm.transfer(new h.Point2D(t,e+n)),"Z"),this.currentPoint=null,this.currentPointOnCtm=null}},{key:"roundRect",value:function(t,e,r,n,i){!(arguments.length>5&&void 0!==arguments[5])||arguments[5]?(this.moveTo(t,e+n/2),this.arcTo(t,e+n,t+r/2,e+n,i),this.arcTo(t+r,e+n,t+r,e+n/2,i),this.arcTo(t+r,e,t+r/2,e,i),this.arcTo(t,e,t,e+n/2,i)):(this.moveTo(t+r/2,e),this.arcTo(t+r,e,t+r,e+n/2,i),this.arcTo(t+r,e+n,t+r/2,e+n,i),this.arcTo(t,e+n,t,e+n/2,i),this.arcTo(t,e,t+r/2,e,i)),this.closePath()}},{key:"getInheritedStyle",value:function(t){var e=void 0,r=t.toString(),n=this.globalAlpha,i=void 0;if(i=u.WebColor.isRgb(r)){var o=i;n*=o.a,t="rgb("+o.r+","+o.g+","+o.b+")"}else if(i=u.WebColor.isHsl(r)){var a=i;n*=a.a,t="hsl("+a.h+","+100*a.s+"%,"+100*a.l+"%)"}else this.ctm.isIdentity()||((e=r.match(/^url\(\#lgrad-(.+)\)$/))?(this.assets.push('<linearGradient id="lgrad-'+ ++this.idCount+'" xlink:href="#lgrad-'+e[1]+'" gradientTransform="matrix('+this.ctm.toString()+')" />'),t="url(#lgrad-"+this.idCount+")"):(e=r.match(/^url\(\#rgrad-(.+)\)$/))?(this.assets.push('<radialGradient id="rgrad-'+ ++this.idCount+'" xlink:href="#rgrad-'+e[1]+'" gradientTransform="matrix('+this.ctm.toString()+')" />'),t="url(#rgrad-"+this.idCount+")"):(e=r.match(/^url\(\#pat-(.+)\)$/))&&(this.assets.push('<pattern id="pat-'+ ++this.idCount+'" xlink:href="#pat-'+e[1]+'" patternTransform="matrix('+this.ctm.toString()+')" />'),t="url(#pat-"+this.idCount+")"));return{style:t,alpha:n}}},{key:"getStrokeAttrs",value:function(){var t=this.getInheritedStyle(this.strokeStyle);return'stroke="'+t.style+'" stroke-width="'+this.lineWidth+'" stroke-linecap="'+this.lineCap+'" stroke-linejoin="'+this.lineJoin+'" stroke-miterlimit="'+this.miterLimit+'" '+(this.getLineDash().length>0?'stroke-dasharray="'+this.getLineDash().join(",")+'" stroke-dashoffset="'+this.lineDashOffset+'" ':"")+'stroke-opacity="'+t.alpha+'" '}},{key:"getFillAttrs",value:function(t){var e=this.getInheritedStyle(this.fillStyle);return'fill="'+e.style+'" fill-rule="'+t+'" fill-opacity="'+e.alpha+'" '}},{key:"getFilterAttrs",value:function(){if(""===this.filterIdUrl);else if(null===this.filterIdUrl){if(0<this.shadowBlur||this.globalCompositeOperation&&"source-over"!==this.globalCompositeOperation){var t="",e="";if(0<this.shadowBlur)if(t+='<feGaussianBlur stdDeviation="'+this.shadowBlur+'" result="blur" />\n<feOffset in="blur" dx="'+this.shadowOffsetX+'" dy="'+this.shadowOffsetY+'" result="offsetBlur" />\n',null===this.shadowColor)e+='<feMergeNode in="offsetBlur" />';else{var r=new u.WebColor(this.shadowColor);t+='<feColorMatrix in="offsetBlur" type="matrix" values=" 1 1 1 0 0  1 1 1 0 0  1 1 1 0 0  0 0 0 1 0 " result="color1" />\n<feColorMatrix in="color1" type="matrix" values=" '+r.r/255+" 0 0 0 0  0 "+r.g/255+" 0 0 0  0 0 "+r.b/255+" 0 0  0 0 0 "+r.a+' 0 " result="color2" />\n',e+='<feMergeNode in="color2" />\n'}if(this.globalCompositeOperation&&"source-over"!==this.globalCompositeOperation){var n=this.globalCompositeOperation,i=!1;switch(n){case"destination-in":i=!0;case"source-in":n="in";break;case"destination-out":i=!0;case"source-out":n="out";break;case"destination-atop":i=!0;case"source-atop":n="atop";break;case"xor":n="xor";break;case"destination-over":i=!0;default:n="over"}t+="<feComposite in"+(i?"2":"")+'="SourceGraphic" in'+(i?"":"2")+'="BackgroundImage" operator="'+n+'" result="comp"/>\n',e+='<feMergeNode in="comp" />\n'}else e+='<feMergeNode in="SourceGraphic" />\n';return this.assets.push('<filter id="filter-'+ ++this.idCount+'" filterUnits="userSpaceOnUse">\n'+t+"<feMerge>\n"+e+"</feMerge>\n</filter>"),this.filterIdUrl="url(#filter-"+this.idCount+")",'filter="'+this.filterIdUrl+'" '}this.filterIdUrl=""}else if(""!==this.filterIdUrl)return'filter="'+this.filterIdUrl+'" ';return""}},{key:"getMultilineTextHeight",value:function(t){if(t.multiline&&"string"==typeof this.font&&(void 0===t.lineHeight||null===t.lineHeight)){var e=new RegExp("^\\s*(?:normal|italic|oblique)?s*(?:normal|small-caps)?\\s*(?:normal|bold|lighter|bolder|100|200|300|400|500|600|700|800|900)??\\s*(?:([0-9.]+)(px|pt|mm|cm|in|pc)?)(?:\\/(?:([0-9.]+|normal)(px|pt|mm|cm|in|em|%)?))?").exec(this.font);if(e){var r=Number(e[1]);switch(e[2]){case"pt":r=r/72*96;break;case"pc":r=r/72*96/12;break;case"mm":r=r/25.4*96;break;case"cm":r=r/25.4*96*100;break;case"in":r*=96}var n=r;if(e[3])switch(n=Number(e[3])||1.3,e[4]){case"px":break;case"pt":n=n/72*96;break;case"pc":n=n/72*96/12;break;case"mm":n=n/25.4*96;break;case"cm":n=n/25.4*96*100;break;case"in":n*=96;break;case"%":n=n/100*r;break;default:n*=r}t.lineHeight=n}}return t}},{key:"getTextAttributes",value:function(t){var e=void 0;switch(this.textAlign){case"left":e="start";break;case"right":e="end";break;case"center":e="middle";break;default:e=this.textAlign}var r=void 0;switch(this.textBaseline){case"top":r="text-before-edge";break;case"bottom":r="text-after-edge";break;default:r=this.textBaseline}var n=' style="font:'+s.Escape.xml(this.font)+';" text-anchor="'+e+'" dominant-baseline="'+r+'"';if(void 0===t||null===t)return n;if("number"==typeof t)return n+=' textLength="'+t+'"';var i=this.getMultilineTextHeight(t);return void 0!==i.textLength&&null!==i.textLength&&(n+=' textLength="'+i.textLength+'"'),void 0!==i.lengthAdjust&&null!==i.lengthAdjust&&(n+=' lengthAdjust="'+i.lengthAdjust+'"'),void 0!==i.rotate&&null!==i.rotate&&(n+=' rotate="'+i.rotate+'"'),void 0!==i.writingMode&&null!==i.writingMode&&(n+=' writing-mode="'+i.writingMode+'"'),void 0!==i.glyphOrientationVertical&&null!==i.glyphOrientationVertical&&(n+=' glyph-orientation-vertical="'+i.glyphOrientationVertical+'"'),void 0!==i.glyphOrientationHorizontal&&null!==i.glyphOrientationHorizontal&&(n+=' glyph-orientation-horizontal="'+i.glyphOrientationHorizontal+'"'),void 0!==i.direction&&null!==i.direction&&(n+=' direction="'+i.direction+'"'),void 0!==i.unicodeBidi&&null!==i.unicodeBidi&&(n+=' unicode-bidi="'+i.unicodeBidi+'"'),void 0!==i.textDecoration&&null!==i.textDecoration&&(n+=' text-decoration="'+i.textDecoration+'"'),void 0!==i.kerning&&null!==i.kerning&&(n+=' kerning="'+i.kerning+'"'),void 0!==i.letterSpacing&&null!==i.letterSpacing&&(n+=' letter-spacing="'+i.letterSpacing+'"'),void 0!==i.wordSpacing&&null!==i.wordSpacing&&(n+=' word-spacing="'+i.wordSpacing+'"'),n}},{key:"getTextPath",value:function(t){if(void 0!==t&&null!==t&&"object"===(void 0===t?"undefined":n(t))&&t.textPath){var e=this.ctm.getInverse(),r=[],i=!0,o=!1,a=void 0;try{for(var s,u=this.subpath[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;c instanceof h.Point2D?r.push(e.transfer(c)):r.push(c)}}catch(t){o=!0,a=t}finally{try{!i&&u.return&&u.return()}finally{if(o)throw a}}var f="path-"+ ++this.idCount;this.assets.push('<path id="'+f+'" d="'+l.WordWrap.loose(r.join(" "))+'" />\n'),this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null;var p={id:"#"+f};return void 0!==t.textPathOffset&&null!==t.textPathOffset&&(p.offset=t.textPathOffset),p}return null}},{key:"convertToMultiline",value:function(t,e,r,i){if(void 0!==i&&null!==i&&"object"===(void 0===i?"undefined":n(i))&&i.multiline&&!i.textPath){var o=i.lineHeight||12,a=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),l=s.Escape.xml(a).split("\n");switch(i.writingMode){case"tb":case"tb-rl":return"<tspan>"+l.join('</tspan><tspan dx="'+-o+'" y="'+r+'">')+"</tspan>";default:return"<tspan>"+l.join('</tspan><tspan x="'+e+'" dy="'+o+'">')+"</tspan>"}}return'<tspan x="'+e+'" y="'+r+'">'+s.Escape.xml(t)+"</tspan>"}},{key:"stroke",value:function(){this.content+="<g "+this.getStrokeAttrs()+'fill="none"'+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<path d="'+l.WordWrap.loose(this.subpath.join(" "))+'" />\n</g>\n',this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null}},{key:"strokeRect",value:function(t,e,r,n){this.content+="<g "+this.getStrokeAttrs()+'fill="none"'+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<rect x="'+t+'" y="'+e+'" width="'+r+'" height="'+n+'" transform="matrix('+this.ctm.toString()+')" /></g>\n'}},{key:"strokeText",value:function(t,e,r,n){var i=this.getTextPath(n);this.content+="<g "+this.getStrokeAttrs()+'fill="none"'+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+">\n<text"+this.getTextAttributes(n)+' transform="matrix('+this.ctm.toString()+')" \n>'+(null!==i?'<textPath xlink:href="'+i.id+'"'+(void 0!==i.offset?' startOffset="'+i.offset+'"':"")+"\n>":"")+this.convertToMultiline(t,e,r,n)+(null!==i?"</textPath>":"")+"</text></g>\n"}},{key:"fill",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nonzero";this.content+='<g stroke="none" '+this.getFillAttrs(t)+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<path d="'+l.WordWrap.loose(this.subpath.join(" "))+'" />\n</g>\n',this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null}},{key:"fillRect",value:function(t,e,r,n){this.content+='<g stroke="none" '+this.getFillAttrs("nonzero")+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<rect x="'+t+'" y="'+e+'" width="'+r+'" height="'+n+'" transform="matrix('+this.ctm.toString()+')" /></g>\n'}},{key:"fillText",value:function(t,e,r,n){var i=this.getTextPath(n);this.content+='<g stroke="none" '+this.getFillAttrs("nonzero")+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+">\n<text"+this.getTextAttributes(n)+' transform="matrix('+this.ctm.toString()+')" \n>'+(null!==i?'<textPath xlink:href="'+i.id+'"'+(void 0!==i.offset?' startOffset="'+i.offset+'"':"")+"\n>":"")+this.convertToMultiline(t,e,r,n)+(null!==i?"</textPath>":"")+"</text></g>\n"}},{key:"fillStroke",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nonzero";this.content+="<g "+this.getFillAttrs(t)+this.getStrokeAttrs()+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<path d="'+l.WordWrap.loose(this.subpath.join(" "))+'" />\n</g>\n',this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null}},{key:"fillStrokeRect",value:function(t,e,r,n){this.content+="<g "+this.getFillAttrs("nonzero")+this.getStrokeAttrs()+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+'>\n<rect x="'+t+'" y="'+e+'" width="'+r+'" height="'+n+'" transform="matrix('+this.ctm.toString()+')" /></g>\n'}},{key:"fillStrokeText",value:function(t,e,r,n){var i=this.getTextPath(n);this.content+="<g "+this.getFillAttrs("nonzero")+this.getStrokeAttrs()+this.getFilterAttrs()+(this.clipPath.length>0?'clip-path="'+this.clipPath+'" ':"")+">\n<text"+this.getTextAttributes(n)+' transform="matrix('+this.ctm.toString()+')" \n>'+(null!==i?'<textPath xlink:href="'+i.id+'"'+(void 0!==i.offset?' startOffset="'+i.offset+'"':"")+"\n>":"")+this.convertToMultiline(t,e,r,n)+(null!==i?"</textPath>":"")+"</text></g>\n"}},{key:"getLineDash",value:function(){return this.lineDash}},{key:"setLineDash",value:function(t){this.lineDash=t}},{key:"clip",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"nonzero",e='<clipPath id="clip-'+ ++this.idCount+'" fill-rule="'+t+'" ><path d="'+l.WordWrap.loose(this.subpath.join(" "))+'" /></clipPath>';this.assets.push(e),this.clipPath="url(#clip-"+this.idCount+")",this.subpath=[],this.currentPoint=null,this.currentPointOnCtm=null}},{key:"registerImage",value:function(t,e){var r=t=this.convertImageToSvgImageData(t),n=null===e||void 0===e?"img-"+ ++this.idCount+"_w"+r.width+"_h"+r.height:e,i='<image id="'+n+'" \nx="0" y="0" width="1" height="1" preserveAspectRatio="none" xlink:href="'+r.url+'" />';return this.assets.push(i),"#"+n}},{key:"registerCustomFilter",value:function(t,e){this.assets.push(e),this.filterIdUrl="url(#"+t+")"}},{key:"registerCustomAsset",value:function(t){this.assets.push(t)}},{key:"appendCustomContent",value:function(t){this.content+='<g transform="matrix('+this.ctm.toString()+')">'+t+"</g>\n"}},{key:"createLinearGradient",value:function(t,e,r,n){var i=new p("lgrad-"+ ++this.idCount,t,e,r,n);return this.assets.push(i),i}},{key:"createRadialGradient",value:function(t,e,r,n,i,o){var a=new d("rgrad-"+ ++this.idCount,t,e,r,n,i);return this.assets.push(a),a}},{key:"createPattern",value:function(t,e){var r=new g("pat-"+ ++this.idCount,this.convertImageToSvgImageData(t));return this.assets.push(r),r}},{key:"beginPattern",value:function(){this.contentSaved=this.content,this.content="";var t=new v;this.graphicsStack.push(t)}},{key:"endPattern",value:function(t,e,r,n){var i=++this.idCount,o='<pattern id="pat-'+i+'" patternUnits="userSpaceOnUse" patternContentUnits="userSpaceOnUse" x="'+t+'" y="'+e+'" width="'+r+'" height="'+n+'">\n'+this.content+"</pattern>";return this.assets.push(o),this.content=this.contentSaved,this.contentSaved="",this.restore(),"url(#pat-"+i+")"}},{key:"convertImageToSvgImageData",value:function(t){var e=void 0;if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement){var r=document.createElement("canvas");r.width=t.width,r.height=t.height;var n=r.getContext("2d");if(null===n)throw new Error("SvgCanvas#convertImageToSvgImageData: Can't get context from Canvas.");n.drawImage(t,0,0),e=new f(r.toDataURL(),0,0,r.width,r.height)}else e="undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement?new f(t.toDataURL(),0,0,t.width,t.height):t;return e}},{key:"drawImage",value:function(t,e,r,n,i){var o=void 0;if((o="string"==typeof t?new f(t,0,0,n,i):this.convertImageToSvgImageData(t)).url.startsWith("#")){var a=this.ctm.translate(e,r).scale(n,i);this.content+='<g><use x="0" y="0" transform="matrix('+a.toString()+')" \nxlink:href="'+o.url+'" /></g>\n'}else this.content+='<g><image x="'+e+'" y="'+r+'" width="'+n+'" height="'+i+'" preserveAspectRatio="none" transform="matrix('+this.ctm.toString()+')" \nxlink:href="'+o.url+'" /></g>\n'}},{key:"beginGroup",value:function(){this.content+="<g>"}},{key:"endGroup",value:function(){this.content+="</g>"}},{key:"globalAlpha",get:function(){return this.graphicsStack[this.graphicsStack.length-1].globalAlpha},set:function(t){this.graphicsStack[this.graphicsStack.length-1].globalAlpha=t}},{key:"globalCompositeOperation",get:function(){return this.graphicsStack[this.graphicsStack.length-1].globalCompositeOperation},set:function(t){this.filterIdUrl=null,this.graphicsStack[this.graphicsStack.length-1].globalCompositeOperation=t}},{key:"shadowBlur",get:function(){return this.graphicsStack[this.graphicsStack.length-1].shadowBlur},set:function(t){this.filterIdUrl=null,this.graphicsStack[this.graphicsStack.length-1].shadowBlur=t}},{key:"shadowColor",get:function(){return this.graphicsStack[this.graphicsStack.length-1].shadowColor},set:function(t){this.filterIdUrl=null,this.graphicsStack[this.graphicsStack.length-1].shadowColor=t}},{key:"shadowOffsetX",get:function(){return this.graphicsStack[this.graphicsStack.length-1].shadowOffsetX},set:function(t){this.filterIdUrl=null,this.graphicsStack[this.graphicsStack.length-1].shadowOffsetX=t}},{key:"shadowOffsetY",get:function(){return this.graphicsStack[this.graphicsStack.length-1].shadowOffsetY},set:function(t){this.filterIdUrl=null,this.graphicsStack[this.graphicsStack.length-1].shadowOffsetY=t}},{key:"filterIdUrl",get:function(){return this.graphicsStack[this.graphicsStack.length-1].filterIdUrl},set:function(t){this.graphicsStack[this.graphicsStack.length-1].filterIdUrl=t}},{key:"font",get:function(){return this.graphicsStack[this.graphicsStack.length-1].font},set:function(t){this.graphicsStack[this.graphicsStack.length-1].font=t}},{key:"textAlign",get:function(){return this.graphicsStack[this.graphicsStack.length-1].textAlign},set:function(t){this.graphicsStack[this.graphicsStack.length-1].textAlign=t}},{key:"textBaseline",get:function(){return this.graphicsStack[this.graphicsStack.length-1].textBaseline},set:function(t){this.graphicsStack[this.graphicsStack.length-1].textBaseline=t}},{key:"lineCap",get:function(){return this.graphicsStack[this.graphicsStack.length-1].lineCap},set:function(t){this.graphicsStack[this.graphicsStack.length-1].lineCap=t}},{key:"lineDashOffset",get:function(){return this.graphicsStack[this.graphicsStack.length-1].lineDashOffset},set:function(t){this.graphicsStack[this.graphicsStack.length-1].lineDashOffset=t}},{key:"lineJoin",get:function(){return this.graphicsStack[this.graphicsStack.length-1].lineJoin},set:function(t){this.graphicsStack[this.graphicsStack.length-1].lineJoin=t}},{key:"lineWidth",get:function(){return this.graphicsStack[this.graphicsStack.length-1].lineWidth},set:function(t){this.graphicsStack[this.graphicsStack.length-1].lineWidth=t}},{key:"miterLimit",get:function(){return this.graphicsStack[this.graphicsStack.length-1].miterLimit},set:function(t){this.graphicsStack[this.graphicsStack.length-1].miterLimit=t}},{key:"strokeStyle",get:function(){return this.graphicsStack[this.graphicsStack.length-1].strokeStyle},set:function(t){this.graphicsStack[this.graphicsStack.length-1].strokeStyle=t.toString()}},{key:"fillStyle",get:function(){return this.graphicsStack[this.graphicsStack.length-1].fillStyle},set:function(t){this.graphicsStack[this.graphicsStack.length-1].fillStyle=t.toString()}},{key:"ctm",get:function(){return this.graphicsStack[this.graphicsStack.length-1].ctm},set:function(t){this.graphicsStack[this.graphicsStack.length-1].ctm=t}},{key:"currentPoint",get:function(){return this.graphicsStack[this.graphicsStack.length-1].currentPoint},set:function(t){this.graphicsStack[this.graphicsStack.length-1].currentPoint=t}},{key:"currentPointOnCtm",get:function(){return this.graphicsStack[this.graphicsStack.length-1].currentPointOnCtm},set:function(t){this.graphicsStack[this.graphicsStack.length-1].currentPointOnCtm=t}},{key:"subpath",get:function(){return this.graphicsStack[this.graphicsStack.length-1].subpath},set:function(t){this.graphicsStack[this.graphicsStack.length-1].subpath=t}},{key:"lineDash",get:function(){return this.graphicsStack[this.graphicsStack.length-1].lineDash},set:function(t){this.graphicsStack[this.graphicsStack.length-1].lineDash=t}},{key:"clipPath",get:function(){return this.graphicsStack[this.graphicsStack.length-1].clipPath},set:function(t){this.graphicsStack[this.graphicsStack.length-1].clipPath=t}},{key:"subpathIsEmptyOrClosed",get:function(){return 0===this.subpath.length||"Z"===this.subpath[this.subpath.length-1]}}],[{key:"fromTemplate",value:function(e){var r=new t;return r.template=e,r.idCount=(new Date).getTime(),r}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SvgImposition=e.Text=e.textPropsDefault=e.SvgFragment=e.svgFragmentPropsDefault=e.SvgAssetFragment=e.svgAssetFragmentPropsDefault=e.RoundRect=e.roundRectPropsDefault=e.Rect=e.rectPropsDefault=e.Polygon=e.polygonPropsDefault=e.Pie=e.piePropsDefault=e.Path=e.pathPropsDefault=e.Line=e.linePropsDefault=e.Group=e.GridLine=e.gridLinePropsDefault=e.Curve=e.curvePropsDefault=e.Circle=e.circlePropsDefault=e.Canvas=e.canvasPropsDefault=e.Arc=e.arcPropsDefault=e.Ambient=e.ambientPropsDefault=e.Svg=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(3)),o=r(17),a=r(11),s=r(38),l=r(20),u=r(6);function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.Svg=function(t){function e(t){h(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return r.template=null,t.template&&(r.template=t.template),r}return f(e,i.RedAgatePhantomComponent),n(e,[{key:"defer",value:function(){var t=this;if(null!==this.template)return Promise.resolve();if(void 0===this.props.templateUrl||null===this.props.templateUrl||""===this.props.templateUrl)return Promise.resolve();var e=this.props.templateUrl;return new Promise(function(r,n){try{s.FileFetcher.fetchLocation(e).then(function(e){t.template=a.TextEncoding.decodeUtf8(e.data),r()}).catch(function(t){l.Logger.log("Svg#defer:catch:"+t),n(t)})}catch(t){l.Logger.log("Svg#defer:catch:"+t),n(t)}})}},{key:"toImgTag",value:function(){return(0,u.toImgTag)(this)}},{key:"toElementStyle",value:function(){return(0,u.toElementStyle)(this)}},{key:"toDataUrl",value:function(){return(0,u.toDataUrl)(this)}},{key:"toSvg",value:function(){return(0,u.toSvg)(this)}},{key:"toRendered",value:function(){return i.renderAsHtml_noDefer(this)}},{key:"beforeRender",value:function(t){this.setContext(t,u.CONTEXT_SVG_CANVAS,null===this.template?new o.SvgCanvas:o.SvgCanvas.fromTemplate(this.template))}},{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);return(0,u.renderSvgCanvas)(this.props,r,this.props.width,this.props.height)}},{key:"afterRender",value:function(t){this.unsetContext(t,u.CONTEXT_SVG_CANVAS)}}]),e}();var p=e.ambientPropsDefault=Object.assign({},u.shapePropsDefault,{}),d=(e.Ambient=function(t){function e(t){h(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},p,t)));return r.isAmbient=!0,r.isGroup=!1,r}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return""}}]),e}(),e.arcPropsDefault=Object.assign({},u.shapePropsDefault,{r:1,startDeg:0,endDeg:180,anticlockwise:!0})),g=(e.Arc=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},d,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return this.getContext(t,u.CONTEXT_SVG_CANVAS).arc(this.props.r,this.props.r,this.props.r,this.props.startDeg/180*Math.PI,this.props.endDeg/180*Math.PI,this.props.anticlockwise),""}}]),e}(),e.canvasPropsDefault=Object.assign({},u.shapePropsDefault,{})),v=(e.Canvas=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},g,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);return(Array.isArray(this.props.children)?this.props.children.find(function(t){return"function"==typeof t}):this.props.children)(r),""}}]),e}(),e.circlePropsDefault=Object.assign({},u.shapePropsDefault,{r:1,anticlockwise:!0})),y=(e.Circle=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},v,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);return r.arc(this.props.r,this.props.r,this.props.r,0,2*Math.PI,this.props.anticlockwise),r.closePath(),""}}]),e}(),e.curvePropsDefault=Object.assign({},u.shapePropsDefault,{move:!0,points:[]})),m=(e.Curve=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},y,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);this.props.move&&r.moveTo(this.props.points[0],this.props.points[1]);for(var n=this.props.move?2:0;n<this.props.points.length;n+=6)r.bezierCurveTo(this.props.points[n+0],this.props.points[n+1],this.props.points[n+2],this.props.points[n+3],this.props.points[n+4],this.props.points[n+5]);return""}}]),e}(),e.gridLinePropsDefault=Object.assign({},u.shapePropsDefault,{lineWidth:.1,fill:!1,stroke:!0,strokeColor:"#ccc",startX:0,endX:210,startY:0,endY:296,gridSize:5,bleed:13})),b=(e.GridLine=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},m,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){for(var r=this.props,n=this.getContext(t,u.CONTEXT_SVG_CANVAS),i=Math.ceil(r.bleed/r.gridSize)*r.gridSize,o=Math.ceil((r.endX-r.startX+r.bleed)/r.gridSize)*r.gridSize,a=Math.ceil((r.endY-r.startY+r.bleed)/r.gridSize)*r.gridSize,s=r.startX-i;s<=o;s+=r.gridSize)n.moveTo(r.startX+s,r.startY-i),n.lineTo(r.startX+s,r.startY+a);for(var l=r.startY-i;l<=a;l+=r.gridSize)n.moveTo(r.startX-i,r.startY+l),n.lineTo(r.startX+o,r.startY+l);return n.rect(r.startX||0,r.startY||0,r.endX-r.startX,r.endY-r.startY),""}}]),e}(),e.Group=function(t){function e(t){h(this,e);var r=c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},{},t)));return r.isAmbient=!0,r}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return""}}]),e}()),w=e.linePropsDefault=Object.assign({},u.shapePropsDefault,{move:!0,points:[]}),x=(e.Line=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},w,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);this.props.move&&r.moveTo(this.props.points[0],this.props.points[1]);for(var n=this.props.move?2:0;n<this.props.points.length;n+=2)r.lineTo(this.props.points[n],this.props.points[n+1]);return""}}]),e}(),e.pathPropsDefault=Object.assign({},u.shapePropsDefault,{close:!1,clip:!1,width:10,height:10,paths:[]})),k=(e.Path=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},x,t)))}return f(e,u.Shape),n(e,[{key:"beforeRender",value:function(t){this.setContext(t,u.CONTEXT_SVG_PATH,!0)}},{key:"render",value:function(t,e){return""}},{key:"afterRender",value:function(t){this.unsetContext(t,u.CONTEXT_SVG_PATH)}}]),e}(),e.piePropsDefault=Object.assign({},u.shapePropsDefault,{r:1,startDeg:0,endDeg:180,anticlockwise:!0})),_=(e.Pie=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},k,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);return r.moveTo(this.props.r,this.props.r),r.arc(this.props.r,this.props.r,this.props.r,this.props.startDeg/180*Math.PI,this.props.endDeg/180*Math.PI,this.props.anticlockwise),r.closePath(),""}}]),e}(),e.polygonPropsDefault=Object.assign({},u.shapePropsDefault,{points:[]})),S=(e.Polygon=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},_,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,u.CONTEXT_SVG_CANVAS);r.moveTo(this.props.points[0],this.props.points[1]);for(var n=2;n<this.props.points.length;n+=2)r.lineTo(this.props.points[n],this.props.points[n+1]);return r.closePath(),""}}]),e}(),e.rectPropsDefault=Object.assign({},u.shapePropsDefault,{width:10,height:10})),E=(e.Rect=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},S,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return this.getContext(t,u.CONTEXT_SVG_CANVAS).rect(0,0,this.props.width,this.props.height),""}}]),e}(),e.roundRectPropsDefault=Object.assign({},u.shapePropsDefault,{width:10,height:10,r:1})),O=(e.RoundRect=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},E,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return this.getContext(t,u.CONTEXT_SVG_CANVAS).roundRect(0,0,this.props.width,this.props.height,this.props.r),""}}]),e}(),e.svgAssetFragmentPropsDefault=Object.assign({},u.shapePropsDefault,{}),e.SvgAssetFragment=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},g,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return this.getContext(t,u.CONTEXT_SVG_CANVAS).registerCustomAsset(e),""}}]),e}(),e.svgFragmentPropsDefault=Object.assign({},u.shapePropsDefault,{}),e.SvgFragment=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},g,t)))}return f(e,u.Shape),n(e,[{key:"render",value:function(t,e){return this.getContext(t,u.CONTEXT_SVG_CANVAS).appendCustomContent(e),""}}]),e}(),e.textPropsDefault=Object.assign({},u.shapePropsDefault,{text:""}));e.Text=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},O,t)))}return f(e,u.Shape),n(e,[{key:"fillStrokeText",value:function(t){this.props.font&&(t.font=this.props.font),this.props.textAlign&&(t.textAlign=this.props.textAlign),this.props.textBaseline&&(t.textBaseline=this.props.textBaseline),this.props.fill&&this.props.stroke?t.fillStrokeText(this.props.text,0,0,this.props):this.props.fill?t.fillText(this.props.text,0,0,this.props):this.props.stroke&&t.strokeText(this.props.text,0,0,this.props)}},{key:"render",value:function(t,e){return""}},{key:"afterRender",value:function(t){var e=this.getContext(t,u.CONTEXT_SVG_CANVAS);this.isPathFragment||(this.fillStrokeText(e),this.restoreGraphicState(e))}}]),e}(),e.SvgImposition=function(t){function e(t){return h(this,e),c(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return f(e,i.RedAgateComponent),n(e,[{key:"transform",value:function(){for(var t=Array.isArray(this.props.children)?this.props.children.find(function(t){return"function"==typeof t}):this.props.children,e=[],r=Object.assign({},this.props.scope||{}),n=0;n<this.props.items.length;n++)e.push(i.createElement(b,{x:this.props.paperWidth/this.props.cols*(n%this.props.cols)+(Array.isArray(this.props.itemTranslation)?Array.isArray(this.props.itemTranslation[n])?this.props.itemTranslation[n][0]||0:this.props.itemTranslation[0]||0:0),y:this.props.paperHeight/this.props.rows*Math.floor(n/this.props.cols)+(Array.isArray(this.props.itemTranslation)?Array.isArray(this.props.itemTranslation[n])?this.props.itemTranslation[n][1]||0:this.props.itemTranslation[1]||0:0),scaleX:Array.isArray(this.props.itemScale)?Array.isArray(this.props.itemScale[n])?this.props.itemScale[n][0]||1:this.props.itemScale[0]||1:1,scaleY:Array.isArray(this.props.itemScale)?Array.isArray(this.props.itemScale[n])?this.props.itemScale[n][1]||1:this.props.itemScale[1]||1:1,rotationDeg:Array.isArray(this.props.itemRotationDeg)?this.props.itemRotationDeg[n]||0:this.props.itemRotationDeg||0},t(this.props.items[n],n,this.props.items,r)));return e}}]),e}()},function(t,e,r){"use strict";var n=r(88),i=r(86);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=b,e.resolve=function(t,e){return b(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?b(t,!1,!0).resolveObject(e):e},e.format=function(t){i.isString(t)&&(t=b(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(u),c=["%","/","?",";","#"].concat(h),f=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,d=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=r(85);function b(t,e,r){if(t&&i.isObject(t)&&t instanceof o)return t;var n=new o;return n.parse(t,e,r),n}o.prototype.parse=function(t,e,r){if(!i.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var o=t.indexOf("?"),s=-1!==o&&o<t.indexOf("#")?"?":"#",u=t.split(s);u[0]=u[0].replace(/\\/g,"/");var b=t=u.join(s);if(b=b.trim(),!r&&1===t.split("#").length){var w=l.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?m.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=a.exec(b);if(x){var k=(x=x[0]).toLowerCase();this.protocol=k,b=b.substr(x.length)}if(r||x||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var _="//"===b.substr(0,2);!_||x&&v[x]||(b=b.substr(2),this.slashes=!0)}if(!v[x]&&(_||x&&!y[x])){for(var S,E,O=-1,T=0;T<f.length;T++){-1!==(A=b.indexOf(f[T]))&&(-1===O||A<O)&&(O=A)}-1!==(E=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(S=b.slice(0,E),b=b.slice(E+1),this.auth=decodeURIComponent(S)),O=-1;for(T=0;T<c.length;T++){var A;-1!==(A=b.indexOf(c[T]))&&(-1===O||A<O)&&(O=A)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var C=this.hostname.split(/\./),M=(T=0,C.length);T<M;T++){var D=C[T];if(D&&!D.match(p)){for(var R="",j=0,L=D.length;j<L;j++)D.charCodeAt(j)>127?R+="x":R+=D[j];if(!R.match(p)){var N=C.slice(0,T),B=C.slice(T+1),I=D.match(d);I&&(N.push(I[1]),B.unshift(I[2])),B.length&&(b="/"+B.join(".")+b),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),P||(this.hostname=n.toASCII(this.hostname));var U=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+U,this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[k])for(T=0,M=h.length;T<M;T++){var W=h[T];if(-1!==b.indexOf(W)){var F=encodeURIComponent(W);F===W&&(F=escape(W)),b=b.split(W).join(F)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var G=b.indexOf("?");if(-1!==G?(this.search=b.substr(G),this.query=b.substr(G+1),e&&(this.query=m.parse(this.query)),b=b.slice(0,G)):e&&(this.search="",this.query={}),b&&(this.pathname=b),y[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var X=this.search||"";this.path=U+X}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,a="";this.host?o=t+this.host:this.hostname&&(o=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||y[e])&&!1!==o?(o="//"+(o||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):o||(o=""),n&&"#"!==n.charAt(0)&&(n="#"+n),s&&"?"!==s.charAt(0)&&(s="?"+s),e+o+(r=r.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(s=s.replace("#","%23"))+n},o.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(i.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var r=new o,n=Object.keys(this),a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}if(r.hash=t.hash,""===t.href)return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var l=Object.keys(t),u=0;u<l.length;u++){var h=l[u];"protocol"!==h&&(r[h]=t[h])}return y[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!y[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var p=c[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||v[t.protocol])r.pathname=t.pathname;else{for(var d=(t.pathname||"").split("/");d.length&&!(t.host=d.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var g=r.pathname||"",m=r.search||"";r.path=g+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&"/"===r.pathname.charAt(0),w=t.host||t.pathname&&"/"===t.pathname.charAt(0),x=w||b||r.host&&t.pathname,k=x,_=r.pathname&&r.pathname.split("/")||[],S=(d=t.pathname&&t.pathname.split("/")||[],r.protocol&&!y[r.protocol]);if(S&&(r.hostname="",r.port=null,r.host&&(""===_[0]?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===d[0]?d[0]=t.host:d.unshift(t.host)),t.host=null),x=x&&(""===d[0]||""===_[0])),w)r.host=t.host||""===t.host?t.host:r.host,r.hostname=t.hostname||""===t.hostname?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=d;else if(d.length)_||(_=[]),_.pop(),_=_.concat(d),r.search=t.search,r.query=t.query;else if(!i.isNullOrUndefined(t.search)){if(S)r.hostname=r.host=_.shift(),(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift());return r.search=t.search,r.query=t.query,i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var E=_.slice(-1)[0],O=(r.host||t.host||_.length>1)&&("."===E||".."===E)||""===E,T=0,A=_.length;A>=0;A--)"."===(E=_[A])?_.splice(A,1):".."===E?(_.splice(A,1),T++):T&&(_.splice(A,1),T--);if(!x&&!k)for(;T--;T)_.unshift("..");!x||""===_[0]||_[0]&&"/"===_[0].charAt(0)||_.unshift(""),O&&"/"!==_.join("/").substr(-1)&&_.push("");var P,C=""===_[0]||_[0]&&"/"===_[0].charAt(0);S&&(r.hostname=r.host=C?"":_.length?_.shift():"",(P=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=P.shift(),r.host=r.hostname=P.shift()));return(x=x||r.host&&_.length)&&!C&&_.unshift(""),_.length?r.pathname=_.join("/"):(r.pathname=null,r.path=null),i.isNull(r.pathname)&&i.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},o.prototype.parseHost=function(){var t=this.host,e=s.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var o=e.LoggerLogLevel=void 0;!function(t){t[t.NO_LOG=0]="NO_LOG",t[t.ERROR=1]="ERROR",t[t.PRODUCTION=1]="PRODUCTION",t[t.ASSERT=2]="ASSERT",t[t.WARN=3]="WARN",t[t.STAGING=3]="STAGING",t[t.INFO=4]="INFO",t[t.LOG=5]="LOG",t[t.DEVELOPMENT=5]="DEVELOPMENT",t[t.TRACE=6]="TRACE",t[t.DEBUG=6]="DEBUG",t[t.VERBOSE=6]="VERBOSE"}(o||(e.LoggerLogLevel=o={}));var a=e.Logger=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"assert",value:function(e,r){if(this.logLevel<=o.PRODUCTION)return this;var n=!1;try{n=Boolean(e)}catch(t){n=!1}if(!n){try{for(var i,a=arguments.length,s=Array(a>2?a-2:0),l=2;l<a;l++)s[l-2]=arguments[l];(i=t.con).assert.apply(i,[e,r].concat(s))}catch(t){if(this.logLevel<=o.STAGING)throw t}if(this.logLevel<=o.STAGING){var u="";try{u=String(r)}catch(t){}throw new Error("Assertion failed:"+u)}}return this}},{key:"dir",value:function(e){if(this.logLevel<=o.DEBUG)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).dir.apply(r,[e].concat(i))}catch(t){}return this}},{key:"error",value:function(e){if(this.logLevel<o.ERROR)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).error.apply(r,[e].concat(i))}catch(t){}return this}},{key:"info",value:function(e){if(this.logLevel<o.INFO)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).info.apply(r,[e].concat(i))}catch(t){}return this}},{key:"log",value:function(e){if(this.logLevel<o.LOG)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).log.apply(r,[e].concat(i))}catch(t){}return this}},{key:"time",value:function(e){if(this.logLevel<=o.DEBUG)return this;try{t.con.time(e)}catch(t){}return this}},{key:"timeEnd",value:function(e){if(this.logLevel<=o.DEBUG)return this;try{t.con.timeEnd(e)}catch(t){}return this}},{key:"trace",value:function(e){if(this.logLevel<o.TRACE)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).trace.apply(r,[e].concat(i))}catch(t){}return this}},{key:"warn",value:function(e){if(this.logLevel<o.WARN)return this;try{for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=t.con).warn.apply(r,[e].concat(i))}catch(t){}return this}}]),t}();a.__ctor=(a.isNode=!1,"object"===("undefined"==typeof process?"undefined":n(process))&&"object"===n(process.versions)&&void 0!==process.versions.node&&(void 0!==process.type&&"renderer"===process.type||(a.isNode=!0)),void(a.isNode?(a.con=new console.Console(process.stderr),a.logLevel=o.PRODUCTION):(a.con=console,a.logLevel=o.DEVELOPMENT)))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BitStreamWriter=e.StreamSeekOrigin=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(15);var o=e.StreamSeekOrigin=void 0;!function(t){t[t.Start=0]="Start",t[t.Current=1]="Current",t[t.End=2]="End"}(o||(e.StreamSeekOrigin=o={}));e.BitStreamWriter=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.pos=0,r?(this.data=r,this.pos=8*r.length):this.data=new Uint8Array(e)}return n(t,[{key:"writeBits8",value:function(t,e){if(0<e){var r=Math.floor(this.pos/8),n=this.pos%8,i=t&255>>>8-e,o=8-n-e;this.data[r]&=255<<8-n,o>=0?this.data[r]|=i<<o:(this.data[r]|=i>>>-o,this.data[r+1]&=255>>>-o,this.data[r+1]|=i<<8+o),this.pos+=e}return this}},{key:"writeBits",value:function(t,e){if(0<e){var r=Math.floor(this.pos/8),n=this.pos%8,o=e,a=o%8||8,s=i.Integer53.slice(t,o-a,o),l=8-n-a;if(this.data[r]&=255<<8-n,l>=0?(this.data[r]|=s<<l,0===l&&(r+=1)):(this.data[r]|=s>>>-l,this.data[r+1]&=255>>>-l,this.data[r+1]|=s<<8+l,r+=1),o-=a,0===(n=(n+a)%8))for(;0<o;o-=8,r++)this.data[r]=i.Integer53.slice(t,o-8,o);else for(;0<o;o-=8,r++){var u=i.Integer53.slice(t,o-8,o);this.data[r]&=255<<8-n,this.data[r]|=u>>>n,this.data[r+1]&=255>>>n,this.data[r+1]|=u<<8-n}this.pos+=e}return this}},{key:"writeBitsFromArray",value:function(t,e,r){if(0<r)if(e%8==0){var n=e/8,i=Math.floor(r/8),o=r%8,a=0;if(this.pos%8==0){var s=this.pos/8;if(0<i)for(;a<i;a++)this.data[s+a]=t[n+a];o&&(this.data[s+a]&=255>>>o,this.data[s+a]|=t[n+a]>>>8-o<<8-o),this.pos+=r}else{if(0<i)for(;a<i;a++)this.writeBits8(t[n+a],8);this.writeBits8(t[n+a]>>>8-o,o)}}else{var l=Math.floor(e/8),u=Math.floor((e+r)/8),h=e%8,c=(e+r)%8;if(l===u)this.writeBits8(t[u]>>>8-c,r);else{this.writeBits8(t[l],8-h);for(var f=l+1;f<u;f++)this.writeBits8(t[f],8);this.writeBits8(t[u]>>>8-c,c)}}return this}},{key:"seek",value:function(t,e){switch(e){case o.Start:this.pos=t;break;case o.Current:this.pos+=t;break;case o.End:this.pos=8*this.data.length+t}return this}},{key:"resize",value:function(t){if(this.data.length>t)this.data=this.data.subarray(0,t),this.pos=Math.min(this.pos,8*t);else if(this.data.length<t){var e=new Uint8Array(t);e.set(this.data,0),this.data=e}return this}},{key:"writeAlignedSingleByte",value:function(t){var e=Math.ceil(this.pos/8);return this.data[e]=255&t,this.pos=8*(e+1),this}},{key:"writeAlignedBytes",value:function(t,e,r){for(var n=Math.ceil(this.pos/8),i=0;i<r;i++)this.data[n+i]=t[e+i];return this.pos=8*(n+r),this}},{key:"toBytes",value:function(){return this.data.subarray(0,this.byteLength)}},{key:"slice",value:function(e,r){r<0&&(r=this.pos+r);var n=new t(Math.ceil((r-e)/8));return n.writeBitsFromArray(this.data,e,r-e),n}},{key:"setBit",value:function(t,e){var r=Math.floor(t/8),n=t%8;this.data[r]=this.data[r]&~(128>>>n)|(e?128:0)>>>n}},{key:"getBit",value:function(t){var e=Math.floor(t/8),r=t%8;return this.data[e]&128>>>r?1:0}},{key:"setByte",value:function(t,e){this.data[t]=e}},{key:"getByte",value:function(t){return this.data[t]}},{key:"concat",value:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.concat.apply(t,[this].concat(r))}},{key:"byteLength",get:function(){return Math.ceil(this.pos/8)}},{key:"bitLength",get:function(){return this.pos}}],[{key:"fromBytes",value:function(e,r){var n=new t(e),i=n.byteLength,o=n.data;if(i<r.length)if(r instanceof Uint8Array)n.data.set(r.subarray(0,i));else for(var a=0;a<i;a++)o[a]=r[a];else n.data.set(r);return n.pos=8*r.length,n}},{key:"concat",value:function(){for(var e=0,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){e+=l.value.bitLength}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}for(var h=new t(Math.ceil(e/8)),c=0;c<n.length;c++)h.writeBitsFromArray(n[c].data,0,n[c].bitLength);return h}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.Equation=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ring=e}return n(t,[{key:"solve",value:function(t,e,r,n){for(var i=this,o=this.ring.field,a=function(e){var r=i.ring.getAt(t[e],n-e);if(o.eq(r,o.ZERO)){for(var a=e+1;a<n;a++)if(o.noteq(i.ring.getAt(t[a],n-e),o.ZERO)){var s=t[e];t[e]=t[a],t[a]=s;break}r=i.ring.getAt(t[e],n-e)}if(o.eq(r,o.ZERO))return"continue";t[e]=i.ring.mapToSelf(t[e],function(t){return o.div(t,r)});for(var l=function(r){var a=i.ring.getAt(t[r],n-e),s=i.ring.map(t[e],function(t){return o.mul(t,a)});t[r]=i.ring.sub(t[r],s)},u=e+1;u<n;u++)l(u)},s=0;s<n;s++)a(s);for(s=n-1;s>=0;s--){var l=this.ring.getAt(t[s],n-s);if(!o.eq(l,o.ZERO))for(var u=function(e){var r=i.ring.getAt(t[e],n-s),a=i.ring.map(t[s],function(t){return o.mul(t,r)});t[e]=i.ring.sub(t[e],a)},h=0;h<s;h++)u(h)}for(var c=this.ring.newNthPolynomial(n-1),f=0;f<n;f++)o.eq(this.ring.getAt(t[f],n-f),o.ZERO)?this.ring.setAt(c,n-1-f,o.NaN):this.ring.setAt(c,n-1-f,o.neg(this.ring.getAt(t[f],0)));return c}},{key:"det",value:function(t,e,r,n){var i=this,o=this.ring.field;if(n<=0)return o.NaN;var a=function t(e,r){if(r<2)return i.ring.getAt(e[0],0);if(2===r)return o.sub(o.mul(i.ring.getAt(e[0],1),i.ring.getAt(e[1],0)),o.mul(i.ring.getAt(e[1],1),i.ring.getAt(e[0],0)));for(var n=o.ZERO,a=0;a<r;a++){for(var s=[],l=0;l<r;l++)a!==l&&s.push(i.ring.slice(e[l],0,r-1));var u=(r-1+r-a)%2?1:-1,h=t(s,r-1);n=o.add(n,o.mul(i.ring.getAt(e[a],r-1),u>=0?h:o.neg(h)))}return n};if(0===e)return a(0===r?t:t.slice(r),n);for(var s=[],l=0;l<n;l++)s.push(this.ring.slice(t[r+l],e,e+n));return a(s,n)}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=e.ArrayPolynomialRing=function(){function t(e){i(this,t),this.field=e,this._zero=[e.ZERO],this._one=[e.ONE],this._nan=[e.NaN]}return n(t,[{key:"listPx",value:function(t){throw new Error("not supported operation")}},{key:"getAt",value:function(t,e){return t[e]}},{key:"setAt",value:function(t,e,r){return t[e]=r,t}},{key:"slice",value:function(t,e,r){return t.slice(e,r)}},{key:"map",value:function(t,e){return this.mapToSelf(Array.from(t),e)}},{key:"mapToSelf",value:function(t,e){for(var r=0;r<t.length;r++)t[r]=e(t[r]);return t}},{key:"newNthPolynomial",value:function(t){var e=[];return e.length=t+1,e.fill(this.field.ZERO),e}},{key:"normalize",value:function(t){var e=this;return(Array.isArray(t)?t:Array.from(t)).map(function(t){return e.field.normalize(t)})}},{key:"isNaN",value:function(t){return t===this.NaN||1===t.length&&t[0]===this.field.NaN}},{key:"eq",value:function(t,e){if(this.isNaN(t)||this.isNaN(e))return!1;for(var r=this.field.ZERO,n=Math.max(t.length,e.length),i=0;i<n;i++)if(!this.field.eq(void 0!==t[i]?t[i]:r,void 0!==e[i]?e[i]:r))return!1;return!0}},{key:"noteq",value:function(t,e){return!this.eq(t,e)}},{key:"neg",value:function(t){for(var e=[],r=0;r<t.length;r++)e[r]=this.field.neg(t[r]);return e}},{key:"add",value:function(t,e){var r=[],n=this.field.ZERO;r.length=Math.max(t.length,e.length);for(var i=0;i<r.length;i++)r[i]=this.field.add(void 0!==t[i]?t[i]:n,void 0!==e[i]?e[i]:n);return r}},{key:"sub",value:function(t,e){var r=[],n=this.field.ZERO;r.length=Math.max(t.length,e.length);for(var i=0;i<r.length;i++)r[i]=this.field.sub(void 0!==t[i]?t[i]:n,void 0!==e[i]?e[i]:n);return r}},{key:"mul",value:function(t,e){var r=[],n=this.field.ZERO;r.length=t.length+e.length-1;for(var i=0;i<r.length;i++)r[i]=n;for(var o=0;o<e.length;o++)for(var a=0;a<t.length;a++)r[a+o]=this.field.add(r[a+o],this.field.mul(t[a],e[o]));return r}},{key:"mod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.divmod(t,e,r).r}},{key:"divmod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t=Array.from(t);var n=this.field.ZERO;if(r>0){var i=[];i.length=r;for(var o=0;o<r;o++)i[o]=n;t=i.concat(t)}for(var a=e.length,s=0;s<a&&(void 0===e[a-1]||!this.field.noteq(e[a-1],n));s++,a--);if(0===a)return{q:this.NaN,r:this.NaN,divisible:!1};var l=t.length-a+1,u=[];u.length=l;for(var h=0;h<l;h++)if(this.field.noteq(t[t.length-1-h],n)){var c=this.field.divmod(t[t.length-1-h],e[a-1]);u[l-1-h]=c.q;for(var f=0;f<a-1;f++)t[l-1-h+f]=this.field.sub(t[l-1-h+f],this.field.mul(e[f],c.q));t[t.length-1-h]=c.r}else t[t.length-1-h]=n;var p=!0,d=[];d.length=a-1;for(var g=0;g<d.length;g++)t[g]&&(p=!1),d[g]=t[g];return{q:u,r:d,divisible:p}}},{key:"pow",value:function(t,e){throw new Error("not supported operation")}},{key:"exp",value:function(t){throw new Error("not supported operation")}},{key:"ZERO",get:function(){return Array.from(this._zero)}},{key:"ONE",get:function(){return Array.from(this._one)}},{key:"NaN",get:function(){return this._nan}}]),t}();e.NumberArrayPolynomialRing=function(t){function e(){return i(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=e.Gf2Ext=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:285;a(this,t),this.nth=e,this.px=r,this.expDict=[],this.lnDict=[this.NaN];var n=1;this.numElements=Math.pow(2,e),this.mask=this.numElements-1,this.expDict.length=this.mask,this.lnDict.length=this.numElements;for(var i=0;i<this.mask;i++)this.expDict[i]=n,this.lnDict[n]=i,(n*=2)>this.mask&&(n=((n^r)&this.mask)>>>0)}return n(t,[{key:"bitMask",value:function(t){var e=(4294967295&(t=Math.abs(t)))>>>0;return 4294967296*(((t-e)/4294967296&this.maskHi)>>>0)+((e&this.maskLo)>>>0)}},{key:"checkGenerationResult",value:function(){for(var t=1;t<this.numElements;t++)if(void 0===this.lnDict[t])return!1;return!0}},{key:"normalize",value:function(t){return(t&this.mask)>>>0}},{key:"isNaN",value:function(t){return Number.isNaN(t)}},{key:"eq",value:function(t,e){return(t&this.mask)>>>0==(e&this.mask)>>>0}},{key:"noteq",value:function(t,e){return(t&this.mask)>>>0!=(e&this.mask)>>>0}},{key:"neg",value:function(t){return(t&this.mask)>>>0}},{key:"inv",value:function(t){return 0===(t=(t&this.mask)>>>0)?this.NaN:this.expDict[(this.mask-this.lnDict[t])%this.mask]}},{key:"add",value:function(t,e){return((t^e)&this.mask)>>>0}},{key:"sub",value:function(t,e){return((t^e)&this.mask)>>>0}},{key:"mul",value:function(t,e){return t=(t&this.mask)>>>0,e=(e&this.mask)>>>0,0===t||0===e?0:this.expDict[(this.lnDict[t]+this.lnDict[e])%this.mask]}},{key:"div",value:function(t,e){return t=(t&this.mask)>>>0,0===(e=(e&this.mask)>>>0)?this.NaN:0===t?0:this.expDict[(this.lnDict[t]+(this.mask-this.lnDict[e])%this.mask)%this.mask]}},{key:"mod",value:function(t,e){return(e&this.mask)>>>0==0?this.NaN:0}},{key:"divmod",value:function(t,e){return(e&this.mask)>>>0==0?{q:this.NaN,r:this.NaN,divisible:!1}:{q:this.div(t,e),r:0,divisible:!0}}},{key:"pow",value:function(t,e){return t=this.normalize(t),e%=this.mask,0===t?0===e?1:0:e>=0?this.exp(this.ln(t)*e):this.inv(this.exp(this.ln(t)*-e))}},{key:"log",value:function(t,e){for(var r=[this.NaN],n=0;n<this.mask;n++){var i=this.pow(t,n);void 0===r[i]&&(r[i]=n)}var o=r[(e&this.mask)>>>0];return void 0!==o?o:this.NaN}},{key:"exp",value:function(t){return t>=0?this.expDict[t%this.mask]:this.inv(this.expDict[-t%this.mask])}},{key:"ln",value:function(t){return this.lnDict[(t&this.mask)>>>0]}},{key:"MODULO",get:function(){return this.numElements}},{key:"ZERO",get:function(){return 0}},{key:"ONE",get:function(){return 1}},{key:"ALPHA",get:function(){return 2}},{key:"NaN",get:function(){return Number.NaN}}]),t}();e.Gf2e8Field=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:285;return a(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,8,t))}return o(e,s),e}(),e.Gf2e6Field=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:67;return a(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,6,t))}return o(e,s),e}()},function(t,e,r){"use strict";t.exports=o;var n=r(2),i=r(5);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t),this._transformState={afterTransform:function(t,e){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(!n)return this.emit("error",new Error("write callback called multiple times"));r.writechunk=null,r.writecb=null,null!=e&&this.push(e),n(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"==typeof t.transform&&(this._transform=t.transform),"function"==typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",a)}function a(){var t=this;"function"==typeof this._flush?this._flush(function(e,r){s(t,e,r)}):s(this,null,null)}function s(t,e,r){if(e)return t.emit("error",e);if(null!=r&&t.push(r),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}i.inherits=r(0),i.inherits(o,n),o.prototype.push=function(t,e){return this._transformState.needTransform=!1,n.prototype.push.call(this,t,e)},o.prototype._transform=function(t,e,r){throw new Error("_transform() is not implemented")},o.prototype._write=function(t,e,r){var n=this._transformState;if(n.writecb=r,n.writechunk=t,n.writeencoding=e,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},o.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},o.prototype._destroy=function(t,e){var r=this;n.prototype._destroy.call(this,t,function(t){e(t),r.emit("close")})}},function(t,e,r){"use strict";var n=r(9).Buffer,i=n.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(t){var e;switch(this.encoding=function(t){var e=function(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}(t);if("string"!=typeof e&&(n.isEncoding===i||!i(t)))throw new Error("Unknown encoding: "+t);return e||t}(t),this.encoding){case"utf16le":this.text=l,this.end=u,e=4;break;case"utf8":this.fillLast=s,e=4;break;case"base64":this.text=h,this.end=c,e=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(e)}function a(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function s(t){var e=this.lastTotal-this.lastNeed,r=function(t,e,r){if(128!=(192&e[0]))return t.lastNeed=0,"�";if(t.lastNeed>1&&e.length>1){if(128!=(192&e[1]))return t.lastNeed=1,"�";if(t.lastNeed>2&&e.length>2&&128!=(192&e[2]))return t.lastNeed=2,"�"}}(this,t);return void 0!==r?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function l(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function u(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function h(t,e){var r=(t.length-e)%3;return 0===r?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function c(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(t){return t.toString(this.encoding)}function p(t){return t&&t.length?this.write(t):""}e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,r;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},o.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},o.prototype.text=function(t,e){var r=function(t,e,r){var n=e.length-1;if(n<r)return 0;var i=a(e[n]);if(i>=0)return i>0&&(t.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(t.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if((i=a(e[n]))>=0)return i>0&&(2===i?i=0:t.lastNeed=i-3),i;return 0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,r){"use strict";var n=r(10);function i(t){var e=this;this.next=null,this.entry=null,this.finish=function(){!function(t,e,r){var n=t.entry;t.entry=null;for(;n;){var i=n.callback;e.pendingcb--,i(r),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}(e,t)}}t.exports=v;var o,a=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:n.nextTick;v.WritableState=g;var s=r(5);s.inherits=r(0);var l={deprecate:r(93)},u=r(30),h=r(9).Buffer,c=global.Uint8Array||function(){};var f,p=r(28);function d(){}function g(t,e){o=o||r(2),t=t||{};var s=e instanceof o;this.objectMode=!!t.objectMode,s&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var l=t.highWaterMark,u=t.writableHighWaterMark,h=this.objectMode?16:16384;this.highWaterMark=l||0===l?l:s&&(u||0===u)?u:h,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var c=!1===t.decodeStrings;this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){!function(t,e){var r=t._writableState,i=r.sync,o=r.writecb;if(function(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}(r),e)!function(t,e,r,i,o){--e.pendingcb,r?(n.nextTick(o,i),n.nextTick(k,t,e),t._writableState.errorEmitted=!0,t.emit("error",i)):(o(i),t._writableState.errorEmitted=!0,t.emit("error",i),k(t,e))}(t,r,i,e,o);else{var s=w(r);s||r.corked||r.bufferProcessing||!r.bufferedRequest||b(t,r),i?a(m,t,r,s,o):m(t,r,s,o)}}(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}function v(t){if(o=o||r(2),!(f.call(v,this)||this instanceof o))return new v(t);this._writableState=new g(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function y(t,e,r,n,i,o,a){e.writelen=n,e.writecb=a,e.writing=!0,e.sync=!0,r?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function m(t,e,r,n){r||function(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}(t,e),e.pendingcb--,n(),k(t,e)}function b(t,e){e.bufferProcessing=!0;var r=e.bufferedRequest;if(t._writev&&r&&r.next){var n=e.bufferedRequestCount,o=new Array(n),a=e.corkedRequestsFree;a.entry=r;for(var s=0,l=!0;r;)o[s]=r,r.isBuf||(l=!1),r=r.next,s+=1;o.allBuffers=l,y(t,e,!0,e.length,o,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new i(e),e.bufferedRequestCount=0}else{for(;r;){var u=r.chunk,h=r.encoding,c=r.callback;if(y(t,e,!1,e.objectMode?1:u.length,u,h,c),r=r.next,e.bufferedRequestCount--,e.writing)break}null===r&&(e.lastBufferedRequest=null)}e.bufferedRequest=r,e.bufferProcessing=!1}function w(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function x(t,e){t._final(function(r){e.pendingcb--,r&&t.emit("error",r),e.prefinished=!0,t.emit("prefinish"),k(t,e)})}function k(t,e){var r=w(e);return r&&(!function(t,e){e.prefinished||e.finalCalled||("function"==typeof t._final?(e.pendingcb++,e.finalCalled=!0,n.nextTick(x,t,e)):(e.prefinished=!0,t.emit("prefinish")))}(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),r}s.inherits(v,u),g.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(g.prototype,"buffer",{get:l.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(v,Symbol.hasInstance,{value:function(t){return!!f.call(this,t)||this===v&&(t&&t._writableState instanceof g)}})):f=function(t){return t instanceof this},v.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},v.prototype.write=function(t,e,r){var i,o=this._writableState,a=!1,s=!o.objectMode&&(i=t,h.isBuffer(i)||i instanceof c);return s&&!h.isBuffer(t)&&(t=function(t){return h.from(t)}(t)),"function"==typeof e&&(r=e,e=null),s?e="buffer":e||(e=o.defaultEncoding),"function"!=typeof r&&(r=d),o.ended?function(t,e){var r=new Error("write after end");t.emit("error",r),n.nextTick(e,r)}(this,r):(s||function(t,e,r,i){var o=!0,a=!1;return null===r?a=new TypeError("May not write null values to stream"):"string"==typeof r||void 0===r||e.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(t.emit("error",a),n.nextTick(i,a),o=!1),o}(this,o,t,r))&&(o.pendingcb++,a=function(t,e,r,n,i,o){if(!r){var a=function(t,e,r){t.objectMode||!1===t.decodeStrings||"string"!=typeof e||(e=h.from(e,r));return e}(e,n,i);n!==a&&(r=!0,i="buffer",n=a)}var s=e.objectMode?1:n.length;e.length+=s;var l=e.length<e.highWaterMark;l||(e.needDrain=!0);if(e.writing||e.corked){var u=e.lastBufferedRequest;e.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},u?u.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,n,i,o);return l}(this,o,s,t,e,r)),a},v.prototype.cork=function(){this._writableState.corked++},v.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||b(this,t))},v.prototype.setDefaultEncoding=function(t){if("string"==typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(v.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),v.prototype._write=function(t,e,r){r(new Error("_write() is not implemented"))},v.prototype._writev=null,v.prototype.end=function(t,e,r){var i=this._writableState;"function"==typeof t?(r=t,t=null,e=null):"function"==typeof e&&(r=e,e=null),null!==t&&void 0!==t&&this.write(t,e),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||function(t,e,r){e.ending=!0,k(t,e),r&&(e.finished?n.nextTick(r):t.once("finish",r));e.ended=!0,t.writable=!1}(this,i,r)},Object.defineProperty(v.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),v.prototype.destroy=p.destroy,v.prototype._undestroy=p.undestroy,v.prototype._destroy=function(t,e){this.end(),e(t)}},function(t,e,r){"use strict";var n=r(10);function i(t,e){t.emit("error",e)}t.exports={destroy:function(t,e){var r=this,o=this._readableState&&this._readableState.destroyed,a=this._writableState&&this._writableState.destroyed;return o||a?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||n.nextTick(i,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(n.nextTick(i,r,t),r._writableState&&(r._writableState.errorEmitted=!0)):e&&e(t)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(t,e,r){"use strict";
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var n=r(98),i=r(97),o=r(32);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=l.prototype:(null===t&&(t=new l(e)),t.length=e),t}function l(t,e,r){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);l.TYPED_ARRAY_SUPPORT?(t=e).__proto__=l.prototype:t=f(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!l.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),i=(t=s(t,n)).write(e,r);i!==n&&(t=t.slice(0,i));return t}(t,e,r):function(t,e){if(l.isBuffer(e)){var r=0|p(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(n=e.length)!=n?s(t,0):f(t,e);if("Buffer"===e.type&&o(e.data))return f(t,e.data)}var n;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function h(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function c(t,e){if(h(e),t=s(t,e<0?0:0|p(e)),!l.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function f(t,e){var r=e.length<0?0:0|p(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function p(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(l.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(t).length;default:if(n)return H(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function v(t,e,r,n,i){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof e&&(e=l.from(e,n)),l.isBuffer(e))return 0===e.length?-1:y(t,e,r,n,i);if("number"==typeof e)return e&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):y(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function y(t,e,r,n,i){var o,a=1,s=t.length,l=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,l/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(i){var h=-1;for(o=r;o<s;o++)if(u(t,o)===u(e,-1===h?0:o-h)){if(-1===h&&(h=o),o-h+1===l)return h*a}else-1!==h&&(o-=o-h),h=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,f=0;f<l;f++)if(u(t,o+f)!==u(e,f)){c=!1;break}if(c)return o}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function b(t,e,r,n){return F(H(e,t.length-r),t,r,n)}function w(t,e,r,n){return F(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return w(t,e,r,n)}function k(t,e,r,n){return F(W(e),t,r,n)}function _(t,e,r,n){return F(function(t,e){for(var r,n,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(e,t.length-r),t,r,n)}function S(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function E(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var o,a,s,l,u=t[i],h=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(h=u);break;case 2:128==(192&(o=t[i+1]))&&(l=(31&u)<<6|63&o)>127&&(h=l);break;case 3:o=t[i+1],a=t[i+2],128==(192&o)&&128==(192&a)&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(h=l);break;case 4:o=t[i+1],a=t[i+2],s=t[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(h=l)}null===h?(h=65533,c=1):h>65535&&(h-=65536,n.push(h>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=c}return function(t){var e=t.length;if(e<=O)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=O));return r}(n)}e.Buffer=l,e.SlowBuffer=function(t){+t!=t&&(t=0);return l.alloc(+t)},e.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),l.poolSize=8192,l._augment=function(t){return t.__proto__=l.prototype,t},l.from=function(t,e,r){return u(null,t,e,r)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(t,e,r){return function(t,e,r,n){return h(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},l.allocUnsafe=function(t){return c(null,t)},l.allocUnsafeSlow=function(t){return c(null,t)},l.isBuffer=function(t){return!(null==t||!t._isBuffer)},l.compare=function(t,e){if(!l.isBuffer(t)||!l.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i<o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},l.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(t,e){if(!o(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return l.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=l.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var a=t[r];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,i),i+=a.length}return n},l.byteLength=d,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},l.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},l.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},l.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return P(this,e,r);case"utf8":case"utf-8":return E(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return A(this,e,r);case"base64":return S(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return C(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},l.prototype.equals=function(t){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===l.compare(this,t)},l.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},l.prototype.compare=function(t,e,r,n,i){if(!l.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,i>>>=0,this===t)return 0;for(var o=i-n,a=r-e,s=Math.min(o,a),u=this.slice(n,i),h=t.slice(e,r),c=0;c<s;++c)if(u[c]!==h[c]){o=u[c],a=h[c];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},l.prototype.indexOf=function(t,e,r){return v(this,t,e,r,!0)},l.prototype.lastIndexOf=function(t,e,r){return v(this,t,e,r,!1)},l.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return m(this,t,e,r);case"utf8":case"utf-8":return b(this,t,e,r);case"ascii":return w(this,t,e,r);case"latin1":case"binary":return x(this,t,e,r);case"base64":return k(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function A(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function P(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=e;o<r;++o)i+=U(t[o]);return i}function C(t,e,r){for(var n=t.slice(e,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function M(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,r,n,i,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function R(t,e,r,n){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-r,2);i<o;++i)t[r+i]=(e&255<<8*(n?i:1-i))>>>8*(n?i:1-i)}function j(t,e,r,n){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-r,4);i<o;++i)t[r+i]=e>>>8*(n?i:3-i)&255}function L(t,e,r,n,i,o){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function N(t,e,r,n,o){return o||L(t,0,r,4),i.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,o){return o||L(t,0,r,8),i.write(t,e,r,n,52,8),r+8}l.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),l.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=l.prototype;else{var i=e-t;r=new l(i,void 0);for(var o=0;o<i;++o)r[o]=this[o+t]}return r},l.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n},l.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},l.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]},l.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8},l.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]},l.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},l.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},l.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=this[t],i=1,o=0;++o<e&&(i*=256);)n+=this[t+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},l.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||M(t,e,this.length);for(var n=e,i=1,o=this[t+--n];n>0&&(i*=256);)o+=this[t+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},l.prototype.readInt8=function(t,e){return e||M(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},l.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},l.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},l.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},l.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!0,23,4)},l.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),i.read(this,t,!1,23,4)},l.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!0,52,8)},l.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),i.read(this,t,!1,52,8)},l.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,o=0;for(this[e]=255&t;++o<r&&(i*=256);)this[e+o]=t/i&255;return e+r},l.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||D(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+r},l.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,255,0),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},l.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},l.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},l.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<r&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},l.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var i=Math.pow(2,8*r-1);D(this,t,e,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+r},l.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,1,127,-128),l.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},l.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):R(this,t,e,!0),e+2},l.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):R(this,t,e,!1),e+2},l.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},l.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),l.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},l.prototype.writeFloatLE=function(t,e,r){return N(this,t,e,!0,r)},l.prototype.writeFloatBE=function(t,e,r){return N(this,t,e,!1,r)},l.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},l.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},l.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i,o=n-r;if(this===t&&r<e&&e<n)for(i=o-1;i>=0;--i)t[i+e]=this[i+r];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)t[i+e]=this[i+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+o),e);return o},l.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!l.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var o;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(o=e;o<r;++o)this[o]=t;else{var a=l.isBuffer(t)?t:H(new l(t,n).toString()),s=a.length;for(o=0;o<r-e;++o)this[o+e]=a[o%s]}return this};var I=/[^+\/0-9A-Za-z-_]/g;function U(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){var r;e=e||1/0;for(var n=t.length,i=null,o=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;o.push(r)}else if(r<2048){if((e-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function W(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(I,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function F(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}},function(t,e,r){t.exports=r(31).EventEmitter},function(t,e){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(t){return"function"==typeof t}function i(t){return"object"==typeof t&&null!==t}function o(t){return void 0===t}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,r,a,s,l,u;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var h=new Error('Uncaught, unspecified "error" event. ('+e+")");throw h.context=e,h}if(o(r=this._events[t]))return!1;if(n(r))switch(arguments.length){case 1:r.call(this);break;case 2:r.call(this,arguments[1]);break;case 3:r.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),r.apply(this,s)}else if(i(r))for(s=Array.prototype.slice.call(arguments,1),a=(u=r.slice()).length,l=0;l<a;l++)u[l].apply(this,s);return!0},r.prototype.addListener=function(t,e){var a;if(!n(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,n(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(a=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[t].length>a&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){if(!n(e))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(t,i),r||(r=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},r.prototype.removeListener=function(t,e){var r,o,a,s;if(!n(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(a=(r=this._events[t]).length,o=-1,r===e||n(r.listener)&&r.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(r)){for(s=a;s-- >0;)if(r[s]===e||r[s].listener&&r[s].listener===e){o=s;break}if(o<0)return this;1===r.length?(r.length=0,delete this._events[t]):r.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[t]))this.removeListener(t,r);else if(r)for(;r.length;)this.removeListener(t,r[r.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?n(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(n(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e,r){"use strict";var n=r(10);t.exports=m;var i,o=r(32);m.ReadableState=y;r(31).EventEmitter;var a=function(t,e){return t.listeners(e).length},s=r(30),l=r(9).Buffer,u=global.Uint8Array||function(){};var h=r(5);h.inherits=r(0);var c=r(96),f=void 0;f=c&&c.debuglog?c.debuglog("stream"):function(){};var p,d=r(95),g=r(28);h.inherits(m,s);var v=["error","close","destroy","pause","resume"];function y(t,e){i=i||r(2),t=t||{};var n=e instanceof i;this.objectMode=!!t.objectMode,n&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var o=t.highWaterMark,a=t.readableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=o||0===o?o:n&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(p||(p=r(26).StringDecoder),this.decoder=new p(t.encoding),this.encoding=t.encoding)}function m(t){if(i=i||r(2),!(this instanceof m))return new m(t);this._readableState=new y(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),s.call(this)}function b(t,e,r,n,i){var o,a=t._readableState;null===e?(a.reading=!1,function(t,e){if(e.ended)return;if(e.decoder){var r=e.decoder.end();r&&r.length&&(e.buffer.push(r),e.length+=e.objectMode?1:r.length)}e.ended=!0,_(t)}(t,a)):(i||(o=function(t,e){var r;n=e,l.isBuffer(n)||n instanceof u||"string"==typeof e||void 0===e||t.objectMode||(r=new TypeError("Invalid non-string/buffer chunk"));var n;return r}(a,e)),o?t.emit("error",o):a.objectMode||e&&e.length>0?("string"==typeof e||a.objectMode||Object.getPrototypeOf(e)===l.prototype||(e=function(t){return l.from(t)}(e)),n?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):w(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!r?(e=a.decoder.write(e),a.objectMode||0!==e.length?w(t,a,e,!1):E(t,a)):w(t,a,e,!1))):n||(a.reading=!1));return function(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}(a)}function w(t,e,r,n){e.flowing&&0===e.length&&!e.sync?(t.emit("data",r),t.read(0)):(e.length+=e.objectMode?1:r.length,n?e.buffer.unshift(r):e.buffer.push(r),e.needReadable&&_(t)),E(t,e)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),m.prototype.destroy=g.destroy,m.prototype._undestroy=g.undestroy,m.prototype._destroy=function(t,e){this.push(null),e(t)},m.prototype.push=function(t,e){var r,n=this._readableState;return n.objectMode?r=!0:"string"==typeof t&&((e=e||n.defaultEncoding)!==n.encoding&&(t=l.from(t,e),e=""),r=!0),b(this,t,e,!1,r)},m.prototype.unshift=function(t){return b(this,t,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return p||(p=r(26).StringDecoder),this._readableState.decoder=new p(t),this._readableState.encoding=t,this};var x=8388608;function k(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!=t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=function(t){return t>=x?t=x:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function _(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(f("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?n.nextTick(S,t):S(t))}function S(t){f("emit readable"),t.emit("readable"),P(t)}function E(t,e){e.readingMore||(e.readingMore=!0,n.nextTick(O,t,e))}function O(t,e){for(var r=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(f("maybeReadMore read 0"),t.read(0),r!==e.length);)r=e.length;e.readingMore=!1}function T(t){f("readable nexttick read 0"),t.read(0)}function A(t,e){e.reading||(f("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),P(t),e.flowing&&!e.reading&&t.read(0)}function P(t){var e=t._readableState;for(f("flow",e.flowing);e.flowing&&null!==t.read(););}function C(t,e){return 0===e.length?null:(e.objectMode?r=e.buffer.shift():!t||t>=e.length?(r=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):r=function(t,e,r){var n;t<e.head.data.length?(n=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):n=t===e.head.data.length?e.shift():r?function(t,e){var r=e.head,n=1,i=r.data;t-=i.length;for(;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++n,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++n}return e.length-=n,i}(t,e):function(t,e){var r=l.allocUnsafe(t),n=e.head,i=1;n.data.copy(r),t-=n.data.length;for(;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(o.copy(r,r.length-t,0,a),0===(t-=a)){a===o.length?(++i,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++i}return e.length-=i,r}(t,e);return n}(t,e.buffer,e.decoder),r);var r}function M(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,n.nextTick(D,e,t))}function D(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function R(t,e){for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}m.prototype.read=function(t){f("read",t),t=parseInt(t,10);var e=this._readableState,r=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return f("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?M(this):_(this),null;if(0===(t=k(t,e))&&e.ended)return 0===e.length&&M(this),null;var n,i=e.needReadable;return f("need readable",i),(0===e.length||e.length-t<e.highWaterMark)&&f("length less than watermark",i=!0),e.ended||e.reading?f("reading or ended",i=!1):i&&(f("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=k(r,e))),null===(n=t>0?C(t,e):null)?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),r!==t&&e.ended&&M(this)),null!==n&&this.emit("data",n),n},m.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(t,e){var r=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=t;break;case 1:i.pipes=[i.pipes,t];break;default:i.pipes.push(t)}i.pipesCount+=1,f("pipe count=%d opts=%j",i.pipesCount,e);var s=(!e||!1!==e.end)&&t!==process.stdout&&t!==process.stderr?u:m;function l(e,n){f("onunpipe"),e===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,f("cleanup"),t.removeListener("close",v),t.removeListener("finish",y),t.removeListener("drain",h),t.removeListener("error",g),t.removeListener("unpipe",l),r.removeListener("end",u),r.removeListener("end",m),r.removeListener("data",d),c=!0,!i.awaitDrain||t._writableState&&!t._writableState.needDrain||h())}function u(){f("onend"),t.end()}i.endEmitted?n.nextTick(s):r.once("end",s),t.on("unpipe",l);var h=function(t){return function(){var e=t._readableState;f("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(t,"data")&&(e.flowing=!0,P(t))}}(r);t.on("drain",h);var c=!1;var p=!1;function d(e){f("ondata"),p=!1,!1!==t.write(e)||p||((1===i.pipesCount&&i.pipes===t||i.pipesCount>1&&-1!==R(i.pipes,t))&&!c&&(f("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,p=!0),r.pause())}function g(e){f("onerror",e),m(),t.removeListener("error",g),0===a(t,"error")&&t.emit("error",e)}function v(){t.removeListener("finish",y),m()}function y(){f("onfinish"),t.removeListener("close",v),m()}function m(){f("unpipe"),r.unpipe(t)}return r.on("data",d),function(t,e,r){if("function"==typeof t.prependListener)return t.prependListener(e,r);t._events&&t._events[e]?o(t._events[e])?t._events[e].unshift(r):t._events[e]=[r,t._events[e]]:t.on(e,r)}(t,"error",g),t.once("close",v),t.once("finish",y),t.emit("pipe",r),i.flowing||(f("pipe resume"),r.resume()),t},m.prototype.unpipe=function(t){var e=this._readableState,r={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,r),this);if(!t){var n=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,r);return this}var a=R(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,r),this)},m.prototype.on=function(t,e){var r=s.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var i=this._readableState;i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.emittedReadable=!1,i.reading?i.length&&_(this):n.nextTick(T,this))}return r},m.prototype.addListener=m.prototype.on,m.prototype.resume=function(){var t=this._readableState;return t.flowing||(f("resume"),t.flowing=!0,function(t,e){e.resumeScheduled||(e.resumeScheduled=!0,n.nextTick(A,t,e))}(this,t)),this},m.prototype.pause=function(){return f("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(f("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(t){var e=this,r=this._readableState,n=!1;for(var i in t.on("end",function(){if(f("wrapped end"),r.decoder&&!r.ended){var t=r.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){(f("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(e.push(i)||(n=!0,t.pause())))}),t)void 0===this[i]&&"function"==typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<v.length;o++)t.on(v[o],this.emit.bind(this,v[o]));return this._read=function(e){f("wrapped _read",e),n&&(n=!1,t.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=C},function(t,e,r){(e=t.exports=r(33)).Stream=e,e.Readable=e,e.Writable=r(27),e.Duplex=r(2),e.Transform=r(25),e.PassThrough=r(92)},function(t,e,r){var n=r(36),i=r(0),o=r(34),a=e.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},s=e.IncomingMessage=function(t,e,r,i){var a=this;if(o.Readable.call(a),a._mode=r,a.headers={},a.rawHeaders=[],a.trailers={},a.rawTrailers=[],a.on("end",function(){process.nextTick(function(){a.emit("close")})}),"fetch"===r){if(a._fetchResponse=e,a.url=e.url,a.statusCode=e.status,a.statusMessage=e.statusText,e.headers.forEach(function(t,e){a.headers[e.toLowerCase()]=t,a.rawHeaders.push(e,t)}),n.writableStream){var s=new WritableStream({write:function(t){return new Promise(function(e,r){a._destroyed?r():a.push(new Buffer(t))?e():a._resumeFetch=e})},close:function(){global.clearTimeout(i),a._destroyed||a.push(null)},abort:function(t){a._destroyed||a.emit("error",t)}});try{return void e.body.pipeTo(s).catch(function(t){global.clearTimeout(i),a._destroyed||a.emit("error",t)})}catch(t){}}var l=e.body.getReader();!function t(){l.read().then(function(e){if(!a._destroyed){if(e.done)return global.clearTimeout(i),void a.push(null);a.push(new Buffer(e.value)),t()}}).catch(function(t){global.clearTimeout(i),a._destroyed||a.emit("error",t)})}()}else{if(a._xhr=t,a._pos=0,a.url=t.responseURL,a.statusCode=t.status,a.statusMessage=t.statusText,t.getAllResponseHeaders().split(/\r?\n/).forEach(function(t){var e=t.match(/^([^:]+):\s*(.*)/);if(e){var r=e[1].toLowerCase();"set-cookie"===r?(void 0===a.headers[r]&&(a.headers[r]=[]),a.headers[r].push(e[2])):void 0!==a.headers[r]?a.headers[r]+=", "+e[2]:a.headers[r]=e[2],a.rawHeaders.push(e[1],e[2])}}),a._charset="x-user-defined",!n.overrideMimeType){var u=a.rawHeaders["mime-type"];if(u){var h=u.match(/;\s*charset=([^;])(;|$)/);h&&(a._charset=h[1].toLowerCase())}a._charset||(a._charset="utf-8")}}};i(s,o.Readable),s.prototype._read=function(){var t=this._resumeFetch;t&&(this._resumeFetch=null,t())},s.prototype._onXHRProgress=function(){var t=this,e=t._xhr,r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==a.DONE)break;try{r=new global.VBArray(e.responseBody).toArray()}catch(t){}if(null!==r){t.push(new Buffer(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var n=r.substr(t._pos);if("x-user-defined"===t._charset){for(var i=new Buffer(n.length),o=0;o<n.length;o++)i[o]=255&n.charCodeAt(o);t.push(i)}else t.push(n,t._charset);t._pos=r.length}break;case"arraybuffer":if(e.readyState!==a.DONE||!e.response)break;r=e.response,t.push(new Buffer(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":if(r=e.response,e.readyState!==a.LOADING||!r)break;t.push(new Buffer(new Uint8Array(r)));break;case"ms-stream":if(r=e.response,e.readyState!==a.LOADING)break;var s=new global.MSStreamReader;s.onprogress=function(){s.result.byteLength>t._pos&&(t.push(new Buffer(new Uint8Array(s.result.slice(t._pos)))),t._pos=s.result.byteLength)},s.onload=function(){t.push(null)},s.readAsArrayBuffer(r)}t._xhr.readyState===a.DONE&&"ms-stream"!==t._mode&&t.push(null)}},function(t,e){e.fetch=s(global.fetch)&&s(global.ReadableStream),e.writableStream=s(global.WritableStream),e.abortController=s(global.AbortController),e.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),e.blobConstructor=!0}catch(t){}var r;function n(){if(void 0!==r)return r;if(global.XMLHttpRequest){r=new global.XMLHttpRequest;try{r.open("GET",global.XDomainRequest?"/":"https://example.com")}catch(t){r=null}}else r=null;return r}function i(t){var e=n();if(!e)return!1;try{return e.responseType=t,e.responseType===t}catch(t){}return!1}var o=void 0!==global.ArrayBuffer,a=o&&s(global.ArrayBuffer.prototype.slice);function s(t){return"function"==typeof t}e.arraybuffer=e.fetch||o&&i("arraybuffer"),e.msstream=!e.fetch&&a&&i("ms-stream"),e.mozchunkedarraybuffer=!e.fetch&&o&&i("moz-chunked-arraybuffer"),e.overrideMimeType=e.fetch||!!n()&&s(n().overrideMimeType),e.vbArray=s(global.VBArray),r=null},function(t,e,r){var n=r(99),i=r(35),o=r(90),a=r(89),s=r(19),l=e;l.request=function(t,e){t="string"==typeof t?s.parse(t):o(t);var r=-1===global.location.protocol.search(/^https?:$/)?"http:":"",i=t.protocol||r,a=t.hostname||t.host,l=t.port,u=t.path||"/";a&&-1!==a.indexOf(":")&&(a="["+a+"]"),t.url=(a?i+"//"+a:"")+(l?":"+l:"")+u,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var h=new n(t);return e&&h.on("response",e),h},l.get=function(t,e){var r=l.request(t,e);return r.end(),r},l.ClientRequest=n,l.IncomingMessage=i.IncomingMessage,l.Agent=function(){},l.Agent.defaultMaxSockets=4,l.globalAgent=new l.Agent,l.STATUS_CODES=a,l.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileFetcher=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(20);var a=e.FileFetcher=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,null,[{key:"fetchLocation_node",value:function(t,e){return new Promise(function(e,n){try{var i=t.toLowerCase();if(i.startsWith("http:")||i.startsWith("https:")){var a=r(i.startsWith("http:")?37:82);r(19);a.get(t,function(t){if(200===t.statusCode){var r=t.headers["content-type"],i=[];t.on("data",function(t){i.push(t)}),t.on("end",function(){e({contentType:r,data:Buffer.concat(i)})}),t.on("error",function(t){o.Logger.log("FileFetcher#fetchLocation_node:http.get:on-error:"+t),n(t)})}else o.Logger.log("FileFetcher#fetchLocation_node:http.get:bad-status-code:"+t.statusCode),n(t)})}else if(!t.match(/^[A-Za-z][-+.A-Za-z0-9]*:/)||i.toLowerCase().startsWith("file:")||"win32"===process.platform&&t.match(/^[A-Za-z]:/)){var s=r(!function(){var t=new Error("Cannot find module 'fs'");throw t.code="MODULE_NOT_FOUND",t}()),l=t;"win32"===process.platform&&(l=(l=l.replace(/^file:\/+([A-Za-z])\//i,"$1:/")).replace(/^\/+([A-Za-z])\//,"$1:/")),l=l.replace(/^file\:\/+/i,"/");var u=[];s.createReadStream(l).on("data",function(t){u.push(t)}).on("end",function(){e({contentType:null,data:Buffer.concat(u)})}).on("error",function(t){o.Logger.log("FileFetcher#fetchLocation_node:fs.createReadStream:on-error:"+t),n(t)})}else n(t)}catch(t){o.Logger.log("FileFetcher#fetchLocation_node:"+t),n(t)}})}},{key:"fetchLocation_xhr",value:function(t,e){return new Promise(function(r,n){try{var i=new XMLHttpRequest;if(i.onload=function(t){if(200===i.status||304===i.status){var e=i.getResponseHeader("content-type"),a=i.response;a?r({contentType:e,data:new Uint8Array(a)}):(o.Logger.log("FileFetcher#fetchLocation_xhr:xhr.onload:empty-response:"+t),n(t))}else o.Logger.log("FileFetcher#fetchLocation_xhr:xhr.onload:bad-status-code:"+i.status+":"+t),n(t)},i.onerror=function(t){o.Logger.log("FileFetcher#fetchLocation_xhr:xhr.onerror:"+t),n(t)},i.open(void 0!==e&&null!==e&&void 0!==e.method&&null!==e.method?e.method:"GET",t,!0,void 0!==e&&null!==e?e.user:void 0,void 0!==e&&null!==e?e.password:void 0),void 0!==e&&null!==e&&void 0!==e.headers&&null!==e.headers){var a=!0,s=!1,l=void 0;try{for(var u,h=e.headers[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){var c=u.value;i.setRequestHeader(c.header,c.value)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}i.responseType="arraybuffer",i.send(void 0!==e&&null!==e&&void 0!==e.data&&null!==e.data?e.data:null)}catch(t){o.Logger.log("FileFetcher#fetchLocation_xhr:"+t),n(t)}})}},{key:"fetchLocation",value:function(e,r){if(t.isNashorn)throw new Error("FileFetcher#fetchLocation: Nashorn handler is not impl.");return t.isNode?this.fetchLocation_node(e,r):this.fetchLocation_xhr(e,r)}}]),t}();a.__ctor=(a.isNashorn=!1,a.isNode=!1,void("undefined"!=typeof Java&&Java&&"function"==typeof Java.type?a.isNashorn=!0:"object"===("undefined"==typeof process?"undefined":n(process))&&"object"===n(process.versions)&&void 0!==process.versions.node&&(void 0!==process.type&&"renderer"===process.type||(a.isNode=!0))))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}e.Base64=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"encode",value:function(t,e){for(var r=[],n=t.length,o=0,a=0,s=0,l=0,u=0;l<n;l++)0===(u=l%3)?(s=(o=t[l])<<4&48,o=o>>>2&63):1===u?(a=(o=t[l])<<2&60,o=o>>>4&15|s,s=a):((o=(a=t[l])>>>6&3|s)<26?o+=65:o<52?o+=71:o<62?o-=4:o=o<63?43:47,r.push(o),o=63&a),o<26?o+=65:o<52?o+=71:o<62?o-=4:o=o<63?43:47,r.push(o);for(n%3&&(s<26?s+=65:s<52?s+=71:s<62?s-=4:s=s<63?43:47,r.push(s));r.length%4;)r.push(61);if(e&&0<e){for(var h=[],c=0;c<r.length;c+=e)h.push.apply(h,i(r.slice(c,c+e)).concat([10]));r=h}for(var f="",p=0;p<r.length;p++)f+=String.fromCharCode(r[p]);return f}},{key:"decode",value:function(t){for(var e=[],r=0,n=0,i=0,o=t.length,a=0,s=0;r<o;r++){if(n=(r+i)%4,65<=(a=t.charCodeAt(r))&&a<=90)a-=65;else if(97<=a&&a<=122)a-=71;else if(48<=a&&a<=57)a+=4;else if(43===a)a=62;else if(47===a)a=63;else{if(61!==a){i++;continue}a=0,r=o}0===n?s=a<<2&252:1===n?(e.push(s|a>>>4&3),s=a<<4&240):2===n?(e.push(s|a>>>2&15),s=a<<6&192):e.push(s|63&a)}return e}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransferMatrix2D=e.Rect2D=e.Vector2D=e.Point2D=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=r(100).NumberPrecision.decimalPlaces(6),s=e.Point2D=function(){function t(e,r){o(this,t),this.x=e,this.y=r}return i(t,[{key:"toString",value:function(){return this.x+","+this.y}}]),t}();e.Vector2D=function(){function t(e,r){o(this,t),this.x=e,this.y=r}return i(t,[{key:"isZero",value:function(){return 0===this.x&&0===this.y}},{key:"getLength",value:function(){return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2))}},{key:"getAngle",value:function(){var t=Math.acos(this.x/Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)));return 0>this.y&&(t=2*Math.PI-t),t}},{key:"toString",value:function(){return this.x+","+this.y}}],[{key:"fromPoints",value:function(e,r){return new t(r.x-e.x,r.y-e.y)}},{key:"getAngle",value:function(t,e){var r=Math.sqrt(Math.pow(t.x,2)+Math.pow(t.y,2)),n=Math.sqrt(Math.pow(e.x,2)+Math.pow(e.y,2));return Math.acos((t.x*e.x+t.y*e.y)/(r*n))}}]),t}(),e.Rect2D=function t(e,r,n,i){o(this,t),this.x=e,this.y=r,this.w=n,this.h=i},e.TransferMatrix2D=function(){function t(e,r,i,a,s,l){o(this,t),this.m11=1,this.m21=0,this.dx=0,this.m12=0,this.m22=1,this.dy=0,e&&("object"===(void 0===e?"undefined":n(e))?(this.m11=e.m11||this.m11,this.m12=e.m12||this.m12,this.m21=e.m21||this.m21,this.m22=e.m22||this.m22,this.dx=e.dx||this.dx,this.dy=e.dy||this.dy):(this.m11=e||this.m11,this.m12=r||this.m12,this.m21=i||this.m21,this.m22=a||this.m22,this.dx=s||this.dx,this.dy=l||this.dy))}return i(t,[{key:"toString",value:function(){return this.m11+" "+this.m12+" "+this.m21+" "+this.m22+" "+this.dx+" "+this.dy}},{key:"isIdentity",value:function(){return 1===this.m11&&0===this.m21&&0===this.dx&&0===this.m12&&1===this.m22&&0===this.dy}},{key:"scale",value:function(e,r){return this.concat(new t(e,0,0,r,0,0))}},{key:"translate",value:function(e,r){return this.concat(new t(1,0,0,1,e,r))}},{key:"rotate",value:function(e){return this.concat(new t(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0))}},{key:"skewX",value:function(e){return this.concat(new t(1,0,Math.tan(e),1,0,0))}},{key:"skewY",value:function(e){return this.concat(new t(1,Math.tan(e),0,1,0,0))}},{key:"concat",value:function(e){return new t(this.m11*e.m11+this.m21*e.m12,this.m12*e.m11+this.m22*e.m12,this.m11*e.m21+this.m21*e.m22,this.m12*e.m21+this.m22*e.m22,this.m11*e.dx+this.m21*e.dy+this.dx,this.m12*e.dx+this.m22*e.dy+this.dy)}},{key:"transfer",value:function(t,e){return"object"===(void 0===t?"undefined":n(t))?new s(a(this.m11*t.x+this.m21*t.y+this.dx),a(this.m12*t.x+this.m22*t.y+this.dy)):[a(this.m11*t+this.m21*e+this.dx),a(this.m12*t+this.m22*e+this.dy)]}},{key:"getInverse",value:function(){return new t(this.m22,-this.m12,-this.m21,this.m11,this.m21*this.dy-this.dx*this.m22,this.dx*this.m12-this.m11*this.dy)}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=e.Escape=function(){function t(){i(this,t)}return n(t,null,[{key:"html",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}},{key:"xml",value:function(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}]),t}();e.Unescape=function(){function t(){i(this,t)}return n(t,null,[{key:"html",value:function(t){return t.replace(/&#39;/g,"'").replace(/&#x(?:0{0,2})27;/gi,"'").replace(/&apos;/g,"'").replace(/&#34;/g,'"').replace(/&#x(?:0{0,2})22;/gi,'"').replace(/&quot;/g,'"').replace(/&#62;/g,">").replace(/&#x(?:0{0,2})3e;/gi,">").replace(/&gt;/g,">").replace(/&#60;/g,"<").replace(/&#x(?:0{0,2})3c;/gi,"<").replace(/&lt;/g,"<").replace(/&#38;/g,"&").replace(/&#x(?:0{0,2})26;/gi,"&").replace(/&amp;/g,"&")}},{key:"xml",value:function(t){return o.html(t)}}]),t}()},,,,,function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrinterMarks=e.printerMarksDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(6);var o=e.printerMarksDefault=Object.assign({},i.shapePropsDefault,{fill:!1,stroke:!0,strokeColor:"black",lineWidth:.105834,width:210,height:297,cropMarkLength:9,bleedMarks:!0,northBleed:3,southBleed:3,eastBleed:3,westBleed:3,centerMarks:!0,centerMarkArmLength:15,centerMarkArmMargin:3});e.PrinterMarks=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},o,t)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Shape),n(e,[{key:"render",value:function(t,e){var r=this.getContext(t,i.CONTEXT_SVG_CANVAS),n=this.props;if(r.moveTo(-n.westBleed,0),r.lineTo(-n.westBleed-n.cropMarkLength,0),r.moveTo(-n.westBleed,n.height),r.lineTo(-n.westBleed-n.cropMarkLength,n.height),r.moveTo(n.width+n.eastBleed,0),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,0),r.moveTo(n.width+n.eastBleed,n.height),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,n.height),r.moveTo(0,-n.northBleed),r.lineTo(0,-n.northBleed-n.cropMarkLength),r.moveTo(n.width,-n.northBleed),r.lineTo(n.width,-n.northBleed-n.cropMarkLength),r.moveTo(0,n.height+n.southBleed),r.lineTo(0,n.height+n.southBleed+n.cropMarkLength),r.moveTo(n.width,n.height+n.southBleed),r.lineTo(n.width,n.height+n.southBleed+n.cropMarkLength),n.bleedMarks&&(r.moveTo(0,-n.northBleed),r.lineTo(-n.westBleed-n.cropMarkLength,-n.northBleed),r.moveTo(0,n.height+n.southBleed),r.lineTo(-n.westBleed-n.cropMarkLength,n.height+n.southBleed),r.moveTo(n.width,-n.northBleed),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,-n.northBleed),r.moveTo(n.width,n.height+n.southBleed),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,n.height+n.southBleed),r.moveTo(-n.westBleed,0),r.lineTo(-n.westBleed,-n.northBleed-n.cropMarkLength),r.moveTo(n.width+n.eastBleed,0),r.lineTo(n.width+n.eastBleed,-n.northBleed-n.cropMarkLength),r.moveTo(-n.westBleed,n.height),r.lineTo(-n.westBleed,n.height+n.southBleed+n.cropMarkLength),r.moveTo(n.width+n.eastBleed,n.height),r.lineTo(n.width+n.eastBleed,n.height+n.southBleed+n.cropMarkLength)),n.centerMarks&&(r.moveTo(n.width/2,-n.northBleed),r.lineTo(n.width/2,-n.northBleed-n.cropMarkLength),r.moveTo(n.width/2,n.height+n.southBleed),r.lineTo(n.width/2,n.height+n.southBleed+n.cropMarkLength),r.moveTo(n.width/2-n.centerMarkArmLength/2,-n.northBleed-n.centerMarkArmMargin),r.lineTo(n.width/2+n.centerMarkArmLength/2,-n.northBleed-n.centerMarkArmMargin),r.moveTo(n.width/2-n.centerMarkArmLength/2,n.height+n.southBleed+n.centerMarkArmMargin),r.lineTo(n.width/2+n.centerMarkArmLength/2,n.height+n.southBleed+n.centerMarkArmMargin),r.moveTo(-n.westBleed,n.height/2),r.lineTo(-n.westBleed-n.cropMarkLength,n.height/2),r.moveTo(n.width+n.eastBleed,n.height/2),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,n.height/2),r.moveTo(-n.westBleed-n.centerMarkArmMargin,n.height/2-n.centerMarkArmLength/2),r.lineTo(-n.westBleed-n.centerMarkArmMargin,n.height/2+n.centerMarkArmLength/2),r.moveTo(n.width+n.eastBleed+n.centerMarkArmMargin,n.height/2-n.centerMarkArmLength/2),r.lineTo(n.width+n.eastBleed+n.centerMarkArmMargin,n.height/2+n.centerMarkArmLength/2)),n.hFold){var o=0,a=!0,s=!1,l=void 0;try{for(var u,h=n.hFold[Symbol.iterator]();!(a=(u=h.next()).done);a=!0){o+=u.value,r.moveTo(o,-n.northBleed),r.lineTo(o,-n.northBleed-n.cropMarkLength),r.moveTo(o,n.height+n.southBleed),r.lineTo(o,n.height+n.southBleed+n.cropMarkLength)}}catch(t){s=!0,l=t}finally{try{!a&&h.return&&h.return()}finally{if(s)throw l}}}if(n.vFold){var c=0,f=!0,p=!1,d=void 0;try{for(var g,v=n.vFold[Symbol.iterator]();!(f=(g=v.next()).done);f=!0){c+=g.value,r.moveTo(-n.westBleed,c),r.lineTo(-n.westBleed-n.cropMarkLength,c),r.moveTo(n.width+n.eastBleed,c),r.lineTo(n.width+n.eastBleed+n.cropMarkLength,c)}}catch(t){p=!0,d=t}finally{try{!f&&v.return&&v.return()}finally{if(p)throw d}}}return""}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.matrixSize=[0,21,25,29,33,37,41,45,49,53,57,61,65,69,73,77,81,85,89,93,97,101,105,109,113,117,121,125,129,133,137,141,145,149,153,157,161,165,169,173,177],e.dataCodewords={L:[0,19,34,55,80,108,136,156,194,232,274,324,370,428,461,523,589,647,721,795,861,932,1006,1094,1174,1276,1370,1468,1531,1631,1735,1843,1955,2071,2191,2306,2434,2566,2702,2812,2956],M:[0,16,28,44,64,86,108,124,154,182,216,254,290,334,365,415,453,507,563,627,669,714,782,860,914,1e3,1062,1128,1193,1267,1373,1455,1541,1631,1725,1812,1914,1992,2102,2216,2334],Q:[0,13,22,34,48,62,76,88,110,132,154,180,206,244,261,295,325,367,397,445,485,512,568,614,664,718,754,808,871,911,985,1033,1115,1171,1231,1286,1354,1426,1502,1582,1666],H:[0,9,16,26,36,46,60,66,86,100,122,140,158,180,197,223,253,283,313,341,385,406,442,464,514,538,596,628,661,701,745,793,845,901,961,986,1054,1096,1142,1222,1276]},e.segments=[{L:[[0,0,0,0]],M:[[0,0,0,0]],Q:[[0,0,0,0]],H:[[0,0,0,0]]},{L:[[1,26,19,2]],M:[[1,26,16,4]],Q:[[1,26,13,6]],H:[[1,26,9,8]]},{L:[[1,44,34,4]],M:[[1,44,28,8]],Q:[[1,44,22,11]],H:[[1,44,16,14]]},{L:[[1,70,55,7]],M:[[1,70,44,13]],Q:[[2,35,17,9]],H:[[2,35,13,11]]},{L:[[1,100,80,10]],M:[[2,50,32,9]],Q:[[2,50,24,13]],H:[[4,25,9,8]]},{L:[[1,134,108,13]],M:[[2,67,43,12]],Q:[[2,33,15,9],[2,34,16,9]],H:[[2,33,11,11],[2,34,12,11]]},{L:[[2,86,68,9]],M:[[4,43,27,8]],Q:[[4,43,19,12]],H:[[4,43,15,14]]},{L:[[2,98,78,10]],M:[[4,49,31,9]],Q:[[2,32,14,9],[4,33,15,9]],H:[[4,39,13,13],[1,40,14,13]]},{L:[[2,121,97,12]],M:[[2,60,38,11],[2,61,39,11]],Q:[[4,40,18,11],[2,41,19,11]],H:[[4,40,14,13],[2,41,15,13]]},{L:[[2,146,116,15]],M:[[3,58,36,11],[2,59,37,11]],Q:[[4,36,16,10],[4,37,17,10]],H:[[4,36,12,12],[4,37,13,12]]},{L:[[2,86,68,9],[2,87,69,9]],M:[[4,69,43,13],[1,70,44,13]],Q:[[6,43,19,12],[2,44,20,12]],H:[[6,43,15,14],[2,44,16,14]]},{L:[[4,101,81,10]],M:[[1,80,50,15],[4,81,51,15]],Q:[[4,50,22,14],[4,51,23,14]],H:[[3,36,12,12],[8,37,13,12]]},{L:[[2,116,92,12],[2,117,93,12]],M:[[6,58,36,11],[2,59,37,11]],Q:[[4,46,20,13],[6,47,21,13]],H:[[7,42,14,14],[4,43,15,14]]},{L:[[4,133,107,13]],M:[[8,59,37,11],[1,60,38,11]],Q:[[8,44,20,13],[4,45,21,13]],H:[[12,33,11,14],[4,34,12,14]]},{L:[[3,145,115,15],[1,146,116,15]],M:[[4,64,40,12],[5,65,41,12]],Q:[[11,36,16,10],[5,37,17,10]],H:[[11,36,12,12],[5,37,13,12]]},{L:[[5,109,87,11],[1,110,88,11]],M:[[5,65,41,12],[5,66,42,12]],Q:[[5,54,24,15],[7,55,25,15]],H:[[11,36,12,12],[7,37,13,12]]},{L:[[5,122,98,12],[1,123,99,12]],M:[[7,73,45,14],[3,74,46,14]],Q:[[15,43,19,12],[2,44,20,12]],H:[[3,45,15,15],[13,46,16,15]]},{L:[[1,135,107,14],[5,136,108,14]],M:[[10,74,46,14],[1,75,47,14]],Q:[[1,50,22,14],[15,51,23,14]],H:[[2,42,14,14],[17,43,15,14]]},{L:[[5,150,120,15],[1,151,121,15]],M:[[9,69,43,13],[4,70,44,13]],Q:[[17,50,22,14],[1,51,23,14]],H:[[2,42,14,14],[19,43,15,14]]},{L:[[3,141,113,14],[4,142,114,14]],M:[[3,70,44,13],[11,71,45,13]],Q:[[17,47,21,13],[4,48,22,13]],H:[[9,39,13,13],[16,40,14,13]]},{L:[[3,135,107,14],[5,136,108,14]],M:[[3,67,41,13],[13,68,42,13]],Q:[[15,54,24,15],[5,55,25,15]],H:[[15,43,15,14],[10,44,16,14]]},{L:[[4,144,116,14],[4,145,117,14]],M:[[17,68,42,13]],Q:[[17,50,22,14],[6,51,23,14]],H:[[19,46,16,15],[6,47,17,15]]},{L:[[2,139,111,14],[7,140,112,14]],M:[[17,74,46,14]],Q:[[7,54,24,15],[16,55,25,15]],H:[[34,37,13,12]]},{L:[[4,151,121,15],[5,152,122,15]],M:[[4,75,47,14],[14,76,48,14]],Q:[[11,54,24,15],[14,55,25,15]],H:[[16,45,15,15],[14,46,16,15]]},{L:[[6,147,117,15],[4,148,118,15]],M:[[6,73,45,14],[14,74,46,14]],Q:[[11,54,24,15],[16,55,25,15]],H:[[30,46,16,15],[2,47,17,15]]},{L:[[8,132,106,13],[4,133,107,13]],M:[[8,75,47,14],[13,76,48,14]],Q:[[7,54,24,15],[22,55,25,15]],H:[[22,45,15,15],[13,46,16,15]]},{L:[[10,142,114,14],[2,143,115,14]],M:[[19,74,46,14],[4,75,47,14]],Q:[[28,50,22,14],[6,51,23,14]],H:[[33,46,16,15],[4,47,17,15]]},{L:[[8,152,122,15],[4,153,123,15]],M:[[22,73,45,14],[3,74,46,14]],Q:[[8,53,23,15],[26,54,24,15]],H:[[12,45,15,15],[28,46,16,15]]},{L:[[3,147,117,15],[10,148,118,15]],M:[[3,73,45,14],[23,74,46,14]],Q:[[4,54,24,15],[31,55,25,15]],H:[[11,45,15,15],[31,46,16,15]]},{L:[[7,146,116,15],[7,147,117,15]],M:[[21,73,45,14],[7,74,46,14]],Q:[[1,53,23,15],[37,54,24,15]],H:[[19,45,15,15],[26,46,16,15]]},{L:[[5,145,115,15],[10,146,116,15]],M:[[19,75,47,14],[10,76,48,14]],Q:[[15,54,24,15],[25,55,25,15]],H:[[23,45,15,15],[25,46,16,15]]},{L:[[13,145,115,15],[3,146,116,15]],M:[[2,74,46,14],[29,75,47,14]],Q:[[42,54,24,15],[1,55,25,15]],H:[[23,45,15,15],[28,46,16,15]]},{L:[[17,145,115,15]],M:[[10,74,46,14],[23,75,47,14]],Q:[[10,54,24,15],[35,55,25,15]],H:[[19,45,15,15],[35,46,16,15]]},{L:[[17,145,115,15],[1,146,116,15]],M:[[14,74,46,14],[21,75,47,14]],Q:[[29,54,24,15],[19,55,25,15]],H:[[11,44,15,15],[46,45,16,15]]},{L:[[13,145,115,15],[6,146,116,15]],M:[[14,74,46,14],[23,75,47,14]],Q:[[44,54,24,15],[7,55,25,15]],H:[[59,46,16,15],[1,47,17,15]]},{L:[[12,151,121,15],[7,152,122,15]],M:[[12,75,47,14],[26,76,48,14]],Q:[[39,54,24,15],[14,55,25,15]],H:[[22,45,15,15],[41,46,16,15]]},{L:[[6,151,121,15],[14,152,122,15]],M:[[6,75,47,14],[34,76,48,14]],Q:[[46,54,24,15],[10,55,25,15]],H:[[2,45,15,15],[64,46,16,15]]},{L:[[17,152,122,15],[4,153,123,15]],M:[[29,74,46,14],[14,75,47,14]],Q:[[49,54,24,15],[10,55,25,15]],H:[[24,45,15,15],[46,46,16,15]]},{L:[[4,152,122,15],[18,153,123,15]],M:[[13,74,46,14],[32,75,47,14]],Q:[[48,54,24,15],[14,55,25,15]],H:[[42,45,15,15],[32,46,16,15]]},{L:[[20,147,117,15],[4,148,118,15]],M:[[40,75,47,14],[7,76,48,14]],Q:[[43,54,24,15],[22,55,25,15]],H:[[10,45,15,15],[67,46,16,15]]},{L:[[19,148,118,15],[6,149,119,15]],M:[[18,75,47,14],[31,76,48,14]],Q:[[34,54,24,15],[34,55,25,15]],H:[[20,45,15,15],[61,46,16,15]]}],e.alignmentPatterns=[[],[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.QrDataChunkType=void 0;!function(t){t[t.Control=0]="Control",t[t.Number=1]="Number",t[t.Alnum=2]="Alnum",t[t.Binary=3]="Binary"}(n||(e.QrDataChunkType=n={}));e.ecLevelMap=new Map([["L",1],["M",0],["Q",3],["H",2]]),e.numberModeCharMap=new Map([["0",0],["1",1],["2",2],["3",3],["4",4],["5",5],["6",6],["7",7],["8",8],["9",9]]),e.alnumModeCharMap=new Map([["0",0],["1",1],["2",2],["3",3],["4",4],["5",5],["6",6],["7",7],["8",8],["9",9],["A",10],["B",11],["C",12],["D",13],["E",14],["F",15],["G",16],["H",17],["I",18],["J",19],["K",20],["L",21],["M",22],["N",23],["O",24],["P",25],["Q",26],["R",27],["S",28],["T",29],["U",30],["V",31],["W",32],["X",33],["Y",34],["Z",35],[" ",36],["$",37],["%",38],["*",39],["+",40],["-",41],[".",42],["/",43],[",",44]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Bitmap=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(21);e.Bitmap=function(){function t(e,r,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.w=e,this.h=r,this.widthAligned=8*Math.ceil(e/8),this.buf=new i.BitStreamWriter(this.widthAligned*r,n),this.buf.seek(0,i.StreamSeekOrigin.End)}return n(t,[{key:"toBytes",value:function(){return this.buf.toBytes()}},{key:"set",value:function(t,e,r){this.buf.setBit(e*this.widthAligned+t,r)}},{key:"get",value:function(t,e){return this.buf.getBit(e*this.widthAligned+t)}},{key:"clear",value:function(t,e,r,n){t=Math.max(0,t),e=Math.max(0,e),r=Math.max(0,Math.min(r,Math.max(0,this.w-t))),n=Math.max(0,Math.min(n,Math.max(0,this.h-e)));for(var i=0;i<n;i++)for(var o=(e+i)*this.widthAligned+t,a=0;a<r;a++)this.buf.setBit(o+a,0);return this}},{key:"fill",value:function(t,e,r,n,i){t=Math.max(0,t),e=Math.max(0,e),r=Math.max(0,Math.min(r,Math.max(0,this.w-t))),n=Math.max(0,Math.min(n,Math.max(0,this.h-e)));for(var o=0;o<n;o++)for(var a=(e+o)*this.widthAligned+t,s=0;s<r;s++)this.buf.setBit(a+s,i);return this}},{key:"clearAll",value:function(){for(var t=this.buf.byteLength,e=0;e<t;e++)this.buf.setByte(e,0);return this}},{key:"width",get:function(){return this.w}},{key:"height",get:function(){return this.h}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReedSolomon=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(23),o=r(22);e.ReedSolomon=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.field=e,this.gx=r,this.aDegree=n,this.poly=new i.ArrayPolynomialRing(e)}return n(t,[{key:"encode",value:function(t){return this.poly.divmod(t,this.gx,this.gx.length-1).r}},{key:"decode",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=!1,n=[];n.length=this.gx.length-1,n.length<=2*e&&(n.length=2*e);for(var i=0;i<n.length;i++){for(var a=t[0],s=1;s<t.length;s++){var l=this.field.exp((this.aDegree+i)*s);a=this.field.add(this.field.mul(t[s],l),a)}n[i]=a,r=r||this.field.noteq(a,this.field.ZERO)}if(!r)return Array.prototype.slice.call(t,this.gx.length-1);for(var u=this.poly.field,h=new o.Equation(this.poly),c=Math.floor(n.length/2),f=[];c>0;c--){f.length=0;for(var p=0;p<c;p++)f[p]=n.slice(p,p+c);if(u.noteq(h.det(f,0,0,f.length),u.ZERO))break}if(0===c)return Array.prototype.slice.call(t,this.gx.length-1);for(var d=0;d<c;d++)f[d]=[u.neg(n[c+d])].concat(f[d]);for(var g=[u.ONE].concat(h.solve(f,0,0,c).reverse()),v=[],y=0;y<u.MODULO-1;y++){for(var m=g[0],b=1;b<g.length;b++){var w=u.exp((this.aDegree+y)*b);m=u.add(u.mul(g[b],w),m)}u.eq(u.ZERO,m)&&v.push(u.MODULO-1-y-this.aDegree)}f=[];for(var x=0;x<c;x++){f[x]=[u.neg(n[x])];for(var k=0;k<v.length;k++)f[x].push(u.exp((this.aDegree+x)*v[k]))}for(var _=h.solve(f,0,0,c),S=0;S<c;S++)t[v[S]]=u.add(t[v[S]],_[S]);return Array.prototype.slice.call(t,this.gx.length-1)}}],[{key:"listGx",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=new i.ArrayPolynomialRing(t),a=e||[],s=[t.exp(n),t.ONE],l=[t.exp(n+1),t.ONE];0===a.length?a.push(s):(s=a[a.length-1],l[0]=t.exp(n+a.length));for(var u=a.length+1;u<=r;u++)s=o.mul(s,l),a.push(s),l[0]=t.exp(n+u);return a}},{key:"getGx",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=new i.ArrayPolynomialRing(t),o=[t.exp(r),t.ONE],a=[t.exp(r+1),t.ONE],s=2;s<=e;s++)o=n.mul(o,a),a[0]=t.exp(r+s);return o}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.GfPrime=function(){function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.prime=e,this.alpha=r,this.expDict=[],this.lnDict=[this.NaN];for(var n=1,i=0;i<e-1;i++)this.expDict[i]=n,this.lnDict[n]=i,n=n*r%e}return n(t,[{key:"checkGenerationResult",value:function(){for(var t=1;t<this.prime;t++)if(void 0===this.lnDict[t])return!1;return!0}},{key:"normalize",value:function(t){return(t<0?this.prime- -t%this.prime:t)%this.prime}},{key:"isNaN",value:function(t){return Number.isNaN(t)}},{key:"eq",value:function(t,e){return this.normalize(t)===this.normalize(e)}},{key:"noteq",value:function(t,e){return this.normalize(t)!==this.normalize(e)}},{key:"neg",value:function(t){return(this.prime-t%this.prime)%this.prime}},{key:"inv",value:function(t){return 0===(t=this.normalize(t))?this.NaN:this.expDict[(this.prime-1-this.ln(t))%(this.prime-1)]}},{key:"inv_withoutTable",value:function(t){if(0===(t=this.normalize(t)))return this.NaN;for(var e=1,r=0;r<this.prime;r++){if(e%t==0)return e/t%this.prime;e+=this.prime}return this.NaN}},{key:"add",value:function(t,e){return(this.normalize(t)+this.normalize(e))%this.prime}},{key:"sub",value:function(t,e){return this.normalize(this.normalize(t)-this.normalize(e))}},{key:"mul",value:function(t,e){return this.normalize(t)*this.normalize(e)%this.prime}},{key:"div",value:function(t,e){return this.normalize(t)*this.inv(e)%this.prime}},{key:"mod",value:function(t,e){return e%this.prime==0?this.NaN:0}},{key:"divmod",value:function(t,e){return e%this.prime==0?{q:this.NaN,r:this.NaN,divisible:!1}:{q:this.div(t,e),r:0,divisible:!0}}},{key:"pow",value:function(t,e){return t=this.normalize(t),e%=this.prime-1,0===t?0===e?1:0:e>=0?this.exp(this.ln(t)*e):this.inv(this.exp(this.ln(t)*-e))}},{key:"pow_withoutTable",value:function(t,e){return t=this.normalize(t),e%=this.prime-1,0===t?0===e?1:0:e>=0?this.exp_withoutTable(this.ln_withoutTable(t)*e):this.inv_withoutTable(this.exp_withoutTable(this.ln(t)*-e))}},{key:"log",value:function(t,e){for(var r=[this.NaN],n=0;n<this.prime-1;n++){var i=this.pow(t,n);void 0===r[i]&&(r[i]=n)}var o=r[this.normalize(e)];return void 0!==o?o:this.NaN}},{key:"log_withoutTable",value:function(t,e){var r=this.ln_withoutTable(e),n=this.ln_withoutTable(t);if(this.isNaN(r)||this.isNaN(n))return this.NaN;for(var i=0;i<this.prime;i++){if(r%n==0)return r/n%this.prime;r=r+this.prime-1}return this.NaN}},{key:"exp",value:function(t){return t>=0?this.expDict[t%(this.prime-1)]:this.inv(this.expDict[-t%(this.prime-1)])}},{key:"exp_withoutTable",value:function(t){return t>=0?Math.pow(this.alpha,t%(this.prime-1))%this.prime:this.inv_withoutTable(Math.pow(this.alpha,-t%(this.prime-1)))}},{key:"ln",value:function(t){return this.lnDict[this.normalize(t)]}},{key:"ln_withoutTable",value:function(t){if(0===(t=this.normalize(t)))return this.NaN;for(var e=1,r=0;r<this.prime-1;r++){if(t===e)return r;e=e*this.alpha%this.prime}return this.NaN}},{key:"MODULO",get:function(){return this.prime}},{key:"ZERO",get:function(){return 0}},{key:"ONE",get:function(){return 1}},{key:"ALPHA",get:function(){return this.alpha}},{key:"NaN",get:function(){return Number.NaN}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gf2PrimeArrayPolynomialRing=e.Gf2PrimeBitPolynomialRing=e.Gf2PrimeFieldHelper=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(15),o=r(24),a=r(51);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var l=e.Gf2PrimeFieldHelper=function(){function t(){s(this,t)}return n(t,null,[{key:"listPx",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Math.pow(2,e),a=[],s=[];a[n-1]=1,a[0]=1;for(var l=Math.pow(2,e+1),u=function(e){t.polyDiv(a,t.bitToPoly(e)).divisible&&(0===s.length||s.every(function(r){return!t.bitPolyDiv(e,r).divisible}))&&s.push(e)},h=2;h<l;h++)u(h);return r?s:s.filter(function(t){return Boolean(1&i.Integer53.bitRShift(t,e))}).filter(function(t){return new o.Gf2Ext(e,t).checkGenerationResult()})}},{key:"bitToPoly",value:function(t){for(var e=[],r=(4294967295&(t=Math.abs(t)))>>>0,n=(t-r)/4294967296,i=0;i<32;i++)e[i]=(r&1<<i)>>>0?1:0;for(var o=0;o<21;o++)e[32+o]=(n&1<<o)>>>0?1:0;for(var a=52;a>0;a--)if(e[a])return e.length=a+1,e;return e.length=1,e}},{key:"polyToBit",value:function(t){for(var e=0,r=Math.min(53,t.length),n=0;n<r;n++)t[n]&&(e+=Math.pow(2,n));return e}},{key:"polyAdd",value:function(t,e){var r=[];r.length=Math.max(t.length,e.length);for(var n=0;n<r.length;n++)r[n]=(void 0!==t[n]?t[n]:0)^(void 0!==e[n]?e[n]:0);return r}},{key:"polySub",value:function(t,e){return this.polyAdd(t,e)}},{key:"bitPolyAdd",value:function(t,e){return i.Integer53.bitXor(t,e)}},{key:"bitPolySub",value:function(t,e){return i.Integer53.bitXor(t,e)}},{key:"polyMul",value:function(t,e){var r=[];r.length=t.length+e.length-1;for(var n=0;n<e.length;n++)for(var i=0;i<t.length;i++)r[i+n]^=t[i]&e[n];return r}},{key:"bitPolyMul",value:function(t,e){for(var r=0,n=0;n<53;n++)r=i.Integer53.bitXor(r,t*(1&i.Integer53.bitRShift(e,n))*Math.pow(2,n));return r}},{key:"polyDiv",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t=Array.from(t),r>0){var n=[];n.length=r;for(var i=0;i<r;i++)n[i]=0;t=n.concat(t)}for(var o=e.length,a=0;a<o&&!e[o-1];a++,o--);if(0===o)return{q:[Number.NaN],r:[Number.NaN],divisible:!1};var s=t.length-o+1,l=[];l.length=s;for(var u=0;u<s;u++)if(t[t.length-1-u]){l[s-1-u]=1;for(var h=0;h<o;h++)t[s-1-u+h]^=e[h]}else t[t.length-1-u]=0;var c=!0,f=[];f.length=o-1;for(var p=0;p<f.length;p++)t[p]&&(c=!1),f[p]=t[p];return{q:l,r:f,divisible:c}}},{key:"bitPolyDiv",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r&&(t=i.Integer53.bitLShift(t,r));for(var n=53,o=0;o<53&&!i.Integer53.bitRShift(e,52-o);o++,n--);if(0===n)return{q:Number.NaN,r:Number.NaN,divisible:!1};for(var a=53-n+1,s=0,l=0,u=Math.pow(2,52);l<a;l++,u/=2)if(1&Math.trunc(t/u)){var h=Math.pow(2,a-1-l);s+=h,t=i.Integer53.bitXor(t,e*h)}return{q:s,r:t,divisible:0===t}}},{key:"polyIsZero",value:function(t){for(var e=Math.min(52,t.length),r=0;r<e;r++)if(t[r])return!0;return!1}}]),t}();e.Gf2PrimeBitPolynomialRing=function(){function t(){s(this,t)}return n(t,[{key:"listPx",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.listPx(t,e)}},{key:"getAt",value:function(t,e){return 1&i.Integer53.bitRShift(t,e)}},{key:"setAt",value:function(t,e,r){return i.Integer53.bitNot(i.Integer53.bitLShift(1&r?0:1,e))}},{key:"slice",value:function(t,e,r){return i.Integer53.bitAnd(i.Integer53.bitRShift(i.Integer53.MAX_INT,r-e),i.Integer53.bitRShift(t,e))}},{key:"map",value:function(t,e){return this.mapToSelf(t,e)}},{key:"mapToSelf",value:function(t,e){for(var r=0;r<53;r++)t=this.setAt(t,r,e(this.getAt(t,r)));return t}},{key:"newNthPolynomial",value:function(t){return 0}},{key:"normalize",value:function(t){return t}},{key:"isNaN",value:function(t){return Number.isNaN(t)}},{key:"eq",value:function(t,e){return t===e}},{key:"noteq",value:function(t,e){return t!==e}},{key:"neg",value:function(t){return t}},{key:"add",value:function(t,e){return i.Integer53.bitXor(t,e)}},{key:"sub",value:function(t,e){return i.Integer53.bitXor(t,e)}},{key:"mul",value:function(t,e){return l.bitPolyMul(t,e)}},{key:"mod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l.bitPolyDiv(t,e,r).r}},{key:"divmod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l.bitPolyDiv(t,e,r)}},{key:"pow",value:function(t,e){throw new Error("not supported operation")}},{key:"exp",value:function(t){throw new Error("not supported operation")}},{key:"field",get:function(){return this._field?this._field:(this._field=new a.GfPrime(2),this._field)}},{key:"ZERO",get:function(){return 0}},{key:"ONE",get:function(){return 1}},{key:"NaN",get:function(){return Number.NaN}}]),t}(),e.Gf2PrimeArrayPolynomialRing=function(){function t(){s(this,t),this._nan=[Number.NaN]}return n(t,[{key:"listPx",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return l.listPx(t,e).map(function(t){return l.bitToPoly(t)})}},{key:"getAt",value:function(t,e){return t[e]}},{key:"setAt",value:function(t,e,r){return t[e]=r,t}},{key:"slice",value:function(t,e,r){return t.slice(e,r)}},{key:"map",value:function(t,e){return this.mapToSelf(Array.from(t),e)}},{key:"mapToSelf",value:function(t,e){for(var r=0;r<t.length;r++)t[r]=e(t[r]);return t}},{key:"newNthPolynomial",value:function(t){var e=[];return e.length=t+1,e.fill(0),e}},{key:"normalize",value:function(t){return(Array.isArray(t)?t:Array.from(t)).map(function(t){return Boolean(1&t)?1:0})}},{key:"isNaN",value:function(t){return t===this.NaN||1===t.length&&t[0]===Number.NaN}},{key:"eq",value:function(t,e){if(this.isNaN(t)||this.isNaN(e))return!1;for(var r=Math.max(t.length,e.length),n=0;n<r;n++)if((void 0!==t[n]&&Boolean(1&t[n])?1:0)!=(void 0!==e[n]&&Boolean(1&e[n])?1:0))return!1;return!0}},{key:"noteq",value:function(t,e){return!this.eq(t,e)}},{key:"neg",value:function(t){return Array.from(t)}},{key:"add",value:function(t,e){return l.polyAdd(t,e)}},{key:"sub",value:function(t,e){return l.polySub(t,e)}},{key:"mul",value:function(t,e){return l.polyMul(t,e)}},{key:"mod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l.polyDiv(t,e,r).r}},{key:"divmod",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return l.polyDiv(t,e,r)}},{key:"pow",value:function(t,e){throw new Error("not supported operation")}},{key:"exp",value:function(t){throw new Error("not supported operation")}},{key:"field",get:function(){return this._field?this._field:(this._field=new a.GfPrime(2),this._field)}},{key:"ZERO",get:function(){return[0]}},{key:"ONE",get:function(){throw[1]}},{key:"NaN",get:function(){return this._nan}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BCH=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(15),o=r(23),a=r(52),s=r(22);e.BCH=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.field=e,this.aDegree=n,this.gx=r}return n(t,[{key:"encode",value:function(t){return a.Gf2PrimeFieldHelper.bitPolyDiv(t,this._gx,this._gxLength-1).r}},{key:"decode",value:function(t,e){var r=this.field.MODULO-1,n=!1,a=[];a.length=2*e;for(var l=0;l<a.length;l++){for(var u=(1&t)*this.field.ONE,h=1;h<r;h++){var c=this.field.exp((this.aDegree+l)*h);u=this.field.add((1&i.Integer53.bitRShift(t,h))*c,u)}a[l]=u,n=n||this.field.noteq(u,this.field.ZERO)}if(!n)return i.Integer53.bitRShift(t,this._gxLength-1);for(var f=new s.Equation(new o.ArrayPolynomialRing(this.field)),p=Math.floor(a.length/2),d=[];p>0;p--){d.length=0;for(var g=0;g<p;g++)d[g]=a.slice(g,g+p);if(this.field.noteq(f.det(d,0,0,d.length),this.field.ZERO))break}if(0===p)return i.Integer53.bitRShift(t,this._gxLength-1);for(var v=0;v<p;v++)d[v]=[this.field.neg(a[p+v])].concat(d[v]);for(var y=[this.field.ONE].concat(f.solve(d,0,0,p).reverse()),m=[],b=0;b<this.field.MODULO-1;b++){for(var w=y[0],x=1;x<y.length;x++){var k=this.field.exp((this.aDegree+b)*x);w=this.field.add(this.field.mul(y[x],k),w)}this.field.eq(this.field.ZERO,w)&&m.push(this.field.MODULO-1-b-this.aDegree)}for(var _=0,S=0;S<p;S++)_+=Math.pow(2,m[S]);return t=i.Integer53.bitXor(t,_),i.Integer53.bitRShift(t,this._gxLength-1)}},{key:"gx",set:function(t){this._gx=t,this._gxLength=i.Integer53.highestBit(t)+1},get:function(){return this._gx}},{key:"gxLength",get:function(){return this._gxLength}}],[{key:"getGx",value:function(t,e){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=Math.log2(t.MODULO),o=a.Gf2PrimeFieldHelper.listPx(n,!0),s=[],l=Math.min(2*e,t.MODULO-1),u=0;u<t.MODULO-1;u++)for(var h=0;h<o.length;h++){for(var c=o[h],f=1&c,p=1;p<=n;p++)f=t.add(f,1&i.Integer53.bitRShift(c,p)?t.exp(p*u):0);0===f&&(s[u]=c)}for(var d=s[r],g=1;g<l;g++){for(var v=!1,y=s[g+r],m=g-1;m>=0;m--)if(y===s[m+r]){v=!0;break}v||(d=a.Gf2PrimeFieldHelper.bitPolyMul(d,y))}return d}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Qr=e.qrPropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=function t(e,r,n){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,r);if(void 0===i){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,r,n)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(n):void 0},o=v(r(4)),a=r(17),s=r(6),l=r(24),u=r(53),h=r(50),c=r(21),f=r(11),p=r(49),d=r(48),g=v(r(47));function v(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}var y=e.qrPropsDefault=Object.assign({},s.shapePropsDefault,{version:"auto",ecLevel:"M",encoding:"auto",cellSize:.33,unit:"mm"}),m=new l.Gf2e8Field,b=[],w=[{index:0,fn:function(t,e){return(t+e)%2==0}},{index:1,fn:function(t,e){return e%2==0}},{index:2,fn:function(t,e){return t%3==0}},{index:3,fn:function(t,e){return(t+e)%3==0}},{index:4,fn:function(t,e){return(Math.floor(t/3)+Math.floor(e/2))%2==0}},{index:5,fn:function(t,e){return t*e%2+t*e%3==0}},{index:6,fn:function(t,e){return(t*e%2+t*e%3)%2==0}},{index:7,fn:function(t,e){return(t*e%3+(t+e)%2)%2==0}}];e.Qr=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},y,t)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,s.Shape),n(e,[{key:"toImgTag",value:function(){return(0,s.toImgTag)(this)}},{key:"toElementStyle",value:function(){return(0,s.toElementStyle)(this)}},{key:"toDataUrl",value:function(){return(0,s.toDataUrl)(this)}},{key:"toSvg",value:function(){return(0,s.toSvg)(this)}},{key:"toRendered",value:function(){return o.renderAsHtml_noDefer(this)}},{key:"render",value:function(t,r){var n=this.getContext(t,s.CONTEXT_SVG_CANVAS),o=Boolean(n);o||(n=new a.SvgCanvas,this.setContext(t,s.CONTEXT_SVG_CANVAS,n),i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"beforeRender",this).call(this,t));var l=this.props.data||"",u=this.encodeData(l),h=this.buildBitmap(u.data,u.version);if(this.drawBitmap(n,h),o)return"";i(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"afterRender",this).call(this,t),this.unsetContext(t,s.CONTEXT_SVG_CANVAS);var c=h.width*this.props.cellSize+2*this.props.margin,f=c+(this.props.x||0),p=c+(this.props.y||0);return(0,s.renderSvgCanvas)(this.props,n,f,p)}},{key:"evaluteMask",value:function(t){for(var e=t.width,r=t.height,n=0,i=0;i<r;i++)for(var o=null,a=1,s=0;s<e;s++){var l=t.get(s,i);o!==l?a=1:a+=1,5===a?n+=3:5<a&&(n+=1),o=l}for(var u=0;u<e;u++)for(var h=null,c=1,f=0;f<r;f++){var p=t.get(u,f);h!==p?c=1:c+=1,5===c?n+=3:5<c&&(n+=1),h=p}for(var d=0;d<r-1;d++)for(var g=0;g<e-1;g++){var v=t.get(g,d);v===t.get(g+1,d)&&v===t.get(g,d+1)&&v===t.get(g+1,d+1)&&(n+=3)}for(var y=0;y<r;y++)for(var m=0;m<e-10;m++)0!==t.get(m,y)&&0===t.get(m+1,y)&&0!==t.get(m+2,y)&&0!==t.get(m+3,y)&&0!==t.get(m+4,y)&&0===t.get(m+5,y)&&0!==t.get(m+6,y)&&0===t.get(m+7,y)&&0===t.get(m+8,y)&&0===t.get(m+9,y)&&0===t.get(m+10,y)?n+=40:0===t.get(m,y)&&0===t.get(m+1,y)&&0===t.get(m+2,y)&&0===t.get(m+3,y)&&0!==t.get(m+4,y)&&0===t.get(m+5,y)&&0!==t.get(m+6,y)&&0!==t.get(m+7,y)&&0!==t.get(m+8,y)&&0===t.get(m+9,y)&&0!==t.get(m+10,y)&&(n+=40);for(var b=0;b<e;b++)for(var w=0;w<r-10;w++)0!==t.get(b,w)&&0===t.get(b,w+1)&&0!==t.get(b,w+2)&&0!==t.get(b,w+3)&&0!==t.get(b,w+4)&&0===t.get(b,w+5)&&0!==t.get(b,w+6)&&0===t.get(b,w+7)&&0===t.get(b,w+8)&&0===t.get(b,w+9)&&0===t.get(b,w+10)?n+=40:0===t.get(b,w)&&0===t.get(b,w+1)&&0===t.get(b,w+2)&&0===t.get(b,w+3)&&0!==t.get(b,w+4)&&0===t.get(b,w+5)&&0!==t.get(b,w+6)&&0!==t.get(b,w+7)&&0!==t.get(b,w+8)&&0===t.get(b,w+9)&&0!==t.get(b,w+10)&&(n+=40);for(var x=0,k=0,_=0;_<r;_++)for(var S=0;S<e;S++)0===t.get(S,_)?x++:k++;return n+=10*Math.floor(Math.abs(k/(x+k)*100-50)/5)}},{key:"encodeNumberData",value:function(t){for(var e=Math.ceil(10*t.length/24),r=new c.BitStreamWriter(e),n=0,i=0;n<t.length;n++){var o=d.numberModeCharMap.get(t[n]);if(void 0===o)return null;i=10*i+o,2==n%3&&(r.writeBits(i,10),i=0)}return(n%=3)&&r.writeBits8(i,1+3*n),{data:r,charLength:t.length}}},{key:"encodeAlnumData",value:function(t){for(var e=Math.ceil(11*t.length/16),r=new c.BitStreamWriter(e),n=0,i=0;n<t.length;n++){var o=d.alnumModeCharMap.get(t[n]);if(void 0===o)return null;i=45*i+o,1==n%2&&(r.writeBits(i,11),i=0)}return n%2&&r.writeBits8(i,6),{data:r,charLength:t.length}}},{key:"encode8bitData",value:function(t){var e=new c.BitStreamWriter(0,f.TextEncoding.encodeToUtf8(t));return{data:e,charLength:e.byteLength}}},{key:"encodeChunks",value:function(t){Array.isArray(t)||(t=[t]);var e=[],r=!0,n=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(r=(o=a.next()).done);r=!0){var s=o.value;if(s instanceof c.BitStreamWriter)e.push({type:d.QrDataChunkType.Binary,data:s,charLength:s.byteLength});else if(s instanceof Uint8Array)e.push({type:d.QrDataChunkType.Binary,data:new c.BitStreamWriter(0,s),charLength:s.length});else if("string"==typeof s){var l=null,u=void 0,h=!0;switch(this.props.encoding){case"auto":h=!1;case"number":if(l=this.encodeNumberData(s),u=d.QrDataChunkType.Number,h||l)break;case"alnum":if(l=this.encodeAlnumData(s),u=d.QrDataChunkType.Alnum,h||l)break;case"8bit":default:l=this.encode8bitData(s),u=d.QrDataChunkType.Binary}if(null===l)throw new Error("QrModel2: character is out of range.");e.push({type:u,data:l.data,charLength:l.charLength})}}}catch(t){n=!0,i=t}finally{try{!r&&a.return&&a.return()}finally{if(n)throw i}}return e}},{key:"determineSymbolVersion",value:function(t){for(var e="auto"===this.props.version?1:this.props.version||1,r=void 0,n=0,i=0;;){i=0;var o=!0,a=!1,s=void 0;try{for(var l,u=t[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;switch(h.type){case d.QrDataChunkType.Number:i+=e<10?14:e<27?16:18;break;case d.QrDataChunkType.Alnum:i+=e<10?13:e<27?15:17;break;case d.QrDataChunkType.Binary:i+=e<10?12:20}i+=h.data.bitLength}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}switch(this.props.ecLevel){case"L":r=g.segments[e].L,n=8*g.dataCodewords.L[e];break;case"Q":r=g.segments[e].Q,n=8*g.dataCodewords.Q[e];break;case"H":r=g.segments[e].H,n=8*g.dataCodewords.H[e];break;case"M":default:r=g.segments[e].M,n=8*g.dataCodewords.M[e]}if(i<=n)break;if("auto"!==this.props.version||!g.segments[++e])throw new Error("QrModel2: data is too large.")}return{version:e,segments:r,dataLength:i,maxDataLength:n}}},{key:"encodeData",value:function(t){var e=this.encodeChunks(t),r=this.determineSymbolVersion(e),n=r.version,i=r.segments,o=r.dataLength,a=r.maxDataLength,s=void 0,l=[],u=!0,f=!1,p=void 0;try{for(var g,v=e[Symbol.iterator]();!(u=(g=v.next()).done);u=!0){var y=g.value,w=0,x=new c.BitStreamWriter(3);switch(y.type){case d.QrDataChunkType.Number:x.writeBits8(1,4),w=n<10?10:n<27?12:14,x.writeBits(y.charLength,w);break;case d.QrDataChunkType.Alnum:x.writeBits8(2,4),w=n<10?9:n<27?11:13,x.writeBits(y.charLength,w);break;case d.QrDataChunkType.Binary:x.writeBits8(4,4),w=n<10?8:16,x.writeBits(y.charLength,w)}0<x.bitLength&&l.push(x),l.push(y.data)}}catch(t){f=!0,p=t}finally{try{!u&&v.return&&v.return()}finally{if(f)throw p}}if(o<a){var k=a-o,_=new c.BitStreamWriter(Math.ceil(k/8)),S=Math.min(4,k);_.writeBits8(0,S),0<(k-=S)&&0!=k%8&&(S=k%8,_.writeBits8(0,S),k-=S);for(var E=0;0<k;E++)S=Math.min(8,k),_.writeBits8(0==E%2?236:17,S),k-=S;l.push(_)}s=c.BitStreamWriter.concat.apply(c.BitStreamWriter,l).toBytes();for(var O=0,T=[],A=[],P=0,C=0;P<i.length;P++){var M,D=i[P][0],R=i[P][2],j=i[P][1]-R;b.length<=j-1&&(b=h.ReedSolomon.listGx(m,b,j,0)),M=b[j-1];for(var L=new h.ReedSolomon(m,M,0),N=0;N<D;N++){var B=s.slice(C,C+R).reverse(),I=Uint8Array.from(L.encode(B));T.push(B.reverse()),A.push(I.reverse()),O+=R+j,C+=R}}var U=new Uint8Array(O),H=[T,A],W=0,F=!0,q=!1,G=void 0;try{for(var X,z=H[Symbol.iterator]();!(F=(X=z.next()).done);F=!0)for(var V=X.value,Y=0,Q=!0;Q;Y++){Q=!1;for(var $=0;$<V.length;$++)Y<V[$].length&&(U[W++]=V[$][Y],Q=!0)}}catch(t){q=!0,G=t}finally{try{!F&&z.return&&z.return()}finally{if(q)throw G}}return{data:U,version:n,ecLevel:this.props.ecLevel}}},{key:"applyMask",value:function(t,e,r){for(var n=t.width,i=t.width,o=0;o<n;o++)for(var a=0;a<i;a++)0===e.get(n-1-o,i-1-a)&&t.set(n-1-o,i-1-a,t.get(n-1-o,i-1-a)^(r(o,a)?1:0))}},{key:"buildBitmap",value:function(t,e){var r=g.matrixSize[e],n=r,i=r,o=new p.Bitmap(r,r),a=new p.Bitmap(r,r);a.fill(0,i-9,8,9,1),a.fill(n-9,0,9,8,1),a.fill(n-9,i-9,9,9,1),7<=e&&(a.fill(8,i-6,3,6,1),a.fill(n-6,8,6,3,1));for(var s=[{px:n-7,py:i-7},{px:0,py:i-7},{px:n-7,py:0}],l=0;l<s.length;l++){var h=s[l],c=h.px,f=h.py;o.set(c+0,f+0,1),o.set(c+0,f+1,1),o.set(c+0,f+2,1),o.set(c+0,f+3,1),o.set(c+0,f+4,1),o.set(c+0,f+5,1),o.set(c+0,f+6,1),o.set(c+1,f+0,1),o.set(c+2,f+0,1),o.set(c+3,f+0,1),o.set(c+4,f+0,1),o.set(c+5,f+0,1),o.set(c+6,f+0,1),o.set(c+6,f+1,1),o.set(c+6,f+2,1),o.set(c+6,f+3,1),o.set(c+6,f+4,1),o.set(c+6,f+5,1),o.set(c+1,f+6,1),o.set(c+2,f+6,1),o.set(c+3,f+6,1),o.set(c+4,f+6,1),o.set(c+5,f+6,1),o.set(c+6,f+6,1),o.set(c+2,f+2,1),o.set(c+2,f+3,1),o.set(c+2,f+4,1),o.set(c+3,f+2,1),o.set(c+4,f+2,1),o.set(c+4,f+3,1),o.set(c+4,f+4,1),o.set(c+3,f+4,1),o.set(c+3,f+3,1)}for(var v=g.alignmentPatterns[e],y=0;y<v.length;y++)for(var b=n-v[y]-1,x=0;x<v.length;x++){for(var k=i-v[x]-1,_=!0,S=b-2;S<=b+2;S++){for(var E=k-2;E<=k+2;E++)if(a.get(S,E)){_=!1;break}if(!_)break}_&&(a.fill(b-2,k-2,5,5,1),o.set(b-2,k+2,1),o.set(b-2,k+1,1),o.set(b-2,k,1),o.set(b-2,k-1,1),o.set(b-2,k-2,1),o.set(b+2,k+2,1),o.set(b+2,k+1,1),o.set(b+2,k,1),o.set(b+2,k-1,1),o.set(b+2,k-2,1),o.set(b+1,k-2,1),o.set(b+1,k+2,1),o.set(b,k+2,1),o.set(b,k,1),o.set(b,k-2,1),o.set(b-1,k-2,1),o.set(b-1,k+2,1))}a.fill(8,i-7,n-17,1,1),a.fill(n-7,8,1,i-17,1);for(var O=8;O<=i-9;O+=2)o.set(n-7,O,1),o.set(O,i-7,1);for(var T=1,A=-1,P=!0,C=!1,M=0;M<t.length;M++)for(var D=7;D>=0;D--)for(;;)if(C?T+=1:i-1===A&&P||0===A&&!P?(T+=T===n-8?2:1,P=!P):(T-=1,P?A+=1:A-=1),C=!C,0===a.get(T,A)){o.set(T,A,t[M]>>>D&1);break}if(7<=e){var R=e<<12|new u.BCH(m,7973).encode(e);o.set(n-1,10,R>>>0&1),o.set(n-1,9,R>>>1&1),o.set(n-1,8,R>>>2&1),o.set(n-2,10,R>>>3&1),o.set(n-2,9,R>>>4&1),o.set(n-2,8,R>>>5&1),o.set(n-3,10,R>>>6&1),o.set(n-3,9,R>>>7&1),o.set(n-3,8,R>>>8&1),o.set(n-4,10,R>>>9&1),o.set(n-4,9,R>>>10&1),o.set(n-4,8,R>>>11&1),o.set(n-5,10,R>>>12&1),o.set(n-5,9,R>>>13&1),o.set(n-5,8,R>>>14&1),o.set(n-6,10,R>>>15&1),o.set(n-6,9,R>>>16&1),o.set(n-6,8,R>>>17&1),o.set(10,i-1,R>>>0&1),o.set(9,i-1,R>>>1&1),o.set(8,i-1,R>>>2&1),o.set(10,i-2,R>>>3&1),o.set(9,i-2,R>>>4&1),o.set(8,i-2,R>>>5&1),o.set(10,i-3,R>>>6&1),o.set(9,i-3,R>>>7&1),o.set(8,i-3,R>>>8&1),o.set(10,i-4,R>>>9&1),o.set(9,i-4,R>>>10&1),o.set(8,i-4,R>>>11&1),o.set(10,i-5,R>>>12&1),o.set(9,i-5,R>>>13&1),o.set(8,i-5,R>>>14&1),o.set(10,i-6,R>>>15&1),o.set(9,i-6,R>>>16&1),o.set(8,i-6,R>>>17&1)}var j=0,L=Number.MAX_SAFE_INTEGER,N=!0,B=!1,I=void 0;try{for(var U,H=w[Symbol.iterator]();!(N=(U=H.next()).done);N=!0){var W=U.value;this.applyMask(o,a,W.fn);var F=this.evaluteMask(o);F<L&&(j=W.index,L=F),this.applyMask(o,a,W.fn)}}catch(t){B=!0,I=t}finally{try{!N&&H.return&&H.return()}finally{if(B)throw I}}this.applyMask(o,a,w[j].fn);var q=this.props,G=d.ecLevelMap.get(q.ecLevel);if(void 0===G)throw new Error("Qr#buildBitmap: bad ecLevel '"+q.ecLevel+"' is specified.");var X=G<<3|w[j].index;X=21522^(X<<10|new u.BCH(m,1335).encode(X));for(var z=0;z<=7;z++)o.set(z,i-9,X>>>z&1);o.set(n-8,i-9,X>>>8&1);for(var V=9;V<=14;V++)o.set(V+n-15,i-9,X>>>V&1);for(var Y=0;Y<=5;Y++)o.set(n-9,i-1-Y,X>>>Y&1);for(var Q=6;Q<=7;Q++)o.set(n-9,i-2-Q,X>>>Q&1);o.set(n-9,7,1);for(var $=8;$<=14;$++)o.set(n-9,14-$,X>>>$&1);return o}},{key:"drawBitmap",value:function(t,e){for(var r=e.width,n=e.height,i=0;i<r;i++)for(var o=0;o<n;o++)e.get(i,o)&&t.rect(r-1-i,n-1-o,1,1);t.fill()}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.charactersMap=new Map([["0",{index:0,pattern:"11111220",width:9}],["1",{index:1,pattern:"11112210",width:9}],["2",{index:2,pattern:"11121120",width:9}],["3",{index:3,pattern:"22111110",width:9}],["4",{index:4,pattern:"11211210",width:9}],["5",{index:5,pattern:"21111210",width:9}],["6",{index:6,pattern:"12111120",width:9}],["7",{index:7,pattern:"12112110",width:9}],["8",{index:8,pattern:"12211110",width:9}],["9",{index:9,pattern:"21121110",width:9}],["-",{index:10,pattern:"11122110",width:9}],["$",{index:11,pattern:"11221110",width:9}],[":",{index:12,pattern:"21112120",width:10}],["/",{index:13,pattern:"21211120",width:10}],[".",{index:14,pattern:"21212110",width:10}],["+",{index:15,pattern:"11212120",width:10}],["A",{index:16,pattern:"11221210",width:10}],["B",{index:17,pattern:"12121120",width:10}],["C",{index:18,pattern:"11121220",width:10}],["D",{index:19,pattern:"11122210",width:10}]]),i=e.reverseMap=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=n.entries()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;i.set(h[1].index,h[0])}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Nw7=e.nw7PropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(55);var a=e.nw7PropsDefault=Object.assign({},i.barcodeBasePropsDefault,{useRawDataAsText:!0,addCheckDigit:!0,narrowWidth:.33,wideWidth:.66,charGapWidth:void 0,startChar:"",stopChar:""});e.Nw7=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},a,t),o.charactersMap))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,a=i.charGapWidth||i.narrowWidth,s=(i.narrowWidth,i.wideWidth,2*i.quietWidth-a),l=""+e+t+n+r,u=!0,h=!1,c=void 0;try{for(var f,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value,g=o.charactersMap.get(d);if(void 0===g)throw new Error("NW7: character is out of range.");var v=g.width-7,y=7-v;s+=i.narrowWidth*y+i.wideWidth*v+a}}catch(t){h=!0,c=t}finally{try{!u&&p.return&&p.return()}finally{if(h)throw c}}return{tw:s,th:2*i.quietHeight+i.height+(i.drawText?i.textHeight:0)}}},{key:"calcCheckDigit",value:function(t){var e="";if(this.props.addCheckDigit){for(var r=0,n=0;n<t.length;n++){var i=o.charactersMap.get(t[n]);if(void 0===i)throw new Error("NW7: character is out of range.");r=(r+i.index)%16}var a=o.reverseMap.get((16-r)%16);if(void 0===a)throw new Error("NW7: check digit is out of range.");e=a}return e}},{key:"encodeData",value:function(t){return{data:t,startChar:this.props.startChar||"",stopChar:this.props.stopChar||""}}},{key:"getBarSpaceWidth",value:function(){var t=this.props;return[t.charGapWidth||t.narrowWidth,t.narrowWidth,t.wideWidth]}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.charactersMap=new Map([["0",{index:0,pattern:"144"}],["1",{index:1,pattern:"114"}],["2",{index:2,pattern:"132"}],["3",{index:3,pattern:"312"}],["4",{index:4,pattern:"123"}],["5",{index:5,pattern:"141"}],["6",{index:6,pattern:"321"}],["7",{index:7,pattern:"213"}],["8",{index:8,pattern:"231"}],["9",{index:9,pattern:"411"}],["-",{index:10,pattern:"414"}],["A",{index:11,pattern:"324"}],["B",{index:12,pattern:"342"}],["C",{index:13,pattern:"234"}],["D",{index:14,pattern:"432"}],["E",{index:15,pattern:"243"}],["F",{index:16,pattern:"423"}],["G",{index:17,pattern:"441"}],["H",{index:18,pattern:"111"}],["[",{index:19,pattern:"13"}],["]",{index:38,pattern:"31"}]]),i=e.reverseMap=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=n.entries()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;i.set(h[1].index,h[0])}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}e.fullAsciiMap=new Map([[45,"-"],[48,"0"],[49,"1"],[50,"2"],[51,"3"],[52,"4"],[53,"5"],[54,"6"],[55,"7"],[56,"8"],[57,"9"],[65,"A0"],[66,"A1"],[67,"A2"],[68,"A3"],[69,"A4"],[70,"A5"],[71,"A6"],[72,"A7"],[73,"A8"],[74,"A9"],[75,"B0"],[76,"B1"],[77,"B2"],[78,"B3"],[79,"B4"],[80,"B5"],[81,"B6"],[82,"B7"],[83,"B8"],[84,"B9"],[85,"C0"],[86,"C1"],[87,"C2"],[88,"C3"],[89,"C4"],[90,"C5"]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.JapanPostal=e.japanPostalPropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(57);var a=e.japanPostalPropsDefault=Object.assign({},i.barcodeBasePropsDefault,{elementWidth:.6,height:1.2*3});e.JapanPostal=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},a,t),o.charactersMap))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,o=6*i.elementWidth;return{tw:2*i.quietWidth+21*o+7*i.elementWidth,th:2*i.quietHeight+i.height}}},{key:"calcCheckDigit",value:function(t){for(var e=0,r=0;r<t.length;r++){var n=this.charactersMap.get(t[r]);if(void 0===n)throw new Error("Japan Post: character is out of range.");e=(e+n.index)%19}var i=o.reverseMap.get(e);if(void 0===i)throw new Error("Japan Post: check digit is out of range.");return i}},{key:"encodeData",value:function(t){for(var e="",r=0;r<t.length;r++){var n=o.fullAsciiMap.get(t.charCodeAt(r));if(void 0===n)throw new Error("Japan Post: character is out of range.");e+=n}return{data:(e+="DDDDDDDDDDDDDDDDD").slice(0,20),startChar:"[",stopChar:"]"}}},{key:"getBarSpaceWidth",value:function(){return[0,this.props.elementWidth]}},{key:"getBarSpaceHeight",value:function(){var t=this.props.height;return[[{offset:0,height:t}],[{offset:0,height:t}],[{offset:0,height:2*t/3}],[{offset:t/3,height:2*t/3}],[{offset:t/3,height:t/3}]]}},{key:"renderText",value:function(t,e,r,n,i){}},{key:"isHeightModulated",get:function(){return!0}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=new Map([[0,"11221"],[1,"21112"],[2,"12112"],[3,"22111"],[4,"11212"],[5,"21211"],[6,"12211"],[7,"11122"],[8,"21121"],[9,"12121"]]),i=e.charactersMap=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=n[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value,c=!0,f=!1,p=void 0;try{for(var d,g=n[Symbol.iterator]();!(c=(d=g.next()).done);c=!0){for(var v=d.value,y=10*h[0]+v[0],m=String.fromCharCode(y),b="",w=0;w<5;w++)b+=h[1][w]+v[1][w];i.set(m,{index:y,pattern:b})}}catch(t){f=!0,p=t}finally{try{!c&&g.return&&g.return()}finally{if(f)throw p}}}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}i.set("d",{index:100,pattern:"1111"}),i.set("e",{index:101,pattern:"211"})},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Itf=e.itfPropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(59);var a=e.itfPropsDefault=Object.assign({},i.barcodeBasePropsDefault,{addCheckDigit:!0,narrowWidth:.33,wideWidth:.66});e.Itf=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},a,t),o.charactersMap))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,o=3*i.narrowWidth+2*i.wideWidth;return{tw:2*i.quietWidth+8*i.narrowWidth+o*t.length*2,th:2*i.quietHeight+i.height+(i.drawText?i.textHeight:0)}}},{key:"calcItfMod10W3Checksum",value:function(t){for(var e=0,r=0,n=0;n<t.length;n++)(n+1)%2?e=(e+Number.parseInt(t[t.length-1-n]))%10:r=(r+Number.parseInt(t[t.length-1-n]))%10;return String((10-(3*e+r)%10)%10)}},{key:"encodeData",value:function(t){var e=t;this.props.addCheckDigit&&(e+=this.calcItfMod10W3Checksum(t));var r="";if(e.length%2)throw new Error("bad data length");for(var n=0;n<e.length;n+=2){var i=Number.parseInt(e.slice(n,n+2));r+=String.fromCharCode(i)}return{data:r,labelText:e,startChar:"d",stopChar:"e"}}},{key:"getBarSpaceWidth",value:function(){var t=this.props;return[0,t.narrowWidth,t.wideWidth]}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.charactersMap=new Map([["\0",{index:0,pattern:"-1123"}],["",{index:1,pattern:"-1222"}],["",{index:2,pattern:"-2212"}],["",{index:3,pattern:"-1141"}],["",{index:4,pattern:"-2311"}],["",{index:5,pattern:"-1321"}],["",{index:6,pattern:"-4111"}],["",{index:7,pattern:"-2131"}],["\b",{index:8,pattern:"-3121"}],["\t",{index:9,pattern:"-2113"}],["",{index:10,pattern:"-3211"}],["",{index:11,pattern:"-2221"}],["",{index:12,pattern:"-2122"}],["",{index:13,pattern:"-1411"}],["",{index:14,pattern:"-1132"}],["",{index:15,pattern:"-1231"}],["",{index:16,pattern:"-1114"}],["",{index:17,pattern:"-1312"}],["",{index:18,pattern:"-1213"}],["",{index:19,pattern:"-3112"}],[" ",{index:20,pattern:"3211"}],["!",{index:21,pattern:"2221"}],['"',{index:22,pattern:"2122"}],["#",{index:23,pattern:"1411"}],["$",{index:24,pattern:"1132"}],["%",{index:25,pattern:"1231"}],["&",{index:26,pattern:"1114"}],["'",{index:27,pattern:"1312"}],["(",{index:28,pattern:"1213"}],[")",{index:29,pattern:"3112"}],["0",{index:30,pattern:"111111"}],["1",{index:31,pattern:"110100"}],["2",{index:32,pattern:"110010"}],["3",{index:33,pattern:"110001"}],["4",{index:34,pattern:"101100"}],["5",{index:35,pattern:"100110"}],["6",{index:36,pattern:"100011"}],["7",{index:37,pattern:"101010"}],["8",{index:38,pattern:"101001"}],["9",{index:39,pattern:"100101"}],["@",{index:40,pattern:"111"}],["P",{index:50,pattern:"-11111"}],["`",{index:60,pattern:"111"}],["p",{index:70,pattern:"00111"}],["q",{index:71,pattern:"01011"}],["r",{index:72,pattern:"01101"}],["s",{index:73,pattern:"01110"}],["t",{index:74,pattern:"10011"}],["u",{index:75,pattern:"11001"}],["v",{index:76,pattern:"11100"}],["w",{index:77,pattern:"10101"}],["x",{index:78,pattern:"10110"}],["y",{index:79,pattern:"11010"}],["",{index:80,pattern:"11"}],["",{index:81,pattern:"10"}],["",{index:82,pattern:"01"}],["",{index:83,pattern:"00"}],["",{index:90,pattern:"-1112"}],["",{index:91,pattern:"-11"}],["",{index:92,pattern:"112"}],["",{index:93,pattern:"-111111"}],[" ",{index:100,pattern:"000111"}],["¡",{index:101,pattern:"001011"}],["¢",{index:102,pattern:"001101"}],["£",{index:103,pattern:"001110"}],["¤",{index:104,pattern:"010011"}],["¥",{index:105,pattern:"011001"}],["¦",{index:106,pattern:"011100"}],["§",{index:107,pattern:"010101"}],["¨",{index:108,pattern:"010110"}],["©",{index:109,pattern:"011010"}],["°",{index:110,pattern:"111000"}],["±",{index:111,pattern:"110100"}],["²",{index:112,pattern:"110010"}],["³",{index:113,pattern:"110001"}],["´",{index:114,pattern:"101100"}],["µ",{index:115,pattern:"100110"}],["¶",{index:116,pattern:"100011"}],["·",{index:117,pattern:"101010"}],["¸",{index:118,pattern:"101001"}],["¹",{index:119,pattern:"100101"}]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpcE=e.UpcA=e.Ean2=e.Ean5=e.Ean8=e.Ean13=e.EanBase=e.eanPropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(61);function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=e.eanPropsDefault=Object.assign({},i.barcodeBasePropsDefault,{smallFont:"normal 3.0px 'OCRB'",elementWidth:.33,guardExtHeight:2}),h=e.EanBase=function(t){function e(t){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},u,t),o.charactersMap))}return l(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,o=void 0,a=0;switch(this.eanTypes){case"ean-13":case"upc-a":o=12,a=11;break;case"ean-8":o=8,a=11;break;case"ean-5":o=5,a=13;break;case"upc-e":o=6,a=10;break;case"ean-2":o=2,a=7;break;default:throw new Error("bad data length")}return{tw:2*i.quietWidth+i.elementWidth*(7*o+a),th:2*i.quietHeight+i.height+(i.drawText?i.textHeight:0)}}},{key:"calcEanMod10W3Checksum",value:function(t){for(var e=0,r=0,n=0;n<t.length;n++){var i=this.charactersMap.get(t[t.length-1-n]);if(void 0===i)throw new Error("EAN: character is out of range.");(n+1)%2?e=(e+i.index)%10:r=(r+i.index)%10}return(10-(3*e+r)%10)%10}},{key:"calcEan5Checksum",value:function(t){for(var e=0,r=0;r<t.length;r++)e=(e+Number.parseInt(t[r])*(r%2?3:9))%10;return e}},{key:"calcEan2Checksum",value:function(t){return Number.parseInt(t)%4}},{key:"encodeData",value:function(t){var e=t,r="",n=void 0,i=void 0;if("upc-a"===this.eanTypes||"upc-e"===this.eanTypes){switch(t.length){case 12:case 11:t="0"+t}if("upc-e"===this.eanTypes){var o=void 0;switch(t.length){case 13:case 12:if(e=t.slice(0,12),o=t.match(/^0([01])([0-9]{5})0{4}([5-9])/))t=""+o[1]+o[2]+o[3];else if(o=t.match(/^0([01])([0-9]{4})0{5}([0-9])/))t=""+o[1]+o[2]+o[3]+"4";else if(o=t.match(/^0([01])([0-9]{3})0{5}([0-9]{2})/))t=""+o[1]+o[2]+o[3]+"3";else{if(!(o=t.match(/^0([01])([0-9]{2})([0-2])0{4}([0-9]{3})/)))throw new Error("EAN: bad data format");t=""+o[1]+o[2]+o[4]+o[3]}var a=this.calcEanMod10W3Checksum(e);e+=a,t+=a;break;case 8:case 7:if(!t.match(/^[01]/))throw new Error("EAN: bad data format");switch(t[6]){case"0":case"1":case"2":e="0"+t[0]+t.slice(1,3)+t.slice(6,7)+"0000"+t.slice(3,6);break;case"3":e="0"+t[0]+t.slice(1,4)+"00000"+t.slice(4,6);break;case"4":e="0"+t[0]+t.slice(1,5)+"00000"+t.slice(5,6);break;case"5":case"6":case"7":case"8":case"9":e="0"+t[0]+t.slice(1,6)+"0000"+t.slice(6,7);break;default:throw new Error("EAN: bad data format")}var s=this.calcEanMod10W3Checksum(e);e+=s,t=t.slice(0,7)+s}}}switch(this.eanTypes){case"ean-13":case"upc-a":n="",i=t.slice(0,12),r+="@",n+="1";var l=this.charactersMap.get(String.fromCharCode(48+Number.parseInt(t[0])));if(void 0===l)throw new Error("EAN: character is out of range.");for(var u=l.pattern,h=1;h<7;h++){var c=Number.parseInt(u[h-1]);r+=String.fromCharCode(16*c+Number.parseInt(t[h])),"upc-a"===this.eanTypes&&1===h?n+="1":n+="0"}r+="P",n+="1";for(var f=7;f<12;f++)r+=String.fromCharCode(32+Number.parseInt(t[f])),n+="0";var p=this.calcEanMod10W3Checksum(i);i+=String.fromCharCode(48+p),r+=String.fromCharCode(32+p),"upc-a"===this.eanTypes?n+="1":n+="0",r+="`",n+="1";break;case"ean-8":n="",i=t.slice(0,7),r+="@",n+="1";for(var d=0;d<4;d++)r+=String.fromCharCode(16+Number.parseInt(t[d])),n+="0";r+="P",n+="1";for(var g=4;g<7;g++)r+=String.fromCharCode(32+Number.parseInt(t[g])),n+="0";var v=this.calcEanMod10W3Checksum(i);i+=String.fromCharCode(48+v),r+=String.fromCharCode(32+v),n+="0",r+="`",n+="1";break;case"upc-e":n="",i=t,r+="",n+="1";var y=this.charactersMap.get(String.fromCharCode(("0"===t[0]?160:176)+Number.parseInt(t[7])));if(void 0===y)throw new Error("EAN: character is out of range.");for(var m=y.pattern,b=1;b<7;b++){var w=Number.parseInt(m[b-1]);r+=String.fromCharCode(16*w+Number.parseInt(t[b])),n+="0"}r+="",n+="1";break;case"ean-5":i=t.slice(0,5),r+="";var x=this.charactersMap.get(String.fromCharCode(112+this.calcEan5Checksum(t)));if(void 0===x)throw new Error("EAN: character is out of range.");for(var k=x.pattern,_=0;_<5;_++){var S=Number.parseInt(k[_]);_>0&&(r+=""),r+=String.fromCharCode(16*S+Number.parseInt(t[_]))}break;case"ean-2":i=t.slice(0,2),r+="";var E=this.charactersMap.get(String.fromCharCode(128+this.calcEan2Checksum(t)));if(void 0===E)throw new Error("EAN: character is out of range.");for(var O=E.pattern,T=0;T<2;T++){var A=Number.parseInt(O[T]);T>0&&(r+=""),r+=String.fromCharCode(16*A+Number.parseInt(t[T]))}break;default:throw new Error("EAN: bad data length")}return{data:r,heightData:n,labelText:i,startChar:"",stopChar:""}}},{key:"getBarSpaceWidth",value:function(){var t=this.props.elementWidth;return[0,t,2*t,3*t,4*t]}},{key:"getBarSpaceHeight",value:function(){var t=this.props,e=t.height;return[[{offset:0,height:e}],[{offset:0,height:e+t.guardExtHeight}]]}},{key:"getRenderStartCoodinate",value:function(t,e){var r=this.props,n=r.quietWidth,i=r.quietHeight;switch(this.eanTypes){case"ean-13":case"ean-8":case"upc-a":case"upc-e":return{rx:n,ry:i};case"ean-5":case"ean-2":return{rx:n,ry:i+(r.drawText?r.textHeight:0)};default:throw new Error("EAN: bad data length")}}},{key:"renderText",value:function(t,e,r,n,i){var o=this.props;switch(this.eanTypes){case"ean-13":o.guardExtHeight>0?(t.textBaseline="alphabetic",t.textAlign="start",t.fillText(i.slice(0,1),o.quietWidth-14*o.elementWidth,r-o.quietHeight),t.textAlign="center",t.fillText(i.slice(1,7),o.quietWidth+24*o.elementWidth,r-o.quietHeight),t.fillText(i.slice(7,13),o.quietWidth+71*o.elementWidth,r-o.quietHeight)):(t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i,e/2,r-o.quietHeight));break;case"upc-a":o.guardExtHeight>0?(t.textBaseline="alphabetic",t.font=o.smallFont||t.font,t.textAlign="start",t.fillText(i.slice(1,2),o.quietWidth-12*o.elementWidth,r-o.quietHeight-.2*o.textHeight),t.font=o.font||t.font,t.textAlign="center",t.fillText(i.slice(2,7),o.quietWidth+27.5*o.elementWidth,r-o.quietHeight),t.fillText(i.slice(7,12),o.quietWidth+67.5*o.elementWidth,r-o.quietHeight),t.font=o.smallFont||t.font,t.textAlign="start",t.fillText(i.slice(12,13),e-o.quietWidth+7*o.elementWidth,r-o.quietHeight-.2*o.textHeight)):(t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i.slice(1),e/2,r-o.quietHeight));break;case"ean-8":o.guardExtHeight>0?(t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i.slice(0,4),o.quietWidth+17*o.elementWidth,r-o.quietHeight),t.fillText(i.slice(4,8),o.quietWidth+50*o.elementWidth,r-o.quietHeight)):(t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i,e/2,r-o.quietHeight));break;case"upc-e":o.guardExtHeight>0?(t.font=o.smallFont||t.font,t.textAlign="start",t.fillText(i.slice(0,1),o.quietWidth-12*o.elementWidth,r-o.quietHeight-.2*o.textHeight),t.font=o.font||t.font,t.textAlign="center",t.fillText(i.slice(1,7),e/2,r-o.quietHeight),t.font=o.smallFont||t.font,t.textAlign="start",t.fillText(i.slice(7,8),e-o.quietWidth+7*o.elementWidth,r-o.quietHeight-.2*o.textHeight)):(t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i,e/2,r-o.quietHeight));break;case"ean-5":case"ean-2":t.textAlign="center",t.textBaseline="alphabetic",t.fillText(i,e/2,o.quietHeight+o.textHeight);break;default:throw new Error("EAN: bad data length")}}},{key:"eanTypes",get:function(){throw new Error("EAN#eanTypes: abstract property")}}]),e}();e.Ean13=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"ean-13"}}]),e}(),e.Ean8=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"ean-8"}}]),e}(),e.Ean5=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"ean-5"}}]),e}(),e.Ean2=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"ean-2"}}]),e}(),e.UpcA=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"upc-a"}}]),e}(),e.UpcE=function(t){function e(){return a(this,e),s(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,h),n(e,[{key:"eanTypes",get:function(){return"upc-e"}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.charactersMap=new Map([["\0",{index:0,pattern:"212222"}],["",{index:1,pattern:"222122"}],["",{index:2,pattern:"222221"}],["",{index:3,pattern:"121223"}],["",{index:4,pattern:"121322"}],["",{index:5,pattern:"131222"}],["",{index:6,pattern:"122213"}],["",{index:7,pattern:"122312"}],["\b",{index:8,pattern:"132212"}],["\t",{index:9,pattern:"221213"}],["\n",{index:10,pattern:"221312"}],["\v",{index:11,pattern:"231212"}],["\f",{index:12,pattern:"112232"}],["\r",{index:13,pattern:"122132"}],["",{index:14,pattern:"122231"}],["",{index:15,pattern:"113222"}],["",{index:16,pattern:"123122"}],["",{index:17,pattern:"123221"}],["",{index:18,pattern:"223211"}],["",{index:19,pattern:"221132"}],["",{index:20,pattern:"221231"}],["",{index:21,pattern:"213212"}],["",{index:22,pattern:"223112"}],["",{index:23,pattern:"312131"}],["",{index:24,pattern:"311222"}],["",{index:25,pattern:"321122"}],["",{index:26,pattern:"321221"}],["",{index:27,pattern:"312212"}],["",{index:28,pattern:"322112"}],["",{index:29,pattern:"322211"}],["",{index:30,pattern:"212123"}],["",{index:31,pattern:"212321"}],[" ",{index:32,pattern:"232121"}],["!",{index:33,pattern:"111323"}],['"',{index:34,pattern:"131123"}],["#",{index:35,pattern:"131321"}],["$",{index:36,pattern:"112313"}],["%",{index:37,pattern:"132113"}],["&",{index:38,pattern:"132311"}],["'",{index:39,pattern:"211313"}],["(",{index:40,pattern:"231113"}],[")",{index:41,pattern:"231311"}],["*",{index:42,pattern:"112133"}],["+",{index:43,pattern:"112331"}],[",",{index:44,pattern:"132131"}],["-",{index:45,pattern:"113123"}],[".",{index:46,pattern:"113321"}],["/",{index:47,pattern:"133121"}],["0",{index:48,pattern:"313121"}],["1",{index:49,pattern:"211331"}],["2",{index:50,pattern:"231131"}],["3",{index:51,pattern:"213113"}],["4",{index:52,pattern:"213311"}],["5",{index:53,pattern:"213131"}],["6",{index:54,pattern:"311123"}],["7",{index:55,pattern:"311321"}],["8",{index:56,pattern:"331121"}],["9",{index:57,pattern:"312113"}],[":",{index:58,pattern:"312311"}],[";",{index:59,pattern:"332111"}],["<",{index:60,pattern:"314111"}],["=",{index:61,pattern:"221411"}],[">",{index:62,pattern:"431111"}],["?",{index:63,pattern:"111224"}],["@",{index:64,pattern:"111422"}],["A",{index:65,pattern:"121124"}],["B",{index:66,pattern:"121421"}],["C",{index:67,pattern:"141122"}],["D",{index:68,pattern:"141221"}],["E",{index:69,pattern:"112214"}],["F",{index:70,pattern:"112412"}],["G",{index:71,pattern:"122114"}],["H",{index:72,pattern:"122411"}],["I",{index:73,pattern:"142112"}],["J",{index:74,pattern:"142211"}],["K",{index:75,pattern:"241211"}],["L",{index:76,pattern:"221114"}],["M",{index:77,pattern:"413111"}],["N",{index:78,pattern:"241112"}],["O",{index:79,pattern:"134111"}],["P",{index:80,pattern:"111242"}],["Q",{index:81,pattern:"121142"}],["R",{index:82,pattern:"121241"}],["S",{index:83,pattern:"114212"}],["T",{index:84,pattern:"124112"}],["U",{index:85,pattern:"124211"}],["V",{index:86,pattern:"411212"}],["W",{index:87,pattern:"421112"}],["X",{index:88,pattern:"421211"}],["Y",{index:89,pattern:"212141"}],["Z",{index:90,pattern:"214121"}],["[",{index:91,pattern:"412121"}],["\\",{index:92,pattern:"111143"}],["]",{index:93,pattern:"111341"}],["^",{index:94,pattern:"131141"}],["_",{index:95,pattern:"114113"}],["`",{index:96,pattern:"114311"}],["a",{index:97,pattern:"411113"}],["b",{index:98,pattern:"411311"}],["c",{index:99,pattern:"113141"}],["d",{index:100,pattern:"114131"}],["e",{index:101,pattern:"311141"}],["f",{index:102,pattern:"411131"}],["g",{index:103,pattern:"211412"}],["h",{index:104,pattern:"211214"}],["i",{index:105,pattern:"211232"}],["j",{index:106,pattern:"2331112"}]]),e.fullAsciiMap=new Map([[0,["@",null]],[1,["A",null]],[2,["B",null]],[3,["C",null]],[4,["D",null]],[5,["E",null]],[6,["F",null]],[7,["G",null]],[8,["H",null]],[9,["I",null]],[0,["J",null]],[11,["K",null]],[12,["L",null]],[13,["M",null]],[14,["N",null]],[15,["O",null]],[16,["P",null]],[17,["Q",null]],[18,["R",null]],[19,["S",null]],[20,["T",null]],[21,["U",null]],[22,["V",null]],[23,["W",null]],[24,["X",null]],[25,["Y",null]],[26,["Z",null]],[27,["[",null]],[28,["\\",null]],[29,["]",null]],[30,["^",null]],[31,["_",null]],[32,["\0","\0"]],[33,["",""]],[34,["",""]],[35,["",""]],[36,["",""]],[37,["",""]],[38,["",""]],[39,["",""]],[40,["\b","\b"]],[41,["\t","\t"]],[42,["\n","\n"]],[43,["\v","\v"]],[44,["\f","\f"]],[45,["\r","\r"]],[46,["",""]],[47,["",""]],[48,["",""]],[49,["",""]],[50,["",""]],[51,["",""]],[52,["",""]],[53,["",""]],[54,["",""]],[55,["",""]],[56,["",""]],[57,["",""]],[58,["",""]],[59,["",""]],[60,["",""]],[61,["",""]],[62,["",""]],[63,["",""]],[64,[" "," "]],[65,["!","!"]],[66,['"','"']],[67,["#","#"]],[68,["$","$"]],[69,["%","%"]],[70,["&","&"]],[71,["'","'"]],[72,["(","("]],[73,[")",")"]],[74,["*","*"]],[75,["+","+"]],[76,[",",","]],[77,["-","-"]],[78,[".","."]],[79,["/","/"]],[80,["0","0"]],[81,["1","1"]],[82,["2","2"]],[83,["3","3"]],[84,["4","4"]],[85,["5","5"]],[86,["6","6"]],[87,["7","7"]],[88,["8","8"]],[89,["9","9"]],[90,[":",":"]],[91,[";",";"]],[92,["<","<"]],[93,["=","="]],[94,[">",">"]],[95,["?","?"]],[96,[null,"@"]],[97,[null,"A"]],[98,[null,"B"]],[99,[null,"C"]],[100,[null,"D"]],[101,[null,"E"]],[102,[null,"F"]],[103,[null,"G"]],[104,[null,"H"]],[105,[null,"I"]],[106,[null,"J"]],[107,[null,"K"]],[108,[null,"L"]],[109,[null,"M"]],[110,[null,"N"]],[111,[null,"O"]],[112,[null,"P"]],[113,[null,"Q"]],[114,[null,"R"]],[115,[null,"S"]],[116,[null,"T"]],[117,[null,"U"]],[118,[null,"V"]],[119,[null,"W"]],[120,[null,"X"]],[121,[null,"Y"]],[122,[null,"Z"]],[123,[null,"["]],[124,[null,"\\"]],[125,[null,"]"]],[126,[null,"^"]],[127,[null,"_"]],[128,["f","f","f"]],[129,["a","a",null]],[130,["`","`",null]],[131,["e","d",null]],[132,[null,"e","e"]],[133,["d",null,"d"]],[134,["c","c",null]],[135,[null,"b",null]],[135,["b",null,null]]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Code128=e.code128PropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(63);var a=e.code128PropsDefault=Object.assign({},i.barcodeBasePropsDefault,{elementWidth:.33,useLatin1:!1,raw:!1});e.Code128=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},a,t),o.charactersMap))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,o=11*i.elementWidth;return{tw:2*i.quietWidth+o*t.length+13*i.elementWidth,th:2*i.quietHeight+i.height+(i.drawText?i.textHeight:0)}}},{key:"calcMod103Checksum",value:function(t){var e=o.charactersMap.get(t[0]);if(void 0===e)throw new Error("code128: character is out of range.");for(var r=e.index%103,n=1;n<t.length;n++){if(void 0===(e=o.charactersMap.get(t[n])))throw new Error("code128: character is out of range.");r=(r+e.index*n)%103}return r}},{key:"encodeData",value:function(t){var e=this;if(this.props.raw)return{data:t,startChar:"",stopChar:"j"};for(var r="",n=4,i=null,a=0,s=function(e){for(var r=e+1,i=1;r<t.length;r++){var o=t.charCodeAt(r);if(48<=o&&o<=57)i++;else{if(128!==o)break;if(i%2)break}}return r>=t.length&&r-e>=4||r-e>=n},l=function(n){r+=null===i?"i":"c";for(var a=n,s=0,l=0;a<t.length;a++){var h=t.charCodeAt(a);if(48<=h&&h<=57)s=10*s+(h-48),++l%2==0&&(r+=String.fromCharCode(s),s=0);else{if(e.props.useLatin1&&h>127&&(h-=128),128!==h)break;if(l%2)break;r+="f"}}if((a<t.length||l%2)&&(i=u(a),r+=0===i?"e":"d"),l%2){var c=o.fullAsciiMap.get(48+s);if(void 0===c)throw new Error("code128: character is out of range.");if(null===i)throw new Error("code128: mode === null. Assertion failed.");r+=c[i]}return a},u=function(r){for(var n=0,s=0,l=Math.max(r,a);l<t.length;l++){var u=t.charCodeAt(l);e.props.useLatin1&&u>127&&(u-=128);var h=o.fullAsciiMap.get(u);if(void 0===h)throw new Error("code128: character is out of range.");var c=h[0],f=h[1];if(void 0===c||void 0===f)break}for(var p=Math.min(t.length,l+6);l<p;l++){var d=t.charCodeAt(l);e.props.useLatin1&&d>127&&(d-=128);var g=o.fullAsciiMap.get(d);if(void 0===g)throw new Error("code128: character is out of range.");void 0===g[0]&&n++,void 0===g[1]&&s++}a=l;var v=null===i?1:i;return n<s?s-n<2?v:0:n>s?n-s<2?v:1:v},h=0;h<t.length;){var c=t.charCodeAt(h),f=!1,p=!1;if((48<=c&&c<=57||!this.props.useLatin1&&128===c||this.props.useLatin1&&256===c)&&(s(h)&&(h=l(h),f=!0),n=6),!f){var d=t.charCodeAt(h);this.props.useLatin1&&d>127&&(128<=(d-=128)&&d<=135?131===d&&(p=!0):p=!0);var g=o.fullAsciiMap.get(d);if(void 0===g)throw new Error("code128: character is out of range.");var v=null!==i?g[i]:void 0;if(void 0===v){var y=u(h);i===y?(r+="b",v=g[(i+1)%2]):(r+=null===i?0===i?"g":"h":0===i?"d":"e",v=g[i=y])}if(null===v)throw new Error("code128: character is out of range.");if(p){var m=o.fullAsciiMap.get(131);if(void 0===m)throw new Error("code128: character is out of range.");if(null===i)throw new Error("code128: mode === null. Assertion failed.");r+=m[i]}r+=v,h++}}return{data:r+=String.fromCharCode(this.calcMod103Checksum(r)),startChar:"",stopChar:"j"}}},{key:"getBarSpaceWidth",value:function(){var t=this.props.elementWidth;return[0,t,2*t,3*t,4*t]}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=e.charactersMap=new Map([["0",{index:0,pattern:"1112212110"}],["1",{index:1,pattern:"2112111120"}],["2",{index:2,pattern:"1122111120"}],["3",{index:3,pattern:"2122111110"}],["4",{index:4,pattern:"1112211120"}],["5",{index:5,pattern:"2112211110"}],["6",{index:6,pattern:"1122211110"}],["7",{index:7,pattern:"1112112120"}],["8",{index:8,pattern:"2112112110"}],["9",{index:9,pattern:"1122112110"}],["A",{index:10,pattern:"2111121120"}],["B",{index:11,pattern:"1121121120"}],["C",{index:12,pattern:"2121121110"}],["D",{index:13,pattern:"1111221120"}],["E",{index:14,pattern:"2111221110"}],["F",{index:15,pattern:"1121221110"}],["G",{index:16,pattern:"1111122120"}],["H",{index:17,pattern:"2111122110"}],["I",{index:18,pattern:"1121122110"}],["J",{index:19,pattern:"1111222110"}],["K",{index:20,pattern:"2111111220"}],["L",{index:21,pattern:"1121111220"}],["M",{index:22,pattern:"2121111210"}],["N",{index:23,pattern:"1111211220"}],["O",{index:24,pattern:"2111211210"}],["P",{index:25,pattern:"1121211210"}],["Q",{index:26,pattern:"1111112220"}],["R",{index:27,pattern:"2111112210"}],["S",{index:28,pattern:"1121112210"}],["T",{index:29,pattern:"1111212210"}],["U",{index:30,pattern:"2211111120"}],["V",{index:31,pattern:"1221111120"}],["W",{index:32,pattern:"2221111110"}],["X",{index:33,pattern:"1211211120"}],["Y",{index:34,pattern:"2211211110"}],["Z",{index:35,pattern:"1221211110"}],["-",{index:36,pattern:"1211112120"}],[".",{index:37,pattern:"2211112110"}],[" ",{index:38,pattern:"1221112110"}],["$",{index:39,pattern:"1212121110"}],["/",{index:40,pattern:"1212111210"}],["+",{index:41,pattern:"1211121210"}],["%",{index:42,pattern:"1112121210"}],["*",{index:43,pattern:"1211212110"}]]),i=e.reverseMap=new Map,o=!0,a=!1,s=void 0;try{for(var l,u=n.entries()[Symbol.iterator]();!(o=(l=u.next()).done);o=!0){var h=l.value;i.set(h[1].index,h[0])}}catch(t){a=!0,s=t}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}e.fullAsciiMap=new Map([[0,"%U"],[1,"$A"],[2,"$B"],[3,"$C"],[4,"$D"],[5,"$E"],[6,"$F"],[7,"$G"],[8,"$H"],[9,"$I"],[0,"$J"],[11,"$K"],[12,"$L"],[13,"$M"],[14,"$N"],[15,"$O"],[16,"$P"],[17,"$Q"],[18,"$R"],[19,"$S"],[20,"$T"],[21,"$U"],[22,"$V"],[23,"$W"],[24,"$X"],[25,"$Y"],[26,"$Z"],[27,"%A"],[28,"%B"],[29,"%C"],[30,"%D"],[31,"%E"],[32," "],[33,"/A"],[34,"/B"],[35,"/C"],[36,"/D"],[37,"/E"],[38,"/F"],[39,"/G"],[40,"/H"],[41,"/I"],[42,"/J"],[43,"/K"],[44,"/L"],[45,"-"],[46,"."],[47,"/"],[48,"0"],[49,"1"],[50,"2"],[51,"3"],[52,"4"],[53,"5"],[54,"6"],[55,"7"],[56,"8"],[57,"9"],[58,"/Z"],[59,"%F"],[60,"%G"],[61,"%H"],[62,"%I"],[63,"%J"],[64,"%V"],[65,"A"],[66,"B"],[67,"C"],[68,"D"],[69,"E"],[70,"F"],[71,"G"],[72,"H"],[73,"I"],[74,"J"],[75,"K"],[76,"L"],[77,"M"],[78,"N"],[79,"O"],[80,"P"],[81,"Q"],[82,"R"],[83,"S"],[84,"T"],[85,"U"],[86,"V"],[87,"W"],[88,"X"],[89,"Y"],[90,"Z"],[91,"%K"],[92,"%L"],[93,"%M"],[94,"%N"],[95,"%O"],[96,"%W"],[97,"+A"],[98,"+B"],[99,"+C"],[100,"+D"],[101,"+E"],[102,"+F"],[103,"+G"],[104,"+H"],[105,"+I"],[106,"+J"],[107,"+K"],[108,"+L"],[109,"+M"],[110,"+N"],[111,"+O"],[112,"+P"],[113,"+Q"],[114,"+R"],[115,"+S"],[116,"+T"],[117,"+U"],[118,"+V"],[119,"+W"],[120,"+X"],[121,"+Y"],[122,"+Z"],[123,"%P"],[124,"%Q"],[125,"%R"],[126,"%S"],[127,"%T"]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Code39=e.code39PropsDefault=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=r(1),o=r(65);var a=e.code39PropsDefault=Object.assign({},i.barcodeBasePropsDefault,{addCheckDigit:!0,fullAscii:!1,narrowWidth:.33,wideWidth:.66,charGapWidth:void 0});e.Code39=function(t){function e(t){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,Object.assign({},a,t),o.charactersMap))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.BarcodeBase),n(e,[{key:"calcSymbolSize",value:function(t,e,r,n){var i=this.props,o=i.charGapWidth||i.narrowWidth,a=6*i.narrowWidth+3*i.wideWidth+o;return{tw:2*i.quietWidth+a*(t.length+2+(i.addCheckDigit?1:0))-o,th:2*i.quietHeight+i.height+(i.drawText?i.textHeight:0)}}},{key:"calcCheckDigit",value:function(t){var e="";if(this.props.addCheckDigit){for(var r=0,n=0;n<t.length;n++){var i=o.charactersMap.get(t[n]);if(void 0===i)throw new Error("code39: character is out of range.");r=(r+i.index)%43}var a=o.reverseMap.get(r);if(void 0===a)throw new Error("code39 (trace): checkdigit is out of range.");e=a}return e}},{key:"encodeData",value:function(t){var e=t;if(this.props.fullAscii){e="";for(var r=0;r<t.length;r++){var n=o.fullAsciiMap.get(t.charCodeAt(r));if(void 0===n)throw new Error("code39 fullascii: character is out of range.");e+=n}}return{data:e,startChar:"*",stopChar:"*"}}},{key:"getBarSpaceWidth",value:function(){var t=this.props;return[t.charGapWidth||t.narrowWidth,t.narrowWidth,t.wideWidth]}}]),e}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.barcodeTestHandler=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(4)),i=r(14),o=r(13),a=r(18),s=r(12),l=r(8),u=r(66),h=r(64),c=r(62),f=r(60),p=r(58),d=r(56),g=r(54),v=r(46);e.barcodeTestHandler=function(t,e,y){return n.renderOnAwsLambda(n.createElement(o.Html5,null,n.createElement("head",null,n.createElement("title",null,"barcode"),n.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans",rel:"stylesheet"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css"}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(16)}})),n.createElement("body",{class:"A4"},n.createElement(i.ForEach,{items:(0,l.query)(t.details).groupEvery(40).select()}," ",function(t){return n.createElement("section",{class:"sheet",style:"position: relative; top: 0mm; left: 0mm;"},n.createElement(a.Svg,{width:209,height:295,unit:"mm",templateUrl:"https://shellyln.github.io/assets/app/Ghostscript_Tiger.svg"},n.createElement(i.If,{condition:!0},n.createElement(a.Rect,{x:0,y:0,width:210,height:297,lineWidth:.5,stroke:!0}),n.createElement(a.GridLine,{endX:210,endY:297,bleed:0,lineWidth:.1})),n.createElement(v.PrinterMarks,{x:15,y:20,width:100,height:130,hFold:[10,20,30],vFold:[25,15,5],centerMarks:!0,bleedMarks:!0}),n.createElement(g.Qr,{x:15,y:5,data:"Hello"}),n.createElement(u.Code39,{x:15,y:40,data:"HELLO",narrowWidth:.66,wideWidth:1.32,height:15,quietHeight:0,font:"7px 'OCRB'",textHeight:7}),n.createElement(h.Code128,{x:15,y:70,data:"Hello",elementWidth:.66,height:15,quietHeight:0,font:"7px 'OCRB'",textHeight:7}),n.createElement(c.Ean13,{x:15,y:100,data:"123456789012",elementWidth:.66,height:15,quietHeight:0,font:"7px 'OCRB'",textHeight:7}),n.createElement(f.Itf,{x:15,y:130,data:"12345",addCheckDigit:!0,narrowWidth:.66,wideWidth:1.32,height:15,quietHeight:0,font:"7px 'OCRB'",textHeight:7}),n.createElement(d.Nw7,{x:15,y:160,data:"1234",startChar:"A",stopChar:"B",narrowWidth:.66,wideWidth:1.32,height:15,quietHeight:0,font:"7px 'OCRB'",textHeight:7}),n.createElement(p.JapanPostal,{x:15,y:190,data:"1234567",elementWidth:.66,height:3.96,quietHeight:0})))}))),y)}},function(t,e,r){(t.exports=r(7)(!1)).push([t.i,"\r\n\r\n/** Paper sizes (-0.2mm) **/\r\nbody.BrotherDk-AddressLabel-L            .sheet { width: 37.8mm; height: 89.6mm }\r\nbody.BrotherDk-AddressLabel-L.landscape  .sheet { width: 89.6mm; height: 37.8mm }\r\nbody.BrotherDk-AddressLabel-M            .sheet { width: 28.7mm; height: 89.6mm }\r\nbody.BrotherDk-AddressLabel-M.landscape  .sheet { width: 89.6mm; height: 28.7mm }\r\nbody.BrotherDk-AddressLabel-S            .sheet { width: 28.7mm; height: 61.8mm }\r\nbody.BrotherDk-AddressLabel-S.landscape  .sheet { width: 61.8mm; height: 28.7mm }\r\n\r\n/** Padding area **/\r\n.sheet.padding-3mm { padding: 3mm }\r\n\r\n/** Fix for Chrome issue #273306 (-0.1mm) **/\r\n@media print {\r\n    body.BrotherDk-AddressLabel-L           { width: 37.9mm }\r\n    body.BrotherDk-AddressLabel-L.landscape { width: 89.7mm }\r\n    body.BrotherDk-AddressLabel-M           { width: 28.8mm }\r\n    body.BrotherDk-AddressLabel-M.landscape { width: 89.7mm }\r\n    body.BrotherDk-AddressLabel-S           { width: 28.8mm }\r\n    body.BrotherDk-AddressLabel-S.landscape { width: 61.9mm }\r\n}\r\n\r\n",""])},function(t,e,r){var n=r(68);t.exports="string"==typeof n?n:n.toString()},function(t,e,r){(t.exports=r(7)(!1)).push([t.i,"",""])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fbaBrDKReportHandler=e.fbaA4ReportHandler=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(4)),i=r(14),o=r(13),a=r(18),s=r(12),l=r(8);var u="'Noto Sans', sans-serif",h=function(t){return n.createElement(i.Template,null,n.createElement(a.Group,{x:0,y:0},n.createElement(a.Text,{x:27,y:11.5,textAlign:"center",font:"11.5px 'Libre Barcode 128 Text', cursive",fill:!0,text:"X00009377F"}),n.createElement(a.Text,{x:4,y:21.5,font:"3.5px "+u,fill:!0,text:"How Deep Lies the Shadow"}),n.createElement(a.Text,{x:4,y:25.5,font:"3.5px "+u,fill:!0,text:"New"})))};e.fbaA4ReportHandler=function(t,e,u){return n.renderOnAwsLambda(n.createElement(o.Html5,null,n.createElement("head",null,n.createElement("title",null,"FBA"),n.createElement(s.Font,{src:"https://fonts.googleapis.com/css?family=Noto+Sans"}),n.createElement(s.Font,{src:"https://fonts.googleapis.com/css?family=Libre+Barcode+128+Text"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css"}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(16)}})),n.createElement("body",{class:"A4"},n.createElement(i.ForEach,{items:(0,l.query)(t.details).groupEvery(40).select()}," ",function(t){return n.createElement("section",{class:"sheet",style:"position: relative; top: 0mm; left: 0mm;"},n.createElement(a.Svg,{width:209,height:295,unit:"mm"},n.createElement(a.SvgImposition,{items:t,paperWidth:210,paperHeight:297,cols:4,rows:10}," ",function(t){return n.createElement(i.Template,null,n.createElement(i.If,{condition:!0},n.createElement(a.Rect,{x:0,y:0,width:52.5,height:29.7,lineWidth:.5,stroke:!0}),n.createElement(a.GridLine,{startX:0,startY:0,endX:52.5,endY:29.7,gridSize:5,bleed:0,lineWidth:.1})),n.createElement(h,{leaf:t}))})))}))),u)},e.fbaBrDKReportHandler=function(t,e,u){return n.renderOnAwsLambda(n.createElement(o.Html5,null,n.createElement("head",null,n.createElement("title",null,"FBA"),n.createElement("link",{href:"https://fonts.googleapis.com/css?family=Noto+Sans",rel:"stylesheet"}),n.createElement("link",{href:"https://fonts.googleapis.com/css?family=Libre+Barcode+128+Text",rel:"stylesheet"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css"}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(69)}}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(16)}})),n.createElement("body",{class:"BrotherDk-AddressLabel-M "},n.createElement(i.ForEach,{items:(0,l.query)(t.details).groupEvery(1).select()}," ",function(t){return n.createElement("section",{class:"sheet",style:"position: relative; top: 0mm; left: 0mm;"},n.createElement(a.Svg,{width:28.7,height:89.6,unit:"mm"},n.createElement(s.Image,{asAsset:!0,id:"logo",srcContext:"logo-asset"}),n.createElement(s.Image,{asAsset:!0,id:"qr",srcContext:"qr-asset"}),n.createElement(a.SvgImposition,{items:t,paperWidth:28.7,paperHeight:61.8,cols:1,rows:1,itemRotationDeg:270,itemTranslation:[0,74.8]}," ",function(t){return n.createElement(i.Template,null,n.createElement(i.If,{condition:!0},n.createElement(a.Rect,{x:0,y:0,width:61.8,height:28.7,lineWidth:.5,stroke:!0}),n.createElement(a.GridLine,{startX:0,startY:0,endX:61.8,endY:28.7,gridSize:5,bleed:0,lineWidth:.1,stroke:!0})),n.createElement(h,{leaf:t}))})))}))),u)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={details:[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(Array(41).keys()))};e.default=n},function(t,e,r){(t.exports=r(7)(!1)).push([t.i,"",""])},function(t,e,r){var n=r(73);t.exports="string"==typeof n?n:n.toString()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();(e.WebColor=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._r=0,this._g=0,this._b=0,this._a=1,e){var r={r:0,g:0,b:0,a:1};if("object"===(void 0===e?"undefined":n(e))){if(e.hasOwnProperty("r")){var i=e;r={r:t.cutoff255(i.r),g:t.cutoff255(i.g),b:t.cutoff255(i.b),a:t.cutoff1(i.a||1)}}else if(e.hasOwnProperty("h")){var o=e;r=t.hslToRgb(o.h,o.s,o.l,o.a||1)}}else if("string"==typeof e){var a=void 0;if(a=t.isCode(e)||t.isName(e)||t.isRgb(e))r=a;else if(a=t.isHsl(e)){var s=a;r=t.hslToRgb(s.h,s.s,s.l,s.a)}}this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a}}return i(t,[{key:"toString",value:function(){return 1!==this._a?this.toRgbaString():this.toCode()}},{key:"toCode",value:function(){return"#"+("0"+this._r.toString(16)).slice(-2)+("0"+this._g.toString(16)).slice(-2)+("0"+this._b.toString(16)).slice(-2)}},{key:"toRgbString",value:function(){return"rgb("+this._r+","+this._g+","+this._b+")"}},{key:"toRgbaString",value:function(){return"rgb("+this._r+","+this._g+","+this._b+","+this._a+")"}},{key:"toHsla",value:function(){var t=this._r/255,e=this._g/255,r=this._b/255,n=Math.max(e,r),i=Math.min(e,r),o=0,a=0,s=(n+i)/2,l=n-i;return n!==i&&(o=60*(o=n===t?(e-r)/l:n===e?(r-t)/l+2:(t-e)/l+4)+(o<0?360:0),a=l/(s<.5?n+i:2-n-i)),{h:o,s:a,l:s,a:this._a}}},{key:"toHslString",value:function(){var t=this.toHsla();return"hsl("+t.h+","+t.s+"%,"+t.l+"%)"}},{key:"toHslaString",value:function(){var t=this.toHsla();return"hsl("+t.h+","+t.s+"%,"+t.l+"%,"+this._a+")"}},{key:"r",get:function(){return this._r}},{key:"g",get:function(){return this._g}},{key:"b",get:function(){return this._b}},{key:"a",get:function(){return this._a}}],[{key:"cutoff255",value:function(t){return t<0?0:t>255?255:t}},{key:"cutoff1",value:function(t){return t<0?0:t>1?1:t}},{key:"isRgb",value:function(e){var r=void 0,n=void 0,i=void 0,o=1,a=void 0;return!!(a=e.match(/^\s*rgb(a?)\(\s*(-?(?:\d+\.)?\d+%?)\s*,\s*(-?(?:\d+\.)?\d+%?)\s*,\s*(-?(?:\d+\.)?\d+%?)\s*(?:,\s*((?:[01]?\.)?\d+)\s*)?\)\s*$/))&&(r=t.cutoff255(a[2].endsWith("%")?Math.round(Number.parseFloat(a[2])/100*255):Number.parseInt(a[2],10)),n=t.cutoff255(a[3].endsWith("%")?Math.round(Number.parseFloat(a[3])/100*255):Number.parseInt(a[3],10)),i=t.cutoff255(a[4].endsWith("%")?Math.round(Number.parseFloat(a[4])/100*255):Number.parseInt(a[4],10)),"a"===a[1]&&(o=t.cutoff1(Number.parseFloat(a[5]))),{r:r,g:n,b:i,a:o})}},{key:"isHsl",value:function(e){var r=void 0,n=void 0,i=void 0,o=1,a=void 0;return!!(a=e.match(/^\s*hsl(a?)\(\s*(-?(?:\d+\.)?\d+)\s*,\s*(-?(?:\d+\.)?\d+%?)\s*,\s*(-?(?:\d+\.)?\d+%?)\s*,\s*((?:[01]?\.)?\d+)\s*\)\s*$/))&&((r=Number.parseFloat(a[2])%360)<0&&(r=360-r),n=t.cutoff1(a[3].endsWith("%")?Math.round(Number.parseFloat(a[3])/100):Number.parseFloat(a[3])),i=t.cutoff1(a[4].endsWith("%")?Math.round(Number.parseFloat(a[4])/100):Number.parseFloat(a[4])),"a"===a[1]&&(o=t.cutoff1(Number.parseFloat(a[5]))),{h:r,s:n,l:i,a:o})}},{key:"isCode",value:function(t){var e=void 0;return(e=t.match(/^\s*#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])\s*$/))?{r:Number.parseInt(""+e[1]+e[1],16),g:Number.parseInt(""+e[2]+e[2],16),b:Number.parseInt(""+e[3]+e[3],16),a:1}:!!(e=t.match(/^\s*#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})\s*$/))&&{r:Number.parseInt(e[1],16),g:Number.parseInt(e[2],16),b:Number.parseInt(e[3],16),a:1}}},{key:"isName",value:function(e){if(t.colorNames.has(e)){var r=t.colorNames.get(e);return{r:r.r,g:r.g,b:r.b,a:1}}return!1}},{key:"fromRgba",value:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=new t;return o._r=t.cutoff255(e),o._g=t.cutoff255(r),o._b=t.cutoff255(n),o._a=t.cutoff1(i),o}},{key:"hueToRgb",value:function(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),6*r<1?t+(e-t)*r*6:2*r<1?e:3*r<2?t+(e-t)*(2/3-r)*6:t}},{key:"hslToRgb",value:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e%=360,r=t.cutoff1(r),n=t.cutoff1(n),e<0&&(e=360-e);var o=n<=.5?n*(r+1):n+r-n*r,a=2*n-o;return{r:t.hueToRgb(a,o,e+1/3),g:t.hueToRgb(a,o,e),b:t.hueToRgb(a,o,e-1/3),a:t.cutoff1(i)}}},{key:"fromHsla",value:function(e,r,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;e%=360,r=t.cutoff1(r),n=t.cutoff1(n),e<0&&(e=360-e);var o=new t,a=n<=.5?n*(r+1):n+r-n*r,s=2*n-a;return o._r=t.hueToRgb(s,a,e+1/3),o._g=t.hueToRgb(s,a,e),o._b=t.hueToRgb(s,a,e-1/3),o._a=t.cutoff1(i),o}},{key:"fromGray",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=new t;return n._r=t.cutoff255(e),n._g=t.cutoff255(e),n._b=t.cutoff255(e),n._a=t.cutoff1(r),n}}]),t}()).colorNames=new Map([["red",{r:255,g:0,b:0}],["darkred",{r:139,g:0,b:0}],["maroon",{r:128,g:0,b:0}],["brown",{r:165,g:42,b:42}],["firebrick",{r:178,g:34,b:34}],["sienna",{r:160,g:82,b:45}],["saddlebrown",{r:139,g:69,b:19}],["peru",{r:205,g:133,b:63}],["indianred",{r:205,g:92,b:92}],["rosybrown",{r:188,g:143,b:143}],["lightcoral",{r:240,g:128,b:128}],["salmon",{r:250,g:128,b:114}],["darksalmon",{r:233,g:150,b:122}],["coral",{r:255,g:127,b:80}],["tomato",{r:255,g:99,b:71}],["sandybrown",{r:244,g:164,b:96}],["lightsalmon",{r:255,g:160,b:122}],["chocolate",{r:210,g:105,b:30}],["orangered",{r:255,g:69,b:0}],["orange",{r:255,g:165,b:0}],["darkorange",{r:255,g:140,b:0}],["tan",{r:210,g:180,b:140}],["peachpuff",{r:255,g:218,b:185}],["bisque",{r:255,g:228,b:196}],["moccasin",{r:255,g:228,b:181}],["navajowhite",{r:255,g:222,b:173}],["wheat",{r:245,g:222,b:179}],["burlywood",{r:222,g:184,b:135}],["darkgoldenrod",{r:184,g:134,b:11}],["goldenrod",{r:218,g:165,b:32}],["gold",{r:255,g:215,b:0}],["yellow",{r:255,g:255,b:0}],["lightgoldenrodyellow",{r:250,g:250,b:210}],["palegoldenrod",{r:238,g:232,b:170}],["khaki",{r:240,g:230,b:140}],["darkkhaki",{r:189,g:183,b:107}],["blanchedalmond",{r:255,g:235,b:205}],["lightyellow",{r:255,g:255,b:224}],["cornsilk",{r:255,g:248,b:220}],["antiquewhite",{r:250,g:235,b:215}],["papayawhip",{r:255,g:239,b:213}],["papayawhite",{r:255,g:239,b:213}],["lemonchiffon",{r:255,g:250,b:205}],["beige",{r:245,g:245,b:220}],["oldlace",{r:253,g:245,b:230}],["lightcyan",{r:224,g:255,b:255}],["aliceblue",{r:240,g:248,b:255}],["whitesmoke",{r:245,g:245,b:245}],["lavenderblush",{r:255,g:240,b:245}],["floralwhite",{r:255,g:250,b:240}],["mintcream",{r:245,g:255,b:250}],["ghostwhite",{r:248,g:248,b:255}],["honeydew",{r:240,g:255,b:240}],["seashell",{r:255,g:245,b:238}],["ivory",{r:255,g:255,b:240}],["azure",{r:240,g:255,b:255}],["snow",{r:255,g:250,b:250}],["white",{r:255,g:255,b:255}],["gainsboro",{r:220,g:220,b:220}],["lightgrey",{r:211,g:211,b:211}],["silver",{r:192,g:192,b:192}],["darkgray",{r:169,g:169,b:169}],["lightslategray",{r:119,g:136,b:153}],["slategray",{r:112,g:128,b:144}],["gray",{r:128,g:128,b:128}],["dimgray",{r:105,g:105,b:105}],["darkslategray",{r:47,g:79,b:79}],["black",{r:0,g:0,b:0}],["lawngreen",{r:124,g:252,b:0}],["greenyellow",{r:173,g:255,b:47}],["chartreuse",{r:127,g:255,b:0}],["lime",{r:0,g:255,b:0}],["limegreen",{r:50,g:205,b:50}],["yellowgreen",{r:154,g:205,b:50}],["olive",{r:128,g:128,b:0}],["olivedrab",{r:107,g:142,b:35}],["darkolivegreen",{r:85,g:107,b:47}],["forestgreen",{r:34,g:139,b:34}],["darkgreen",{r:0,g:100,b:0}],["green",{r:0,g:128,b:0}],["seagreen",{r:46,g:139,b:87}],["mediumseagreen",{r:60,g:179,b:113}],["darkseagreen",{r:143,g:188,b:143}],["lightgreen",{r:144,g:238,b:144}],["palegreen",{r:152,g:251,b:152}],["springgreen",{r:0,g:255,b:127}],["mediumspringgreen",{r:0,g:250,b:154}],["teal",{r:0,g:128,b:128}],["darkcyan",{r:0,g:139,b:139}],["lightseagreen",{r:51,g:153,b:153}],["mediumaquamarine",{r:102,g:205,b:170}],["cadetblue",{r:95,g:158,b:160}],["steelblue",{r:70,g:130,b:180}],["aquamarine",{r:127,g:255,b:212}],["powderblue",{r:176,g:224,b:230}],["paleturquoise",{r:175,g:238,b:238}],["lightblue",{r:173,g:216,b:230}],["lightsteelblue",{r:176,g:196,b:222}],["skyblue",{r:135,g:206,b:235}],["lightskyblue",{r:135,g:206,b:250}],["mediumturquoise",{r:72,g:209,b:204}],["turquoise",{r:64,g:224,b:208}],["darkturquoise",{r:0,g:206,b:209}],["aqua",{r:0,g:255,b:255}],["cyan",{r:0,g:255,b:255}],["deepskyblue",{r:0,g:191,b:255}],["dodgerblue",{r:30,g:144,b:255}],["cornflowerblue",{r:100,g:149,b:237}],["royalblue",{r:65,g:105,b:225}],["blue",{r:0,g:0,b:255}],["mediumblue",{r:0,g:0,b:205}],["navy",{r:0,g:0,b:128}],["darkblue",{r:0,g:0,b:139}],["midnightblue",{r:25,g:25,b:112}],["darkslateblue",{r:72,g:61,b:139}],["mediumslateblue",{r:123,g:104,b:238}],["slateblue",{r:106,g:90,b:205}],["darkorchid",{r:153,g:50,b:204}],["darkviolet",{r:148,g:0,b:211}],["blueviolet",{r:138,g:43,b:226}],["mediumorchid",{r:186,g:85,b:211}],["plum",{r:221,g:160,b:221}],["lavender",{r:230,g:230,b:250}],["thistle",{r:216,g:191,b:216}],["orchid",{r:218,g:112,b:214}],["magenta",{r:255,g:0,b:255}],["fuchsia",{r:255,g:0,b:255}],["violet",{r:238,g:130,b:238}],["indigo",{r:75,g:0,b:130}],["darkmagenta",{r:139,g:0,b:139}],["purple",{r:128,g:0,b:128}],["mediumpurple",{r:147,g:112,b:219}],["mediumvioletred",{r:199,g:21,b:133}],["deeppink",{r:255,g:20,b:147}],["hotpink",{r:255,g:105,b:180}],["crimson",{r:220,g:20,b:60}],["palevioletred",{r:219,g:112,b:147}],["lightpink",{r:255,g:182,b:193}],["pink",{r:255,g:192,b:203}],["mistyrose",{r:255,g:228,b:225}]])},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.WordWrap=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"loose",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120,r="",n=0,i=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value;++n>=e&&" \f\t\v".indexOf(u)>-1?(r+="\n",n=0):r+=u}}catch(t){o=!0,a=t}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}return r}},{key:"normal",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return t.loose(e,r)}},{key:"force",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:120;return t.loose(e,r)}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.kanbanReportHandler=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(4)),i=r(14),o=r(13),a=r(18),s=r(12),l=r(8);var u="'Noto Sans', sans-serif",h=function(t){return n.createElement(i.Template,null,n.createElement(a.Group,{x:0,y:0},n.createElement(s.Image,{use:"logo",x:4,y:4,width:5,height:5}),n.createElement(a.Text,{x:10,y:8,font:"4px "+u,fill:!0,text:"Acme Inc. Santa Clara Plant"}),n.createElement(a.Text,{x:65,y:4,font:"3px "+u,fill:!0,text:"Delivery Slip"}),n.createElement(a.Text,{x:65,y:8,font:"3px "+u,fill:!0,text:"#20191230-999999-AAA"})),n.createElement(a.Group,{x:5,y:10},n.createElement(a.Group,{x:0,y:0},n.createElement(a.Rect,{x:0,y:0,width:15,height:15,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:7.2,font:"4px "+u,multiline:!0,fill:!0,text:"Part\nNo#"})),n.createElement(a.Group,{x:15,y:0},n.createElement(a.Rect,{x:0,y:0,width:80,height:15,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:11,font:"9px "+u,fill:!0,text:"X-12345-67890--A"}))),n.createElement(a.Group,{x:5,y:25},n.createElement(a.Group,{x:0,y:0},n.createElement(a.Rect,{x:0,y:0,width:15,height:10,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:4,font:"4px "+u,multiline:!0,fill:!0,text:"Part \nName"})),n.createElement(a.Group,{x:15,y:0},n.createElement(a.Rect,{x:0,y:0,width:80,height:10,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:7.8,font:"5.5px "+u,fill:!0,text:"Bolt & Nut Assembly 332154"}))),n.createElement(a.Group,{x:5,y:35},n.createElement(a.Rect,{x:0,y:0,width:65,height:5,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:4,font:"2.6px "+u,fill:!0,text:"Total QTY:"}),n.createElement(a.Text,{x:41,y:4,textAlign:"right",font:"4px "+u,fill:!0,text:1e9.toLocaleString()})),n.createElement(a.Group,{x:70,y:35},n.createElement(a.Rect,{x:0,y:0,width:30,height:5,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:4,font:"2.6px "+u,fill:!0,text:"Unit:"}),n.createElement(a.Text,{x:10,y:4,font:"4px "+u,fill:!0,text:"PCS"})),n.createElement(a.Group,{x:5,y:40},n.createElement(a.Rect,{x:0,y:0,width:35,height:15,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,multiline:!0,fill:!0,text:"Number of Boxes \nw/ Fractional box:"}),n.createElement(a.Text,{x:34,y:14,textAlign:"right",font:"9px "+u,fill:!0,text:1e5.toLocaleString()})),n.createElement(a.Group,{x:40,y:40},n.createElement(a.Rect,{x:0,y:0,width:30,height:15,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,fill:!0,text:"QTY / BOX:"}),n.createElement(a.Text,{x:29,y:14,textAlign:"right",font:"9px "+u,fill:!0,text:1e3.toLocaleString()})),n.createElement(a.Group,{x:70,y:40},n.createElement(a.Rect,{x:0,y:0,width:30,height:15,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,multiline:!0,fill:!0,text:"Number of \nFractions:"}),n.createElement(a.Text,{x:29,y:14,textAlign:"right",font:"9px "+u,fill:!0,text:1e3.toLocaleString()})),n.createElement(a.Group,{x:5,y:55},n.createElement(a.Rect,{x:0,y:0,width:95,height:15,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,fill:!0,text:"Arrival Datetime:"}),n.createElement(a.Text,{x:1,y:13.5,font:"9px "+u,fill:!0,text:"2020-01-01"}),n.createElement(a.Rect,{x:50,y:0,width:25,height:15,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:51,y:13.5,font:"9px "+u,fill:!0,text:"15:30"}),n.createElement(a.Rect,{x:75,y:0,width:20,height:15,lineWidth:.2,fill:!0}),n.createElement(a.Text,{x:76,y:7.4,font:"7px/6.3px "+u,fillColor:"#FFF",multiline:!0,fill:!0,text:"UR-\nGENT"})),n.createElement(a.Group,{x:5,y:70},n.createElement(a.Rect,{x:0,y:0,width:45,height:15,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,fill:!0,text:"Destination:"}),n.createElement(a.Text,{x:1,y:8.6,font:"5.2px "+u,multiline:!0,fill:!0,text:"Foobar Inc. \nTijuana 3rd Plant"})),n.createElement(a.Group,{x:5,y:85},n.createElement(a.Rect,{x:0,y:0,width:45,height:10,lineWidth:.2,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,fill:!0,text:"Order#:"}),n.createElement(a.Text,{x:1,y:9,font:"5.5px "+u,fill:!0,text:"X99988877766"})),n.createElement(a.Group,{x:50,y:70},n.createElement(a.Rect,{x:0,y:0,width:25,height:25,lineWidth:.8,stroke:!0}),n.createElement(a.Text,{x:1,y:3,font:"3px "+u,fill:!0,text:"Arrival Yard:"}),n.createElement(a.Text,{x:1,y:19,font:"14px "+u,fill:!0,text:"D4"})),n.createElement(a.Group,{x:77,y:72},n.createElement(s.Image,{use:"qr",x:0,y:0,width:25,height:25})))};e.kanbanReportHandler=function(t,e,u){return n.renderOnAwsLambda(n.createElement(o.Html5,null,n.createElement(s.Asset,{contextName:"logo-asset",src:"https://shellyln.github.io/assets/app/Emoticon_Smile_Face.svg"}),n.createElement(s.Asset,{contextName:"qr-asset",src:"https://shellyln.github.io/assets/app/QR_code_for_mobile_English_Wikipedia.svg"}),n.createElement("head",null,n.createElement("title",null,"Kanban"),n.createElement(s.Font,{src:"https://fonts.googleapis.com/css?family=Noto+Sans"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css"}),n.createElement(s.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css"}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(74)}})),n.createElement("body",{class:"A4"},n.createElement(i.ForEach,{items:(0,l.query)(t.details).groupEvery(6).select()}," ",function(t){return n.createElement("section",{class:"sheet",style:"position: relative; top: 0mm; left: 0mm;"},n.createElement(a.Svg,{width:209,height:295,unit:"mm"},n.createElement(s.Image,{asAsset:!0,id:"logo",srcContext:"logo-asset"}),n.createElement(s.Image,{asAsset:!0,id:"qr",srcContext:"qr-asset"}),n.createElement(a.SvgImposition,{items:t,paperWidth:210,paperHeight:296,cols:2,rows:3}," ",function(t){return n.createElement(i.Template,null,n.createElement(i.If,{condition:!0},n.createElement(a.Rect,{x:0,y:0,width:105,height:296/3,lineWidth:.5,stroke:!0}),n.createElement(a.GridLine,{startX:0,startY:0,endX:105,endY:296/3,gridSize:5,bleed:0,lineWidth:.1})),n.createElement(h,{leaf:t}))})))}))),u)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={me:{name:"Acme Inc.",addr1:"999 Kiely Blvd,",addr2:"",city:"Santa Clara,",state:"CA",zip:"99999"},billTo:{name:"Foobar Inc.",addr1:"9999 N Fremont St,",addr2:"",city:"Portland,",state:"OR",zip:"99999"},date:"2020-01-01",invoiceNo:"X-1234-567890",subtotal:0,tax1:0,tax1Name:"Sales Tax",tax1Rate:.05,tax2:0,tax2Name:"Excise Tax",tax2Rate:.03,shipping:3.55,total:0,paid:0,totalDue:0,notes:"note\nnote",detail:[].concat(function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(Array(41).keys())).map(function(t){return{date:"2019-12-01",description:"a("+t+")",qty:4,rate:15.33,amount:0}})};e.default=n},function(t,e,r){(t.exports=r(7)(!1)).push([t.i,"\r\n/* latin */\r\n@font-face {\r\n    font-family: 'Arvo';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    src: local('Arvo'), url(https://fonts.gstatic.com/s/arvo/v10/J0GYVYTizO1mjpT3aOcSbQ.woff2) format('woff2');\r\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;\r\n}\r\n/* latin */\r\n@font-face {\r\n    font-family: 'Libre Barcode 39 Text';\r\n    font-style: normal;\r\n    font-weight: 400;\r\n    src: local('Libre Barcode 39 Text Regular'), local('LibreBarcode39Text-Regular'), url(https://fonts.gstatic.com/s/librebarcode39text/v5/O4inMvtTcDsw_GI-nhT1ngA9s1DpUaeSeqfKrIEfYns.woff2) format('woff2');\r\n    unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215;\r\n}\r\nbody {\r\n    font-family: 'Arvo', serif;\r\n}\r\nsection.sheet {\r\n    position: relative; top: 0; left: 0;\r\n}\r\ntd.number {\r\n    text-align: right;\r\n}\r\n\r\nsection.report-header {\r\n    position: absolute; top: 10mm; left: 10mm; width: 190mm;\r\n}\r\nsection.report-header h1.report-title {\r\n    position: absolute; top: 0; right: 0; margin: 0;\r\n    border-bottom: solid 2px;\r\n}\r\nsection.report-header div.my-company-info {\r\n    position: absolute; top: 10mm; left: 0;\r\n}\r\nsection.report-header div.my-company-info h1.company-name {\r\n    margin: 0 0 2mm 0;\r\n}\r\nsection.report-header div.bill-to {\r\n    position: absolute; top: 15mm; right: 0;\r\n}\r\nsection.report-header div.bill-to td.header {\r\n    width: 25mm; vertical-align: top;\r\n}\r\nsection.report-header div.bill-to td.value {\r\n    width: 45mm;\r\n}\r\n\r\nsection.report-detail {\r\n    position: absolute; top: 65mm; left: 10mm;\r\n}\r\ntable.detail {\r\n    width: 188mm;\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n}\r\ntable.detail thead {\r\n    border-bottom: 4px solid;\r\n}\r\ntable.detail thead th {\r\n    border: 2px solid;\r\n}\r\ntable.detail tbody {\r\n    border-bottom: 4px solid;\r\n}\r\ntable.detail tbody td {\r\n    border: 2px solid;\r\n}\r\ntable.detail td, table.detail th {\r\n    height: 8mm;\r\n}\r\ntable.detail thead tr {\r\n    background: #fafafa;\r\n}\r\ntable.detail tbody tr:nth-child(even) {\r\n    background: #eee;\r\n}\r\ntable.detail thead th.date {\r\n    width: 25mm;\r\n}\r\ntable.detail thead th.description {\r\n}\r\ntable.detail thead th.qty {\r\n    width: 15mm;\r\n}\r\ntable.detail thead th.rate {\r\n    width: 20mm;\r\n}\r\ntable.detail thead th.amount {\r\n    width: 30mm;\r\n}\r\ntable.detail tfoot th.header, table.detail tfoot td.header, table.detail tbody.brought-forward th.header {\r\n    text-align: right; border: 2px solid; padding-right: 1em;\r\n}\r\ntable.detail tfoot th.value, table.detail tfoot td.value, table.detail tbody.brought-forward td.value {\r\n    border: 2px solid; \r\n}\r\ntable.detail tfoot tr.total-due {\r\n    border-top: 4px solid;\r\n}\r\n\r\nsection.report-footer {\r\n    position: absolute; bottom: 10mm; left: 10mm;\r\n}\r\nsection.report-footer div.notes {\r\n    position: relative; top: 5mm; left: 0;\r\n}\r\nsection.report-footer div.notes-body {\r\n    width: 90mm; height: 20mm; border: solid 1px;\r\n}\r\nsection.report-footer div.barcode {\r\n    position: absolute; top: 20mm; left: 115mm; font-size: 10mm; font-family: 'Libre Barcode 39 Text', cursive;\r\n}\r\n",""])},function(t,e,r){var n=r(79);t.exports="string"==typeof n?n:n.toString()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.Uri=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"isAbsolute",value:function(t){var e=t.toLowerCase();return!(!e.startsWith("/")&&!e.startsWith("\\"))||"."!==e&&!e.startsWith("./")&&!e.startsWith(".\\")&&(".."!==e&&!e.startsWith("../")&&!e.startsWith("..\\")&&(!!e.match(/^([a-z][a-z0-9+\-.]*):/)||!!e.match(/^[a-z]:[/\/]/)))}},{key:"getDirectory",value:function(t){var e="",r=t;r.startsWith("\\\\?\\")&&(e+="\\\\?\\",r=r.substring(3));var n=r.indexOf("?");n<0&&(n=r.length);var i=r.indexOf("#");if(i<0&&(i=r.length),(r=r.substring(0,Math.min(n,i))).endsWith("/")||r.endsWith("\\"))return e+r;for(;r.length>0;)if((r=r.substring(0,r.length-1)).endsWith("/")||r.endsWith("\\"))return e+r;return e+r||"/"}},{key:"join",value:function(e,r){return t.isAbsolute(r)?r:t.getDirectory(e)+r}},{key:"getPathExt",value:function(t){return t.slice(2+(t.lastIndexOf(".")-1>>>0)).toLowerCase()}},{key:"pathExtToContentType",value:function(t){var e=null;switch(t){case"jpeg":case"jpg":e="image/jpeg";break;case"png":e="image/png";break;case"gif":e="image/gif";break;case"svg":case"svgz":e="image/svg+xml";break;case"tiff":case"tif":e="image/tiff";break;case"jp2":case"j2c":e="image/jp2";break;case"css":e="text/css";break;case"js":e="text/javascript";break;case"csv":e="text/csv";break;case"txt":e="text/plain";break;case"html":case"htm":e="text/plain"}return e}}]),t}()},function(t,e,r){var n=r(37),i=r(19),o=t.exports;for(var a in n)n.hasOwnProperty(a)&&(o[a]=n[a]);function s(t){if("string"==typeof t&&(t=i.parse(t)),t.protocol||(t.protocol="https:"),"https:"!==t.protocol)throw new Error('Protocol "'+t.protocol+'" not supported. Expected "https:"');return t}o.request=function(t,e){return t=s(t),n.request.call(this,t,e)},o.get=function(t,e){return t=s(t),n.get.call(this,t,e)}},function(t,e,r){"use strict";var n=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,r,s){return e=e||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?o(a(t),function(a){var s=encodeURIComponent(n(a))+r;return i(t[a])?o(t[a],function(t){return s+encodeURIComponent(n(t))}).join(e):s+encodeURIComponent(n(t[a]))}).join(e):s?encodeURIComponent(n(s))+r+encodeURIComponent(n(t)):""};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var r=[],n=0;n<t.length;n++)r.push(e(t[n],n));return r}var a=Object.keys||function(t){var e=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.push(r);return e}},function(t,e,r){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,r,o){e=e||"&",r=r||"=";var a={};if("string"!=typeof t||0===t.length)return a;var s=/\+/g;t=t.split(e);var l=1e3;o&&"number"==typeof o.maxKeys&&(l=o.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var h=0;h<u;++h){var c,f,p,d,g=t[h].replace(s,"%20"),v=g.indexOf(r);v>=0?(c=g.substr(0,v),f=g.substr(v+1)):(c=g,f=""),p=decodeURIComponent(c),d=decodeURIComponent(f),n(a,p)?i(a[p])?a[p].push(d):a[p]=[a[p],d]:a[p]=d}return a};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,r){"use strict";e.decode=e.parse=r(84),e.encode=e.stringify=r(83)},function(t,e,r){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){(function(t){var n;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(i){"object"==typeof e&&e&&e.nodeType,"object"==typeof t&&t&&t.nodeType;var o="object"==typeof global&&global;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,l=36,u=1,h=26,c=38,f=700,p=72,d=128,g="-",v=/^xn--/,y=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},w=l-u,x=Math.floor,k=String.fromCharCode;function _(t){throw new RangeError(b[t])}function S(t,e){for(var r=t.length,n=[];r--;)n[r]=e(t[r]);return n}function E(t,e){var r=t.split("@"),n="";return r.length>1&&(n=r[0]+"@",t=r[1]),n+S((t=t.replace(m,".")).split("."),e).join(".")}function O(t){for(var e,r,n=[],i=0,o=t.length;i<o;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<o?56320==(64512&(r=t.charCodeAt(i++)))?n.push(((1023&e)<<10)+(1023&r)+65536):(n.push(e),i--):n.push(e);return n}function T(t){return S(t,function(t){var e="";return t>65535&&(e+=k((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=k(t)}).join("")}function A(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function P(t,e,r){var n=0;for(t=r?x(t/f):t>>1,t+=x(t/e);t>w*h>>1;n+=l)t=x(t/w);return x(n+(w+1)*t/(t+c))}function C(t){var e,r,n,i,o,a,c,f,v,y,m,b=[],w=t.length,k=0,S=d,E=p;for((r=t.lastIndexOf(g))<0&&(r=0),n=0;n<r;++n)t.charCodeAt(n)>=128&&_("not-basic"),b.push(t.charCodeAt(n));for(i=r>0?r+1:0;i<w;){for(o=k,a=1,c=l;i>=w&&_("invalid-input"),((f=(m=t.charCodeAt(i++))-48<10?m-22:m-65<26?m-65:m-97<26?m-97:l)>=l||f>x((s-k)/a))&&_("overflow"),k+=f*a,!(f<(v=c<=E?u:c>=E+h?h:c-E));c+=l)a>x(s/(y=l-v))&&_("overflow"),a*=y;E=P(k-o,e=b.length+1,0==o),x(k/e)>s-S&&_("overflow"),S+=x(k/e),k%=e,b.splice(k++,0,S)}return T(b)}function M(t){var e,r,n,i,o,a,c,f,v,y,m,b,w,S,E,T=[];for(b=(t=O(t)).length,e=d,r=0,o=p,a=0;a<b;++a)(m=t[a])<128&&T.push(k(m));for(n=i=T.length,i&&T.push(g);n<b;){for(c=s,a=0;a<b;++a)(m=t[a])>=e&&m<c&&(c=m);for(c-e>x((s-r)/(w=n+1))&&_("overflow"),r+=(c-e)*w,e=c,a=0;a<b;++a)if((m=t[a])<e&&++r>s&&_("overflow"),m==e){for(f=r,v=l;!(f<(y=v<=o?u:v>=o+h?h:v-o));v+=l)E=f-y,S=l-y,T.push(k(A(y+E%S,0))),f=x(E/S);T.push(k(A(f,0))),o=P(r,w,n==i),r=0,++n}++r,++e}return T.join("")}a={version:"1.4.1",ucs2:{decode:O,encode:T},decode:C,encode:M,toASCII:function(t){return E(t,function(t){return y.test(t)?"xn--"+M(t):t})},toUnicode:function(t){return E(t,function(t){return v.test(t)?C(t.slice(4).toLowerCase()):t})}},void 0===(n=function(){return a}.call(e,r,e,t))||(t.exports=n)}()}).call(this,r(87)(t))},function(t,e){t.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var i in n)r.call(n,i)&&(t[i]=n[i])}return t};var r=Object.prototype.hasOwnProperty},function(t,e,r){var n=r(29).Buffer;t.exports=function(t){if(t instanceof Uint8Array){if(0===t.byteOffset&&t.byteLength===t.buffer.byteLength)return t.buffer;if("function"==typeof t.buffer.slice)return t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}if(n.isBuffer(t)){for(var e=new Uint8Array(t.length),r=t.length,i=0;i<r;i++)e[i]=t[i];return e.buffer}throw new Error("Argument must be a Buffer")}},function(t,e,r){"use strict";t.exports=o;var n=r(25),i=r(5);function o(t){if(!(this instanceof o))return new o(t);n.call(this,t)}i.inherits=r(0),i.inherits(o,n),o.prototype._transform=function(t,e,r){r(null,t)}},function(t,e){function r(t){try{if(!global.localStorage)return!1}catch(t){return!1}var e=global.localStorage[t];return null!=e&&"true"===String(e).toLowerCase()}t.exports=function(t,e){if(r("noDeprecation"))return t;var n=!1;return function(){if(!n){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}}},function(t,e){},function(t,e,r){"use strict";var n=r(9).Buffer,i=r(94);t.exports=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,r=""+e.data;e=e.next;)r+=t+e.data;return r},t.prototype.concat=function(t){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var e,r,i,o=n.allocUnsafe(t>>>0),a=this.head,s=0;a;)e=a.data,r=o,i=s,e.copy(r,i),s+=a.data.length,a=a.next;return o},t}(),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var t=i.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e){e.read=function(t,e,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,h=-7,c=r?i-1:0,f=r?-1:1,p=t[e+c];for(c+=f,o=p&(1<<-h)-1,p>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=f,h-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,n),o-=u}return(p?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,r,n,i,o){var a,s,l,u=8*o-i-1,h=(1<<u)-1,c=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:o-1,d=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),(e+=a+c>=1?f/l:f*Math.pow(2,1-c))*l>=2&&(a++,l/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*l-1)*Math.pow(2,i),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;t[r+p]=255&s,p+=d,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;t[r+p]=255&a,p+=d,a/=256,u-=8);t[r+p-d]|=128*g}},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){for(var e,r=u(t),n=r[0],a=r[1],s=new o(function(t,e,r){return 3*(e+r)/4-r}(0,n,a)),l=0,h=a>0?n-4:n,c=0;c<h;c+=4)e=i[t.charCodeAt(c)]<<18|i[t.charCodeAt(c+1)]<<12|i[t.charCodeAt(c+2)]<<6|i[t.charCodeAt(c+3)],s[l++]=e>>16&255,s[l++]=e>>8&255,s[l++]=255&e;2===a&&(e=i[t.charCodeAt(c)]<<2|i[t.charCodeAt(c+1)]>>4,s[l++]=255&e);1===a&&(e=i[t.charCodeAt(c)]<<10|i[t.charCodeAt(c+1)]<<4|i[t.charCodeAt(c+2)]>>2,s[l++]=e>>8&255,s[l++]=255&e);return s},e.fromByteArray=function(t){for(var e,r=t.length,i=r%3,o=[],a=0,s=r-i;a<s;a+=16383)o.push(h(t,a,a+16383>s?s:a+16383));1===i?(e=t[r-1],o.push(n[e>>2]+n[e<<4&63]+"==")):2===i&&(e=(t[r-2]<<8)+t[r-1],o.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return o.join("")};for(var n=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)n[s]=a[s],i[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function h(t,e,r){for(var i,o,a=[],s=e;s<r;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(t,e,r){var n=r(36),i=r(0),o=r(35),a=r(34),s=r(91),l=o.IncomingMessage,u=o.readyStates;var h=t.exports=function(t){var e,r=this;a.Writable.call(r),r._opts=t,r._body=[],r._headers={},t.auth&&r.setHeader("Authorization","Basic "+new Buffer(t.auth).toString("base64")),Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var i=!0;if("disable-fetch"===t.mode||"requestTimeout"in t&&!n.abortController)i=!1,e=!0;else if("prefer-streaming"===t.mode)e=!1;else if("allow-wrong-content-type"===t.mode)e=!n.overrideMimeType;else{if(t.mode&&"default"!==t.mode&&"prefer-fast"!==t.mode)throw new Error("Invalid value for opts.mode");e=!0}r._mode=function(t,e){return n.fetch&&e?"fetch":n.mozchunkedarraybuffer?"moz-chunked-arraybuffer":n.msstream?"ms-stream":n.arraybuffer&&t?"arraybuffer":n.vbArray&&t?"text:vbarray":"text"}(e,i),r._fetchTimer=null,r.on("finish",function(){r._onFinish()})};i(h,a.Writable),h.prototype.setHeader=function(t,e){var r=t.toLowerCase();-1===c.indexOf(r)&&(this._headers[r]={name:t,value:e})},h.prototype.getHeader=function(t){var e=this._headers[t.toLowerCase()];return e?e.value:null},h.prototype.removeHeader=function(t){delete this._headers[t.toLowerCase()]},h.prototype._onFinish=function(){var t=this;if(!t._destroyed){var e=t._opts,r=t._headers,i=null;"GET"!==e.method&&"HEAD"!==e.method&&(i=n.arraybuffer?s(Buffer.concat(t._body)):n.blobConstructor?new global.Blob(t._body.map(function(t){return s(t)}),{type:(r["content-type"]||{}).value||""}):Buffer.concat(t._body).toString());var o=[];if(Object.keys(r).forEach(function(t){var e=r[t].name,n=r[t].value;Array.isArray(n)?n.forEach(function(t){o.push([e,t])}):o.push([e,n])}),"fetch"===t._mode){var a=null;if(n.abortController){var l=new AbortController;a=l.signal,t._fetchAbortController=l,"requestTimeout"in e&&0!==e.requestTimeout&&(t._fetchTimer=global.setTimeout(function(){t.emit("requestTimeout"),t._fetchAbortController&&t._fetchAbortController.abort()},e.requestTimeout))}global.fetch(t._opts.url,{method:t._opts.method,headers:o,body:i||void 0,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:a}).then(function(e){t._fetchResponse=e,t._connect()},function(e){global.clearTimeout(t._fetchTimer),t._destroyed||t.emit("error",e)})}else{var h=t._xhr=new global.XMLHttpRequest;try{h.open(t._opts.method,t._opts.url,!0)}catch(e){return void process.nextTick(function(){t.emit("error",e)})}"responseType"in h&&(h.responseType=t._mode.split(":")[0]),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),"text"===t._mode&&"overrideMimeType"in h&&h.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in e&&(h.timeout=e.requestTimeout,h.ontimeout=function(){t.emit("requestTimeout")}),o.forEach(function(t){h.setRequestHeader(t[0],t[1])}),t._response=null,h.onreadystatechange=function(){switch(h.readyState){case u.LOADING:case u.DONE:t._onXHRProgress()}},"moz-chunked-arraybuffer"===t._mode&&(h.onprogress=function(){t._onXHRProgress()}),h.onerror=function(){t._destroyed||t.emit("error",new Error("XHR error"))};try{h.send(i)}catch(e){return void process.nextTick(function(){t.emit("error",e)})}}}},h.prototype._onXHRProgress=function(){(function(t){try{var e=t.status;return null!==e&&0!==e}catch(t){return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},h.prototype._connect=function(){var t=this;t._destroyed||(t._response=new l(t._xhr,t._fetchResponse,t._mode,t._fetchTimer),t._response.on("error",function(e){t.emit("error",e)}),t.emit("response",t._response))},h.prototype._write=function(t,e,r){this._body.push(t),r()},h.prototype.abort=h.prototype.destroy=function(){this._destroyed=!0,global.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},h.prototype.end=function(t,e,r){"function"==typeof t&&(r=t,t=void 0),a.Writable.prototype.end.call(this,t,e,r)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var c=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();e.NumberPrecision=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return n(t,null,[{key:"decimalPlaces",value:function(t){return function(e){return Number(e.toFixed(t))}}},{key:"precision",value:function(t){return function(e){return Number(e.toPrecision(t))}}}]),t}()},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.billngReportHandler=void 0;var n=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(4)),i=r(14),o=r(13),a=r(12),s=r(8);e.billngReportHandler=function(t,e,l){return n.renderOnAwsLambda(n.createElement(o.Html5,null,n.createElement(i.Do,null," ",function(){t.detail.forEach(function(t){return t.amount=t.qty*t.rate}),t.subtotal=t.detail.reduce(function(t,e){return t+e.amount},0),t.tax1=t.subtotal*t.tax1Rate,t.tax2=t.subtotal*t.tax2Rate,t.total=t.subtotal+t.tax1+t.tax2+t.shipping,t.totalDue=t.total-t.paid}),n.createElement("head",null,n.createElement("title",null,"Billing statement"),n.createElement(a.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css"}),n.createElement(a.Style,{src:"https://cdnjs.cloudflare.com/ajax/libs/paper-css/0.3.0/paper.css"}),n.createElement("style",{dangerouslySetInnerHTML:{__html:r(80)}})),n.createElement("body",{class:"A4"},n.createElement(i.ForEach,{items:(0,s.query)(t.detail).groupEvery({single:15,first:21,intermediate:20,last:14}).select(),scope:{carriedAmount:0}}," ",function(e,r,o,a){return n.createElement("section",{class:"sheet padding-10mm"},n.createElement("section",{class:"report-header"},n.createElement("h1",{class:"report-title"},"Billing Statement"),n.createElement("div",{class:"my-company-info"},n.createElement("h1",{class:"value company-name"},n.createElement("img",{src:"https://shellyln.github.io/assets/app/Emoticon_Smile_Face.svg",style:"width: 16mm; height: 16mm;"}),t.me.name),n.createElement("div",{class:"value addr1"},t.me.addr1),n.createElement("div",{class:"value addr2"},t.me.addr2),n.createElement("div",{class:"value city-st-zip"},t.me.city," ",t.me.state," ",t.me.zip)),n.createElement("div",{class:"bill-to"},n.createElement("table",null,n.createElement("tr",null,n.createElement("td",{class:"header date"},"Date:"),n.createElement("td",{class:"value date"},t.date)),n.createElement("tr",null,n.createElement("td",{class:"header invoice-no"},"Invoice#:"),n.createElement("td",{class:"value invoice-no"},t.invoiceNo)),n.createElement("tr",null,n.createElement("td",{class:"header page"},"Page:"),n.createElement("td",{class:"value page"},r+1," of ",o.length))),n.createElement("table",null,n.createElement("tr",null,n.createElement("td",{rowspan:"5",class:"header bill-to"},"Bill To:"),n.createElement("td",{class:"value company-name"},t.billTo.name)),n.createElement("tr",null,n.createElement("td",{class:"value addr1"},t.billTo.addr1)),n.createElement("tr",null,n.createElement("td",{class:"value addr2"},t.billTo.addr2)),n.createElement("tr",null,n.createElement("td",{class:"value city-st-zip"},t.billTo.city," ",t.billTo.state," ",t.billTo.zip)),n.createElement("tr",null,n.createElement("td",null))))),n.createElement("section",{class:"report-detail"},n.createElement("div",null,n.createElement("table",{class:"detail"},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{class:"header date"},"Date"),n.createElement("th",{class:"header description"},"Description"),n.createElement("th",{class:"header qty"},"Qty"),n.createElement("th",{class:"header rate"},"Rate"),n.createElement("th",{class:"header amount"},"Amount"))),n.createElement(i.If,{condition:r>0},n.createElement("tbody",{class:"brought-forward"},n.createElement("tr",null,n.createElement("th",{class:"header",colspan:"4"},"Total brought forward from previous page"),n.createElement("td",{class:"value number"},a.carriedAmount.toLocaleString("en-US",{style:"currency",currency:"USD"}))))),n.createElement(i.If,{condition:e.length>0},n.createElement("tbody",null,n.createElement(i.ForEach,{items:e}," ",function(t,e){return n.createElement(i.Template,null,n.createElement(i.Do,null," ",function(){t.description=e+1+": "+t.description,t.description+=" 11111"}),n.createElement(i.Do,null," ",function(){t.description+=" 22222"}),n.createElement("tr",null,n.createElement("td",{class:"value date"},t.date),n.createElement("td",{class:"value description"},t.description),n.createElement("td",{class:"value number qty"},t.qty.toLocaleString("en-US")),n.createElement("td",{class:"value number rate"},t.rate),n.createElement("td",{class:"value number amount"},t.amount.toLocaleString("en-US",{style:"currency",currency:"USD"}))))}))),n.createElement(i.If,{condition:r!==o.length-1},n.createElement(i.Do,null," ",function(){a.carriedAmount=(a.carriedAmount||0)+e.reduce(function(t,e){return t+e.amount},0)}),n.createElement("tfoot",{class:"carried-forward"},n.createElement("tr",null,n.createElement("th",{class:"header",colspan:"4"},"Total carried forward to the next page"),n.createElement("td",{class:"value number"},a.carriedAmount.toLocaleString("en-US",{style:"currency",currency:"USD"}))))),n.createElement(i.If,{condition:r===o.length-1},n.createElement("tfoot",null,n.createElement("tr",{class:"subtotal"},n.createElement("th",{class:"header",colspan:"4"},"SUBTOTAL"),n.createElement("td",{class:"value number"},t.subtotal.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"tax1"},n.createElement("td",{class:"header",colspan:"4"},t.tax1Name," ",t.tax1Rate.toLocaleString("en-US",{style:"percent"})),n.createElement("td",{class:"value number"},t.tax1.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"tax2"},n.createElement("td",{class:"header",colspan:"4"},t.tax2Name," ",t.tax2Rate.toLocaleString("en-US",{style:"percent"})),n.createElement("td",{class:"value number"},t.tax2.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"shipping"},n.createElement("td",{class:"header",colspan:"4"},"Shipping & Handling"),n.createElement("td",{class:"value number"},t.shipping.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"total"},n.createElement("th",{class:"header",colspan:"4"},"TOTAL"),n.createElement("td",{class:"value number"},t.total.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"paid"},n.createElement("th",{class:"header",colspan:"4"},"PAID"),n.createElement("td",{class:"value number"},t.paid.toLocaleString("en-US",{style:"currency",currency:"USD"}))),n.createElement("tr",{class:"total-due"},n.createElement("th",{class:"header",colspan:"4"},"TOTAL DUE"),n.createElement("td",{class:"value number"},t.totalDue.toLocaleString("en-US",{style:"currency",currency:"USD"})))))))),n.createElement("section",{class:"report-footer"},n.createElement("div",{class:"notes"},"Notes:",n.createElement("div",{class:"notes-body",setInnerText:{__text:t.notes}})),n.createElement("div",{class:"barcode"},t.invoiceNo.replace(/-/g,""))))}))),l)}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(101);Object.defineProperty(e,"billngReportHandler",{enumerable:!0,get:function(){return n.billngReportHandler}});var i=r(78);Object.defineProperty(e,"billngData",{enumerable:!0,get:function(){return u(i).default}});var o=r(77);Object.defineProperty(e,"kanbanReportHandler",{enumerable:!0,get:function(){return o.kanbanReportHandler}});var a=r(72);Object.defineProperty(e,"kanbanData",{enumerable:!0,get:function(){return u(a).default}});var s=r(71);Object.defineProperty(e,"fbaA4ReportHandler",{enumerable:!0,get:function(){return s.fbaA4ReportHandler}});var l=r(67);function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"barcodeTestHandler",{enumerable:!0,get:function(){return l.barcodeTestHandler}})},function(t,e,r){t.exports=r(102)}])});
//# sourceMappingURL=app.js.map