<!DOCTYPE html>
<head>
    <title>Ménneu - Playground</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="theme-color" content="#424242">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu+Mono">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/css/materialize.min.css">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-rc.2/js/materialize.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/ace.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/mode-html.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/mode-javascript.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/mode-markdown.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/snippets/html.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/snippets/javascript.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.1/snippets/markdown.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/16.4.1/umd/react.development.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.4.1/umd/react-dom.development.js" crossorigin="anonymous"></script>
    <script src="https://shellyln.github.io/liyad/liyad.min.js?v=671b6c2" crossorigin="anonymous"></script>
    <script src="https://shellyln.github.io/releases/menneu/0.0.11.1/menneu.min.js?v=671b6c2" crossorigin="anonymous" async onload=""></script>

<script id="md" type="text/markdown">
%%%(style (@ (dangerouslySetInnerHTML ".content { font-style: italic; color: red; }")))
%%%($now)
%%%(Greeting (@ (to "Ménneu")) "Good morning!")


# Heading

# h1
## h2
### h3
#### h4
##### h5
###### h6

Alt-h1
======
Alt-h2
------

# Fonts
* こんにちは
* 你們好
* 你们好


# Escape (Character entity references)

&amp;&lt;&quot;&apos;

`&amp;&lt;&quot;&apos;`

```
&amp;&lt;&quot;&apos;
```

&<>"'

`&<>"'`

```
&<>"'
```


# Links
[I'm an inline-style link](https://shellyln.github.io)

[I'm an inline-style link with title](https://shellyln.github.io "shellyln")


# Images
![alt text](https://shellyln.github.io/assets/image/liyad-logo.svg "Logo" =300x100)
![alt text](https://shellyln.github.io/assets/image/redagate-logo.svg "Logo" =300x100)

%%%(Image (@ (src "https://shellyln.github.io/assets/image/liyad-logo.svg")
             (width 300) (height 100) (unit "px") (alt "Logo2") ))
%%%(Image (@ (src "https://shellyln.github.io/assets/image/redagate-logo.svg")
             (width 300) (height 100) (unit "px") (alt "Logo2") ))

# Custom container

::: spoiler Click me!
Alice was beginning to get very tired of sitting by her sister on the
bank, and of having nothing to do. Once or twice she had peeped into the
book her sister was reading, ...
:::

---

::: content
Alice was beginning to get very tired of sitting by her sister on the
bank, and of having nothing to do. Once or twice she had peeped into the
book her sister was reading, but it had no pictures or conversations in
it, %%%(b "\"and what is the use of a book,\"") thought Alice,
%%%(b "\"without pictures or conversations?\"")
:::

---

::: content
So she was considering in her own mind (as well as she could, for the
day made her feel very sleepy and stupid), whether the pleasure of
making a daisy-chain would be worth the trouble of getting up and
picking the daisies, when suddenly a %%%(b "White Rabbit") with pink eyes ran
close by her.
:::

---

::: content
There was nothing so %%%(b "very") remarkable in that, nor did Alice think it so
very much out of the way to hear the Rabbit say to itself, "Oh dear! Oh
dear! I shall be too late!" But when the Rabbit actually took a watch
out of its waistcoat-pocket and looked at it and then hurried on, Alice
started to her feet, for it flashed across her mind that she had never
before seen a rabbit with either a waistcoat-pocket, or a watch to take
out of it, and, burning with curiosity, she ran across the field after
it and was just in time to see it pop down a large rabbit-hole, under
the hedge. In another moment, down went Alice after it!
:::



# highlighting

```js
function foo(x) {
    return x;
}
```

```html
<!DOCTYPE html>
<html lang="ja">
 <head>
  <meta charset="UTF-8">
  <link rel="author" href="mailto:mail@example.com">
  <title lang="en">HyperText Markup Language - Wikipedia</title>
 </head>
 <body>
  <article>
   <h1 lang="en">HyperText Markup Language</h1>
   <p>HTML</p>
  </article>
 </body>
</html>
```



# Barcodes and SVG

%%%(Svg (@ (width 100)
           (height 100)
           (unit "mm") )
    (Rect   (@  (x 5)
                (y 67)
                (width 70)
                (height 11)
                (stroke) ))
    (Qr     (@  (x 5)
                (y 7)
                (data "Hello") ))
    (Ean13  (@  (x 5)
                (y 37)
                (elementWidth 0.66)
                (height 15)
                (quietHeight 0)
                (textHeight 7)
                (font "7px 'OCRB'")
                (data "123456789012") )) )



# Lists

1. First ordered list item
2. Another item
    * Unordered sub-list. 
1. Actual numbers don't matter, just that it's a number
    1. Ordered sub-list
4. And another item.

    You can have properly indented paragraphs within list items. Notice the blank line above, and the leading spaces (at least one, but we'll use three here to also align the raw Markdown).

    To have a line break without a paragraph, you will need to use two trailing spaces.  
    Note that this line is separate, but within the same paragraph.  
    (This is contrary to the typical GFM line break behaviour, where trailing spaces are not required.)

* Unordered list can use asterisks
- Or minuses
+ Or pluses



# Tables

| Tables        | Are           | Cool  |
| ------------- |:-------------:| -----:|
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |
| col 3 is      | right-aligned | $1600 |
| col 2 is      | centered      |   $12 |
| zebra stripes | are neat      |    $1 |

----




# Cheeckbox

[ ] foo
[X] bar
[ ] baz



# PlantUML

@startuml
Bob -> Alice : Hello
@enduml


%%%(PlantUml """
Alice -> Bob : Bonjour
""")


@startuml
Alice -> Bob: Authentication Request
Bob --> Alice: Authentication Response

Alice -> Bob: Another authentication Request
Alice <-- Bob: another authentication Response
@enduml


%%%(PlantUml """
Alice -> Bob: Authentication Request
Bob --> Alice: Authentication Response

Alice -> Bob: Another authentication Request
Alice <-- Bob: another authentication Response
""")


@startuml
(First usecase)
(Another usecase) as (UC2)  
usecase UC3
usecase (Last\\nusecase) as UC4

Alice -> Bob : Bonjour
Alice -> UC3 : Bonjour
@enduml


%%%(PlantUml """
(First usecase)
(Another usecase) as (UC2)  
usecase UC3
usecase (Last\\nusecase) as UC4

Alice -> Bob : Bonjour
Alice -> UC3 : Bonjour
""")


# Charts


%%%(Chart (@ (width 800)
             (height 400)
             (unit "px")
             (asImgTag)
             (displayDataLabel)
             (settings (#
    (type "bar")
    (data (#
        (labels ($list "Red" "Blue" "Yellow" "Green" "Purple" "Orange"))
        (datasets ($list (#
            (label "# of Votes")
            (data ($list 12 19.2 3 5 2 3))
            (backgroundColor ($list
                "rgba(255, 99, 132, 0.2)"
                "rgba(54, 162, 235, 0.2)"
                "rgba(255, 206, 86, 0.2)"
                "rgba(75, 192, 192, 0.2)"
                "rgba(153, 102, 255, 0.2)"
                "rgba(255, 159, 64, 0.2)"
            ))
            (borderColor ($list
                "rgba(255, 99, 132, 1)"
                "rgba(54, 162, 235, 1)"
                "rgba(255, 206, 86, 1)"
                "rgba(75, 192, 192, 1)"
                "rgba(153, 102, 255, 1)"
                "rgba(255, 159, 64, 1)"
            ))
            (borderWidth 1)
        )))
    ))
    (options (#
        (title (#
            (display true)
            (text "Chart.js example")
        ))
        (scales (#
            (yAxes ($list (# (ticks (#
                (beginAtZero true)
            )))))
        ))
        (plugins (# (datalabels (#
            (color "black")
            (font (# (weight "bold")))
            (display (-> (ctx) (> ($get ctx dataset data ($get ctx dataIndex)) 5)))
            (formatter (-> (v) ($round v)))
        ))))
    ))
))))


%%%(Chart (@ (width 800)
             (height 400)
             (unit "px")
             (asImgTag)
             (displayDataLabel)
             (settings (#
    (type "doughnut")
    (data (#
        (labels ($list "Red" "Blue" "Yellow" "Green" "Purple" "Orange"))
        (datasets ($list (#
            (label "# of Votes")
            (data ($list 350 200 100 80 70 100))
            (backgroundColor ($list
                "rgba(255, 99, 132, 0.2)"
                "rgba(54, 162, 235, 0.2)"
                "rgba(255, 206, 86, 0.2)"
                "rgba(75, 192, 192, 0.2)"
                "rgba(153, 102, 255, 0.2)"
                "rgba(255, 159, 64, 0.2)"
            ))
            (borderColor ($list
                "rgba(255, 99, 132, 1)"
                "rgba(54, 162, 235, 1)"
                "rgba(255, 206, 86, 1)"
                "rgba(75, 192, 192, 1)"
                "rgba(153, 102, 255, 1)"
                "rgba(255, 159, 64, 1)"
            ))
            (borderWidth 1)
        )))
    ))
    (options (#
        (title (#
            (display true)
            (text "Chart.js example")
        ))
        (plugins (# (datalabels (#
            (color "black")
            (font (# (weight "bold")))
            (display (-> (ctx) (> ($get ctx dataset data ($get ctx dataIndex)) 80)))
            (formatter (-> (v) ($round v)))
        ))))
    ))
))))


%%%(Chart (@ (width 800)
             (height 400)
             (unit "px")
             (asImgTag)
             (settings (#
    (type "line")
    (data (#
        (labels ($list "January" "February" "March" "April" "May" "June" "July"))
        (datasets ($list (#
            (label "dataset - big points")
            (data ($list 40 30 60 80 70 100 20))
            (backgroundColor "rgba(255, 99, 132, 1)")
            (borderColor "rgba(255, 99, 132, 1)")
            (fill false)
            (borderDash ($list 5 5))
            (pointRadius 15)
        ) (#
            (label "dataset - individual point sizes")
            (data ($list 50 10 20 15 30 40 45))
            (backgroundColor "rgba(54, 162, 235, 1)")
            (borderColor "rgba(54, 162, 235, 1)")
            (fill false)
            (borderDash ($list 5 5))
            (pointRadius ($list 2 4 6 18 0 12 20))
        ) (#
            (label "dataset - large pointHoverRadius")
            (data ($list 70 100 20 40 30 60 80))
            (backgroundColor "rgba(255, 206, 86, 1)")
            (borderColor "rgba(255, 206, 86, 1)")
            (fill false)
        ) (#
            (label "dataset - large pointHitRadius")
            (data ($list 80 70 100 20 40 30 60))
            (backgroundColor "rgba(75, 192, 192, 1)")
            (borderColor "rgba(75, 192, 192, 1)")
            (fill false)
        ) ))
    ))
    (options (#
        (legend (#
            (position "bottom")
        ))
        (scales (#
            (xAxes ($list (#
                (display true)
                (scaleLabel (#
                    (display true)
                    (labelString "Month")
                ))
            )))
            (yAxes ($list (#
                (display true)
                (scaleLabel (#
                    (display true)
                    (labelString "Value")
                ))
            )))
        ))
        (title (#
            (display true)
            (text "Chart.js example")
        ))
    ))
))))


%%%(Chart (@ (width 800)
             (height 400)
             (unit "px")
             (asImgTag)
             (settings (#
    (type "line")
    (data (#
        (labels ($list "January" "February" "March" "April" "May" "June" "July"))
        (datasets ($list (#
            (label "My First dataset")
            (data ($list 40 30 -60 -80 70 100 20))
            (backgroundColor "rgba(255, 99, 132, 1)")
            (borderColor "rgba(255, 99, 132, 1)")
        ) (#
            (label "My Second dataset")
            (data ($list -50 -10 20 15 30 40 45))
            (backgroundColor "rgba(54, 162, 235, 1)")
            (borderColor "rgba(54, 162, 235, 1)")
        ) (#
            (label "My Third dataset")
            (data ($list -70 -100 20 40 -30 60 80))
            (backgroundColor "rgba(255, 206, 86, 1)")
            (borderColor "rgba(255, 206, 86, 1)")
        ) (#
            (label "My Third dataset")
            (data ($list 80 70 100 20 -40 -30 60))
            (backgroundColor "rgba(75, 192, 192, 1)")
            (borderColor "rgba(75, 192, 192, 1)")
        ) ))
    ))
    (options (#
        (legend (#
            (position "bottom")
        ))
        (scales (#
            (xAxes ($list (#
                (scaleLabel (#
                    (display true)
                    (labelString "Month")
                ))
            )))
            (yAxes ($list (#
                (stacked true)
                (scaleLabel (#
                    (display true)
                    (labelString "Value")
                ))
            )))
        ))
        (title (#
            (display true)
            (text "Chart.js example")
        ))
    ))
))))


# Superscript / Subscript

* H~2~0
* 29^th^



# [Emojies](https://github.com/markdown-it/markdown-it-emoji)

> Classic markup: :wink: :crush: :cry: :tear: :laughing: :yum:
>
> Shortcuts (emoticons): :-) :-( 8-) ;)

see [how to change output](https://github.com/markdown-it/markdown-it-emoji#change-output) with twemoji.



# Math (supported browsers: Firefix, Safari)

Pythagoran theorem is $$a^2 + b^2 = c^2$$.
 
Bayes theorem:
 
$$$
P(A | B) = (P(B | A)P(A)) / P(B)
P(A | B) = (P(B | A)P(A)) / P(B)
$$$

$$$
P(A | B) = (P(B | A)P(A)) / P(B)
$$$

$$$
P(A | B) = (P(B | A)P(A)) / P(B)
$$$

$$$
P(A | B) = (P(B | A)P(A)) / P(B)
$$$


Pythagoran theorem is %%%(Math (@ (inline)) "d^2 + e^2 = f^2" ).

Bayes theorem:

%%%(Math """
Q(A | B) = (Q(B | A)Q(A)) / Q(B)
Q(A | B) = (Q(B | A)Q(A)) / Q(B)
""")

%%%(Math """
Q(A | B) = (Q(B | A)Q(A)) / Q(B)
""")

%%%(Math """
Q(A | B) = (Q(B | A)Q(A)) / Q(B)
""")

%%%(Math """
Q(A | B) = (Q(B | A)Q(A)) / Q(B)
""")

</script>
<script id="lsx" type="text/lsx">
</script>
<script id="htm" type="text/plain">
</script>

    <style>
        body {
            font-family: 'Ubuntu Mono', monospace;
            display: flex;
            min-height: 100vh;
            flex-direction: column;
        }

        main {
            flex: 1 0 auto;
        }

        .AceEditorOuterWrap {
            width: calc(50% - 10px);
            min-width: 400px;
            margin: 8px 4px 4px 4px;
        }
        .AceEditorOuterWrap.stretched {
            width: 100%;
        }
        .AceEditorOuterWrap.collapsed {
            display: none;
        }
        .OutputIframe {
            background-color: white; 
            width: calc(50% - 10px);
            min-width: 400px;
            height: calc(100vh - 64px - 220px - 4px);
            min-height: 300px;
            margin: 8px 4px 4px 4px;
            overflow: auto;
        }
        .OutputIframe.stretched {
            width: 100%;
        }
        .OutputIframe.collapsed {
            display: none;
        }

        @media only screen and (max-width: 1200px) {
            .AceEditorOuterWrap {
                width: 100%;
            }
            .OutputIframe {
                width: 100%;
            }
        }

        @media print {
            .AceEditorOuterWrap {
                width: 100%;
            }
            .OutputIframe {
                width: 100%;
            }
        }
    </style>
</head>

<body class="grey darken-2">
    <nav class="grey darken-3">
        <div class="nav-wrapper">
            <a href="#">
                <img style="width: 150px;" src="https://camo.githubusercontent.com/2c4ae90e2103387a547d35531643b9aa6f96b4ee/68747470733a2f2f7368656c6c796c6e2e6769746875622e696f2f6173736574732f696d6167652f6d2543332541396e6e65752d6c6f676f2e737667">
            </a>
            <ul class="brand-logo center hide-on-med-and-down">
                <li>
                    <a href="https://github.com/shellyln/menneu/#ménneu">Documentation</a>
                </li>
                <li>
                    <a href="https://github.com/shellyln/menneu/releases">Download</a>
                </li>
                <li class="active grey darken-2">
                    <a href="#!">Playground</a>
                </li>
            </ul>
        </div>
    </nav>

    <main id="app" class="grey darken-1"></main>

    <footer class="page-footer grey darken-3" style="padding-top: 0;">
        <div class="container" style="width: 90%;">
            <div class="row" style="margin-bottom: 0;">
                <div class="col l6 s12">
                    <h5 class="white-text">
                        <img style="width: 100px; vertical-align: middle;" src="https://camo.githubusercontent.com/2c4ae90e2103387a547d35531643b9aa6f96b4ee/68747470733a2f2f7368656c6c796c6e2e6769746875622e696f2f6173736574732f696d6167652f6d2543332541396e6e65752d6c6f676f2e737667">
                        Ménneu
                    </h5>
                </div>
                <div class="col l5 offset-l1 s12">
                    <h5 class="white-text">Links</h5>
                    <ul>
                        <li>
                            <a class="grey-text text-lighten-3" href="https://github.com/shellyln/menneu/">
                                GitHub repository
                            </a>
                        </li>
                        <li>
                            <a class="grey-text text-lighten-3" href="https://www.npmjs.com/package/menneu">
                                NPM
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright" style="padding: 5px;">
            <div class="container">
                © 2018 Copyright <a class="grey-text text-lighten-4" href="https://shellyln.github.io/">Shellyl_N</a> and Authors.
                <a class="grey-text text-lighten-4 right" href="https://shellyln.github.io/">
                    <img alt="Shellyl_N"
                        style="width: 25px; margin-left: 40px; vertical-align: middle; filter: invert(90%);"
                        src="https://shellyln.github.io/assets/image/shellyln-bw.png">
                </a>
                <a class="grey-text text-lighten-4 right" href="https://github.com/shellyln">
                    <img alt="GitHub"
                        style="width: 25px; margin-left: 40px; vertical-align: middle; filter: invert(90%)"
                        src="https://shellyln.github.io/assets/octicons-6.0.1/svg/octoface.svg">
                </a>
                <a class="grey-text text-lighten-4 right" href="https://www.npmjs.com/~shellyln">
                    <img alt="NPM"
                        style="width: 25px; margin-left: 40px; vertical-align: middle; filter: invert(90%)"
                        src="https://shellyln.github.io/assets/image/npm.svg">
                </a>
                <a class="grey-text text-lighten-4 right" href="https://twitter.com/shellyl_n">
                    <img alt="Twitter"
                        style="width: 25px; margin-left: 40px; vertical-align: middle; filter: invert(90%)"
                        src="https://shellyln.github.io/assets/image/twitter.svg">
                </a>
            </div>
        </div>
    </footer>

    <script>
const AppState = {};

const escapeHtml = (s) => s
.replace(/&/g, "&amp;")
.replace(/</g, "&lt;")
.replace(/>/g, "&gt;")
.replace(/"/g, "&quot;")
.replace(/'/g, "&#39;");

const start = (async (text, cf, data) => {
    const buf = await menneu.render(text, data || {}, Object.assign({
        inputFormat: 'md',
        dataFormat: 'object',
        outputFormat: 'html',

        title: 'Markdown example',
        markdownBodyStyle: 'font-family: "Yu Gothic Medium", YuGothic, meiryo, "Microsoft JhengHei", "Microsoft YaHei", "SimHei", helvetica, arial, sans-serif;',
        globals: {
            "$now": () => (new Date).toLocaleDateString('en-US'),
            "$to-locale-string": (...args) => args.slice(-1)[0].toLocaleString(...(args.slice(0, -1))),
            "$dir": (...args) => console.dir(...args),
            "qwerty": "asdfgh",
        },
        components: {
            Greeting: (props) => `Hello, ${props.to}! ${props.children}`,
        },
        markdownCustomContainers: [{
            name: 'content',
        }, {
            name: 'spoiler',
            validate: (params) => {
                return params.trim().match(/^spoiler\s+(.*)$/);
            },
            render: (tokens, idx) => {
                const m = tokens[idx].info.trim().match(/^spoiler\s+(.*)$/);
                if (tokens[idx].nesting === 1) {
                    // opening tag
                    return '<details><summary>' + escapeHtml(m[1]) + '</summary>\n';
                } else {
                    // closing tag
                    return '</details>\n';
                }
            },
        }],
    }, cf || {}));

    return buf.toString();
});


class AceEditor extends React.Component {
    constructor(props, context) {
        super(props, context);

        this.state = {};
        this.editor = null;
    }

    componentDidMount() {
        this.editor = ace.edit('editor');
        this.editor.setTheme('ace/theme/monokai');
        this.editor.session.setMode('ace/mode/markdown');

        AppState.AceEditor = AppState.AceEditor || {};
        AppState.AceEditor[this.props.id] = this.editor;

        this.props.loadExample(0);
    }

    render() {
        return (lsx`
        (div (@ (className
                    ($concat "AceEditorOuterWrap"
                             ${this.props.stretched ? " stretched" : ""}
                             ${this.props.collapsed ? " collapsed" : ""} )))
            (div (@ (id ${this.props.id})
                    (style (width "100%")
                           (height "calc(100vh - 64px - 220px - 4px)")
                           (minHeight "300px")
                           (fontSize "12pt") )))
        )`);
    }
}


class App extends React.Component {
    constructor(props, context) {
        super(props, context);

        this.state = {};
        this.state.stretched = false;
    }

    loadExample(i) {
        const editor = AppState.AceEditor['editor'];
        editor.setValue(document.getElementById('md').innerHTML);
        editor.clearSelection();
    }

    handleStretchedClick(e) {
        this.setState({stretched: !this.state.stretched});
    }
    
    handleClick(e) {
        this.setState({stretched: false});
        const editor = AppState.AceEditor['editor'];

        start(editor.getValue())
        .then(html => {
            const doc = document.getElementById('root').contentWindow.document;
            doc.write(html);
            doc.close();
        })
        .catch(e => console.error(e));
    }

    render() {
        return (lsx`
        (Template
            (div (@ (style (padding "4px")))
                (button (@ (style (textTransform "none"))
                           (className "waves-effect waves-light brown lighten-1 btn")
                           (onClick ${(e) => this.handleStretchedClick(e)}) ) "⇔")
                " "
                (button (@ (style (textTransform "none"))
                           (className "waves-effect waves-light red lighten-1 btn")
                           (onClick ${(e) => this.handleClick(e)}) ) "Show") )
            (div (@ (style (display "flex")
                           (flexWrap "wrap") ))
                (AceEditor (@ (id "editor")
                              (stretched ${this.state.stretched ? true: false})
                              (loadExample ${(i) => this.loadExample(i)}) ))
                (iframe (@ (id "root")
                           (className ($concat "OutputIframe"
                                      ${this.state.stretched ? " collapsed" : ""}) )))
            )
        )`);
    }
}


window.lsx = liyad.LSX({
    jsx: React.createElement,
    jsxFlagment: React.Fragment,
    components: {
        AceEditor,
        App,
    },
});

ReactDOM.render(lsx`(App)`, document.getElementById('app'));
    </script>
</body>