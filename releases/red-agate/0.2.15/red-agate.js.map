{"version":3,"sources":["webpack://RedAgate/webpack/universalModuleDefinition","webpack://RedAgate/webpack/bootstrap","webpack://RedAgate/../red-agate-barcode/src/barcode/BarcodeBase.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Code128.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Code39.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Ean.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Itf.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/JapanPostal.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Nw7.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Qr.defs.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/Qr.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Code128.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Code39.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Ean.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Itf.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/JapanPostal.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Nw7.data.ts","webpack://RedAgate/../red-agate-barcode/src/barcode/data/Qr.m2.data.ts","webpack://RedAgate/../red-agate-barcode/src/index.ts","webpack://RedAgate/../red-agate-math/src/error-correction/BCH.ts","webpack://RedAgate/../red-agate-math/src/error-correction/CRC32.ts","webpack://RedAgate/../red-agate-math/src/error-correction/ReedSolomon.ts","webpack://RedAgate/../red-agate-math/src/index.ts","webpack://RedAgate/../red-agate-math/src/math/ArrayPolynomialRing.ts","webpack://RedAgate/../red-agate-math/src/math/Equation.ts","webpack://RedAgate/../red-agate-math/src/math/Gf2Ext.ts","webpack://RedAgate/../red-agate-math/src/math/Gf2PrimeHelper.ts","webpack://RedAgate/../red-agate-math/src/math/GfPrime.ts","webpack://RedAgate/../red-agate-math/src/math/RealField.ts","webpack://RedAgate/../red-agate-react-host/src/index.ts","webpack://RedAgate/../red-agate-react-host/src/react-host.ts","webpack://RedAgate/../red-agate-svg-canvas/src/drawing/canvas/SvgCanvas.ts","webpack://RedAgate/../red-agate-svg-canvas/src/drawing/canvas/TransferMatrix2D.ts","webpack://RedAgate/../red-agate-svg-canvas/src/drawing/canvas/WebColor.ts","webpack://RedAgate/../red-agate-svg-canvas/src/index.ts","webpack://RedAgate/../red-agate-util/src/convert/Base64.ts","webpack://RedAgate/../red-agate-util/src/convert/Escape.ts","webpack://RedAgate/../red-agate-util/src/convert/NumberPrecision.ts","webpack://RedAgate/../red-agate-util/src/convert/QueryString.ts","webpack://RedAgate/../red-agate-util/src/convert/TextEncoding.ts","webpack://RedAgate/../red-agate-util/src/convert/WordWrap.ts","webpack://RedAgate/../red-agate-util/src/imaging/Bitmap.ts","webpack://RedAgate/../red-agate-util/src/index.ts","webpack://RedAgate/../red-agate-util/src/io/BitStream.ts","webpack://RedAgate/../red-agate-util/src/io/FileFetcher.ts","webpack://RedAgate/../red-agate-util/src/io/FileSaver.ts","webpack://RedAgate/../red-agate-util/src/io/Html5FileFetcher.ts","webpack://RedAgate/../red-agate-util/src/io/Logger.ts","webpack://RedAgate/../red-agate-util/src/io/Uri.ts","webpack://RedAgate/../red-agate-util/src/types/Integer53.ts","webpack://RedAgate/../red-agate/src/index.ts","webpack://RedAgate/../red-agate/src/red-agate/app.ts","webpack://RedAgate/../red-agate/src/red-agate/bundler.ts","webpack://RedAgate/../red-agate/src/red-agate/data.ts","webpack://RedAgate/../red-agate/src/red-agate/html.tsx","webpack://RedAgate/../red-agate/src/red-agate/index.ts","webpack://RedAgate/../red-agate/src/red-agate/printing.ts","webpack://RedAgate/../red-agate/src/red-agate/red-agate.ts","webpack://RedAgate/../red-agate/src/red-agate/renderer.ts","webpack://RedAgate/../red-agate/src/red-agate/svg.tsx","webpack://RedAgate/../red-agate/src/red-agate/taglib.ts","webpack://RedAgate/../red-agate/src/red-agate/tags/Shape.ts","webpack://RedAgate/./node_modules/base64-js/index.js","webpack://RedAgate/./node_modules/buffer/index.js","webpack://RedAgate/./node_modules/builtin-status-codes/browser.js","webpack://RedAgate/./node_modules/core-util-is/lib/util.js","webpack://RedAgate/./node_modules/events/events.js","webpack://RedAgate/./node_modules/https-browserify/index.js","webpack://RedAgate/./node_modules/ieee754/index.js","webpack://RedAgate/./node_modules/inherits/inherits_browser.js","webpack://RedAgate/./node_modules/isarray/index.js","webpack://RedAgate/./node_modules/node-libs-browser/node_modules/punycode/punycode.js","webpack://RedAgate/./node_modules/process-nextick-args/index.js","webpack://RedAgate/./node_modules/querystring-es3/decode.js","webpack://RedAgate/./node_modules/querystring-es3/encode.js","webpack://RedAgate/./node_modules/querystring-es3/index.js","webpack://RedAgate/./node_modules/readable-stream/lib/_stream_duplex.js","webpack://RedAgate/./node_modules/readable-stream/lib/_stream_passthrough.js","webpack://RedAgate/./node_modules/readable-stream/lib/_stream_readable.js","webpack://RedAgate/./node_modules/readable-stream/lib/_stream_transform.js","webpack://RedAgate/./node_modules/readable-stream/lib/_stream_writable.js","webpack://RedAgate/./node_modules/readable-stream/lib/internal/streams/BufferList.js","webpack://RedAgate/./node_modules/readable-stream/lib/internal/streams/destroy.js","webpack://RedAgate/./node_modules/readable-stream/lib/internal/streams/stream-browser.js","webpack://RedAgate/./node_modules/readable-stream/readable-browser.js","webpack://RedAgate/./node_modules/safe-buffer/index.js","webpack://RedAgate/./node_modules/stream-http/index.js","webpack://RedAgate/./node_modules/stream-http/lib/capability.js","webpack://RedAgate/./node_modules/stream-http/lib/request.js","webpack://RedAgate/./node_modules/stream-http/lib/response.js","webpack://RedAgate/./node_modules/string_decoder/lib/string_decoder.js","webpack://RedAgate/./node_modules/to-arraybuffer/index.js","webpack://RedAgate/./node_modules/url/url.js","webpack://RedAgate/./node_modules/url/util.js","webpack://RedAgate/./node_modules/util-deprecate/browser.js","webpack://RedAgate/(webpack)/buildin/module.js","webpack://RedAgate/./node_modules/xtend/immutable.js","webpack://RedAgate/./src/index.ts","webpack://RedAgate/util (ignored)","webpack://RedAgate/util (ignored)?9add","webpack://RedAgate/external {\"root\":\"ReactDOMServer\",\"commonjs2\":\"react-dom/server\",\"commonjs\":\"react-dom/server\",\"amd\":\"react-dom/server\",\"umd\":\"react-dom/server\"}"],"names":[],"mappings":"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A;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,oDAAW;AAChC,cAAc,mBAAO,CAAC,gDAAS;AAC/B,cAAc,mBAAO,CAAC,gDAAS;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC5vDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;;;;;;;;;;;AC1GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,GAAG;AACH,oBAAoB,SAAS;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;AC7SA,WAAW,mBAAO,CAAC,iDAAM;AACzB,UAAU,mBAAO,CAAC,sCAAK;;AAEvB;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,QAAQ,WAAW;;AAEnB;AACA;AACA,QAAQ,UAAU;;AAElB;AACA;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA,iBAAiB;;AAEjB;AACA;AACA;;;;;;;;;;;;ACJA;AACA,CAAC;;AAED;AACA,mBAAmB,KAA0B;AAC7C;AACA,kBAAkB,KAAyB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,MAAM;AAClB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,YAAY,SAAS;AACrB;AACA,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,MAAM;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,KAAK;AACL,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,mCAAmC;AAClE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,aAAa,WAAW;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAwB;;AAExB,yCAAyC,qBAAqB;;AAE9D;AACA;AACA;AACA;AACA;AACA,kCAAkC,oBAAoB;;AAEtD;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,0BAA0B,iBAAiB;AAC3C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,cAAc,iBAAiB;AAC/B;;AAEA;AACA;AACA;;AAEA;AACA;AACA,8BAA8B,oBAAoB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,OAAO;AACnB;AACA,cAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE,IAEU;AACZ;AACA,EAAE,mCAAmB;AACrB;AACA,GAAG;AAAA,oGAAC;AACJ,EAAE,MAAM,EAaN;;AAEF,CAAC;;;;;;;;;;;;;;ACphBY;;AAEb;AACA;AACA;AACA,oBAAoB;AACpB,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;;;;;;ACnFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA,KAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,eAAe;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACpFa;;AAEb,iCAAiC,mBAAO,CAAC,0DAAU;AACnD,qCAAqC,mBAAO,CAAC,0DAAU;;;;;;;;;;;;;ACHvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,sBAAsB,mBAAO,CAAC,0EAAsB;AACpD;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA,WAAW,mBAAO,CAAC,6DAAc;AACjC,gBAAgB,mBAAO,CAAC,6DAAU;AAClC;;AAEA,eAAe,mBAAO,CAAC,kFAAoB;AAC3C,eAAe,mBAAO,CAAC,kFAAoB;;AAE3C;;AAEA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA,C;;;;;;;;;;;;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEa;;AAEb;;AAEA,gBAAgB,mBAAO,CAAC,oFAAqB;;AAE7C;AACA,WAAW,mBAAO,CAAC,6DAAc;AACjC,gBAAgB,mBAAO,CAAC,6DAAU;AAClC;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,E;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,sBAAsB,mBAAO,CAAC,0EAAsB;AACpD;;AAEA;;AAEA;AACA,cAAc,mBAAO,CAAC,gDAAS;AAC/B;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS,mBAAO,CAAC,+CAAQ;;AAEzB;AACA;AACA;AACA;;AAEA;AACA,aAAa,mBAAO,CAAC,wGAA2B;AAChD;;AAEA;;AAEA,aAAa,mBAAO,CAAC,wDAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,mBAAO,CAAC,6DAAc;AACjC,gBAAgB,mBAAO,CAAC,6DAAU;AAClC;;AAEA;AACA,gBAAgB,mBAAO,CAAC,aAAM;AAC9B;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,wGAA+B;AACxD,kBAAkB,mBAAO,CAAC,kGAA4B;AACtD;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yEAAyE,6EAA6E;AACtJ;;AAEA;AACA,qBAAqB,mBAAO,CAAC,8EAAkB;;AAE/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,0FAA0F;;AAE3I;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,wCAAwC,mBAAO,CAAC,4EAAiB;AACjE;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,mBAAO,CAAC,8EAAkB;;AAE/C;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,kGAAkG;AAClG,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA,4FAA4F;AAC5F,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,gDAAgD;;AAEhD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sCAAsC,mBAAO,CAAC,4EAAiB;AAC/D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E;AAC5E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAsC;;AAEtC;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,+CAA+C;;AAE/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB;;AAEpB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,SAAS;AAC5B;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA,4EAA4E;;AAE5E;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA,iBAAiB,yBAAyB;AAC1C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mDAAmD;AACnD;AACA,mDAAmD,iEAAiE;AACpH;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA,uCAAuC;AACvC,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;;AAEA;AACA,gCAAgC,OAAO;AACvC;AACA;AACA;AACA,C;;;;;;;;;;;;ACt/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,YAAY;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;;AAEA,aAAa,mBAAO,CAAC,8EAAkB;;AAEvC;AACA,WAAW,mBAAO,CAAC,6DAAc;AACjC,gBAAgB,mBAAO,CAAC,6DAAU;AAClC;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,C;;;;;;;;;;;;ACrNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEa;;AAEb;;AAEA,sBAAsB,mBAAO,CAAC,0EAAsB;AACpD;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,WAAW,mBAAO,CAAC,6DAAc;AACjC,gBAAgB,mBAAO,CAAC,6DAAU;AAClC;;AAEA;AACA;AACA,aAAa,mBAAO,CAAC,gEAAgB;AACrC;AACA;;AAEA;AACA,aAAa,mBAAO,CAAC,wGAA2B;AAChD;;AAEA;;AAEA,aAAa,mBAAO,CAAC,wDAAa;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,kBAAkB,mBAAO,CAAC,kGAA4B;;AAEtD;;AAEA;;AAEA;AACA,qBAAqB,mBAAO,CAAC,8EAAkB;;AAE/C;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iDAAiD,0FAA0F;;AAE3I;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL,GAAG;AACH,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,mBAAO,CAAC,8EAAkB;;AAE/C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,iCAAiC;;AAEjC;;AAEA,2CAA2C;AAC3C;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,oDAAoD;AACpD;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4CAA4C;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,E;;;;;;;;;;;;ACpqBa;;AAEb,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,aAAa,mBAAO,CAAC,wDAAa;AAClC,WAAW,mBAAO,CAAC,aAAM;;AAEzB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB,gDAAgD;AAChD;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA,4BAA4B,sBAAsB;AAClD;AACA;AACA,C;;;;;;;;;;;;AC9Ea;;AAEb;;AAEA,sBAAsB,mBAAO,CAAC,0EAAsB;AACpD;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,E;;;;;;;;;;;ACzEA,iBAAiB,mBAAO,CAAC,+CAAQ;;;;;;;;;;;;ACAjC,2BAA2B,mBAAO,CAAC,yFAA2B;AAC9D;AACA;AACA,mBAAmB,mBAAO,CAAC,yFAA2B;AACtD,iBAAiB,mBAAO,CAAC,qFAAyB;AAClD,oBAAoB,mBAAO,CAAC,2FAA4B;AACxD,sBAAsB,mBAAO,CAAC,+FAA8B;;;;;;;;;;;;ACN5D;AACA,aAAa,mBAAO,CAAC,8CAAQ;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7DA,oBAAoB,mBAAO,CAAC,gEAAe;AAC3C,eAAe,mBAAO,CAAC,kEAAgB;AACvC,aAAa,mBAAO,CAAC,gDAAO;AAC5B,kBAAkB,mBAAO,CAAC,4EAAsB;AAChD,UAAU,mBAAO,CAAC,sCAAK;;AAEvB;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;ACpFA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxEA,iBAAiB,mBAAO,CAAC,kEAAc;AACvC,eAAe,mBAAO,CAAC,6DAAU;AACjC,eAAe,mBAAO,CAAC,8DAAY;AACnC,aAAa,mBAAO,CAAC,2EAAiB;AACtC,oBAAoB,mBAAO,CAAC,8DAAgB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ,2CAA2C;AAC3C,IAAI;AACJ,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,GAAG;AACH;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtUA,iBAAiB,mBAAO,CAAC,kEAAc;AACvC,eAAe,mBAAO,CAAC,6DAAU;AACjC,aAAa,mBAAO,CAAC,2EAAiB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;;AAEF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,IAAI;;AAEJ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,IAAI,aAAa;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,wCAAwC,eAAe,IAAI;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,oBAAoB;AACxC;;AAEA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC/Na;;AAEb,aAAa,mBAAO,CAAC,wDAAa;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,6BAA6B,sCAAsC,sCAAsC;AACzG;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;AC/QA,aAAa,mBAAO,CAAC,8CAAQ;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;;;;;;;;;;;;AC1BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb,eAAe,mBAAO,CAAC,oFAAU;AACjC,WAAW,mBAAO,CAAC,0CAAQ;;AAE3B;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAK;;AAErB;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,2CAA2C,KAAK;AAChD,0CAA0C,KAAK;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,kBAAkB,mBAAO,CAAC,4DAAa;;AAEvC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,yBAAyB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2CAA2C,OAAO;AAClD;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,mBAAmB;AACrC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8BAA8B,QAAQ;AACtC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3tBa;;AAEb;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,aAAa,SAAS;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;;AAEA;;AAEA;AACA;;AAEA,mBAAmB,sBAAsB;AACzC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACLA,e;;;;;;;;;;;ACAA,e;;;;;;;;;;;ACAA,8D","file":"red-agate.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react-dom/server\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react-dom/server\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"RedAgate\"] = factory(require(\"react-dom/server\"));\n\telse\n\t\troot[\"RedAgate\"] = factory(root[\"ReactDOMServer\"]);\n})(window, function(__WEBPACK_EXTERNAL_MODULE_react_dom_server__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { ShapeProps,\r\n         shapePropsDefault,\r\n         Shape,\r\n         ImagingShapeBasePropsMixin,\r\n         renderSvgCanvas,\r\n         toImgTag,\r\n         toElementStyle,\r\n         toDataUrl,\r\n         toSvg,\r\n         CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\n\r\n\r\n\r\nexport interface BarcodeBaseProps extends ShapeProps, ImagingShapeBasePropsMixin {\r\n    fillColor?: string | WebColor;\r\n    font?: string;\r\n\r\n    rotation?: number;\r\n    height?: number;\r\n    quietWidth?: number;\r\n    quietHeight?: number;\r\n    unit?: string;\r\n    drawText?: boolean;\r\n    useRawDataAsText?: boolean;\r\n    textHeight?: number;\r\n\r\n    data?: string;\r\n    text?: string;\r\n\r\n    asDataUrl?: boolean;\r\n    asImgTag?: boolean;\r\n}\r\n\r\nexport interface BarcodeBasePropsNoUndefined extends ShapeProps, ImagingShapeBasePropsMixin {\r\n    fillColor: string | WebColor;\r\n    font: string;\r\n\r\n    rotation: number;\r\n    height: number;\r\n    quietWidth: number;\r\n    quietHeight: number;\r\n    unit?: string;\r\n    drawText: boolean;\r\n    useRawDataAsText: boolean;\r\n    textHeight: number;\r\n\r\n    data?: string;\r\n    text?: string;\r\n\r\n    asDataUrl?: boolean;\r\n    asImgTag?: boolean;\r\n}\r\n\r\nexport const barcodeBasePropsDefault: BarcodeBasePropsNoUndefined = Object.assign({}, shapePropsDefault, {\r\n    fillColor: \"black\",\r\n    font: \"normal 3.5px 'OCRB'\", // \"initial user coordinate\" 1px == \"viewport coordinate\" 1mm\r\n    rotation: 0,\r\n    height: 6.35,\r\n    quietWidth: 2.54,\r\n    quietHeight: 0.66,\r\n    unit: \"mm\",\r\n    drawText: true,\r\n    useRawDataAsText: false,\r\n    textHeight: 3.55\r\n});\r\n\r\nexport class BarcodeBase<T extends BarcodeBaseProps> extends Shape<T> {\r\n    public constructor(props: T, protected charactersMap: Map<string, {index: number, pattern: string}>) {\r\n        super(Object.assign({}, barcodeBasePropsDefault, props as any));\r\n    }\r\n\r\n    public toImgTag(): string {\r\n        return toImgTag(this);\r\n    }\r\n\r\n    public toElementStyle(): string {\r\n        return toElementStyle(this);\r\n    }\r\n\r\n    public toDataUrl(): string {\r\n        return toDataUrl(this);\r\n    }\r\n\r\n    public toSvg(): string {\r\n        return toSvg(this);\r\n    }\r\n\r\n    public toRendered(): string {\r\n        return RedAgate.renderAsHtml_noDefer(this);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        let canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        const contextHasCanvas = Boolean(canvas);\r\n        if (!contextHasCanvas) {\r\n            canvas = new SvgCanvas();\r\n            this.setContext(contexts, CONTEXT_SVG_CANVAS, canvas);\r\n            super.beforeRender(contexts);\r\n        }\r\n\r\n        let data = this.props.data || \"\";\r\n        let text = this.props.text;\r\n\r\n        const originalData = data;\r\n        let heightData: string | undefined,\r\n             labelText: string | undefined,\r\n             startChar: string,\r\n              stopChar: string;\r\n        ({data, heightData, labelText, startChar, stopChar} = this.encodeData(data));\r\n\r\n        const cdChar = this.calcCheckDigit(data);\r\n\r\n        // tw: total width (quiet + data + start + stop + cd)\r\n        // th: total height (quiet + bar + text)\r\n        const {tw, th} = this.calcSymbolSize(data, startChar, stopChar, cdChar);\r\n\r\n        data = `${startChar}${data}${cdChar}${stopChar}`;\r\n\r\n        if (labelText !== void 0) {\r\n            text = labelText;\r\n        } else {\r\n            if (text === void 0 || text === null) text = this.props.text;\r\n            if (text === void 0 || text === null) text = originalData;\r\n        }\r\n\r\n        let rotation = (this.props.rotation === void 0 || this.props.rotation === null) ?\r\n            0 : Math.floor(this.props.rotation / 90) % 4;\r\n\r\n        if (rotation < 0) rotation += 4;\r\n        switch (rotation) {\r\n            case 1:\r\n                canvas.rotate(Math.PI * 1.5);\r\n                canvas.translate(-tw, 0);\r\n                break;\r\n            case 2:\r\n                canvas.rotate(Math.PI);\r\n                canvas.translate(-tw, -th);\r\n                break;\r\n            case 3:\r\n                canvas.rotate(Math.PI * 0.5);\r\n                canvas.translate(0, -th);\r\n                break;\r\n        }\r\n\r\n        if (this.props.drawText) {\r\n            canvas.beginGroup();\r\n        }\r\n\r\n        if (this.isHeightModulated) {\r\n            this.renderHeightModulatedBarData(canvas, tw, th, data, heightData, text);\r\n        } else {\r\n            this.renderBarData(canvas, tw, th, data, heightData, text);\r\n        }\r\n        this.renderAdditional(canvas, tw, th, data, text);\r\n\r\n        if (this.props.drawText) {\r\n            canvas.endGroup();\r\n            canvas.beginGroup();\r\n        }\r\n\r\n        if (this.props.drawText) {\r\n            if (this.props.font) canvas.font = this.props.font;\r\n            this.renderText(canvas, tw, th, data, text);\r\n        }\r\n\r\n        if (this.props.drawText) {\r\n            canvas.endGroup();\r\n        }\r\n\r\n        if (contextHasCanvas) {\r\n            return ``;\r\n        } else {\r\n            super.afterRender(contexts);\r\n            this.unsetContext(contexts, CONTEXT_SVG_CANVAS);\r\n            const imageWidth  = tw + (this.props.x || 0);\r\n            const imageHeight = th + (this.props.y || 0);\r\n            return renderSvgCanvas(this.props, canvas, imageWidth, imageHeight);\r\n        }\r\n    }\r\n\r\n\r\n    // total width (quiet + data + start + stop + cd)\r\n    // total height (quiet + bar + text)\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw: 0,\r\n            // total height (quiet + bar + text)\r\n            th: 0\r\n        };\r\n    }\r\n\r\n    protected calcCheckDigit(data: string): string {\r\n        return \"\";\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        return {data, startChar: \"\", stopChar: \"\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        return [];\r\n    }\r\n\r\n    protected getBarSpaceHeight(): Array<Array<{offset: number, height: number}>> {\r\n        const props = this.props as BarcodeBasePropsNoUndefined;\r\n\r\n        return [[{offset: 0, height: props.height}]];\r\n    }\r\n\r\n    protected getRenderStartCoodinate(data: string, text: string): {rx: number, ry: number} {\r\n        const props = this.props as BarcodeBasePropsNoUndefined;\r\n\r\n        return {rx: props.quietWidth, ry: props.quietHeight};\r\n    }\r\n\r\n    protected get isHeightModulated(): boolean {\r\n        return false;\r\n    }\r\n\r\n    protected renderBarData(\r\n        canvas: SvgCanvas, tw: number, th: number,\r\n        data: string, heightData: string | undefined, text: string) {\r\n\r\n        const bw = this.getBarSpaceWidth();\r\n        const vseg = this.getBarSpaceHeight();\r\n\r\n        // tslint:disable-next-line:prefer-const\r\n        let {rx, ry} = this.getRenderStartCoodinate(data, text);\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            const cmap = this.charactersMap.get(data[i]);\r\n            if (! cmap) {\r\n                throw new Error(\"BarcodeBase#renderBarData: character is out of range.\");\r\n            }\r\n            const pattern = cmap.pattern;\r\n            let bar = true;\r\n            let dx = 0;\r\n            for (let j = 0; j < pattern.length; j++) {\r\n                const c = pattern[j];\r\n                switch (c) {\r\n                    case \"0\": case \"1\": case \"2\": case \"3\": case \"4\":\r\n                    case \"5\": case \"6\": case \"7\": case \"8\": case \"9\":\r\n                        // \"0\" is character gap\r\n                        {\r\n                            const w = bw[Number.parseInt(c, 10)];\r\n                            if (bar) {\r\n                                const ss = (heightData === void 0) ? vseg[0] : vseg[Number.parseInt(heightData[i], 10)];\r\n                                for (const seg of ss) {\r\n                                    canvas.rect(rx + dx, ry + seg.offset, w, seg.height);\r\n                                }\r\n                            }\r\n                            dx += w;\r\n                            bar = !bar;\r\n                        }\r\n                        break;\r\n                    case \"+\":\r\n                        bar = true;\r\n                        break;\r\n                    case \"-\":\r\n                        bar = false;\r\n                        break;\r\n                }\r\n            }\r\n            rx += dx;\r\n        }\r\n        canvas.fill();\r\n        canvas.beginPath();\r\n    }\r\n\r\n    protected renderHeightModulatedBarData(\r\n        canvas: SvgCanvas, tw: number, th: number,\r\n        data: string, heightData: string | undefined, text: string) {\r\n\r\n        const bw = this.getBarSpaceWidth();\r\n        const w = bw[1];\r\n        const vseg = this.getBarSpaceHeight();\r\n\r\n        // tslint:disable-next-line:prefer-const\r\n        let {rx, ry} = this.getRenderStartCoodinate(data, text);\r\n\r\n        for (let i = 0; i < data.length; i++) {\r\n            const pattern = (this as any).charactersMap.get(data[i]).pattern;\r\n            const bar = true;\r\n            let dx = 0;\r\n            for (let j = 0; j < pattern.length; j++) {\r\n                const c = pattern[j];\r\n                switch (c) {\r\n                    case \"1\": case \"2\": case \"3\": case \"4\":\r\n                    case \"5\": case \"6\": case \"7\": case \"8\": case \"9\":\r\n                        {\r\n                            const ss = vseg[Number.parseInt(c, 10)];\r\n                            for (const seg of ss) {\r\n                                canvas.rect(rx + dx, ry + seg.offset, w, seg.height);\r\n                            }\r\n                        }\r\n                        // FALL THRU\r\n                    case \"0\":\r\n                        // \"0\" is space\r\n                        dx += w * 2;\r\n                        break;\r\n                }\r\n            }\r\n            rx += dx;\r\n        }\r\n        canvas.fill();\r\n        canvas.beginPath();\r\n    }\r\n\r\n    protected renderAdditional(canvas: SvgCanvas, tw: number, th: number, data: string, text: string) {\r\n    }\r\n\r\n    protected renderText(canvas: SvgCanvas, tw: number, th: number, data: string, text: string) {\r\n        const props = this.props as BarcodeBasePropsNoUndefined;\r\n\r\n        canvas.textAlign = \"center\";\r\n        canvas.textBaseline = \"alphabetic\";\r\n        canvas.fillText(props.useRawDataAsText ? data : text, tw / 2, th - props.quietHeight);\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap,\r\n         fullAsciiMap }       from './data/Code128.data';\r\n\r\n\r\n\r\nexport interface Code128Props extends BarcodeBaseProps {\r\n    elementWidth?: number;\r\n    useLatin1?: boolean;\r\n    raw?: boolean;\r\n}\r\n\r\nexport interface Code128PropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    elementWidth: number;\r\n    useLatin1: boolean;\r\n    raw: boolean;\r\n}\r\n\r\nexport const code128PropsDefault: Code128PropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    elementWidth: 0.33,\r\n    useLatin1: false,\r\n    raw: false\r\n});\r\n\r\nexport class Code128 extends BarcodeBase<Code128Props> {\r\n    public constructor(props: Code128Props) {\r\n        super(Object.assign({}, code128PropsDefault, props), charactersMap);\r\n    }\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n        const props = this.props as Code128PropsNoUndefined;\r\n\r\n        // module width (bar + space + gap)\r\n        const mw = props.elementWidth * 11;\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw: props.quietWidth  * 2 + mw * data.length + props.elementWidth * 13,\r\n            // total height (quiet + bar + text)\r\n            th: props.quietHeight * 2 + props.height + (props.drawText ? props.textHeight : 0)\r\n        };\r\n    }\r\n\r\n    protected calcMod103Checksum(data: string): number {\r\n        let v = charactersMap.get(data[0]);\r\n        if (v === void 0) {\r\n            throw new Error(\"code128: character is out of range.\");\r\n        }\r\n        let s = v.index % 103;\r\n        for (let i = 1; i < data.length; i++) {\r\n            v = charactersMap.get(data[i]);\r\n            if (v === void 0) {\r\n                throw new Error(\"code128: character is out of range.\");\r\n            }\r\n            s = (s + v.index * i) % 103;\r\n        }\r\n        return s;\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        if (this.props.raw) {\r\n            return {data, startChar: \"\", stopChar: \"\\x6A\"};\r\n        }\r\n\r\n        let d = \"\";\r\n        let cLimit = 4;\r\n        let mode: number | null = null; // 0: A, 1: B, 2: C\r\n        let scanned = 0;\r\n\r\n        const detC = (i: number) => {\r\n            let j = i + 1;\r\n            let continuing = 1;\r\n            for (; j < data.length; j++) {\r\n                const c2 = data.charCodeAt(j);\r\n                if (0x30 <= c2 && c2 <= 0x39) {\r\n                    continuing++;\r\n                } else if (c2 === 0x80) {\r\n                    if (continuing % 2) break;\r\n                } else {\r\n                    break;\r\n                }\r\n            }\r\n            if (j >= data.length && j - i >= 4) {\r\n                return true;\r\n            } else {\r\n                return (j - i >= cLimit) ? true : false;\r\n            }\r\n        };\r\n\r\n        const encodeC = (i: number) => {\r\n            // code C\r\n            d += mode === null ? \"\\x69\" : \"\\x63\"; // start / change mode\r\n            let j = i, v = 0, continuing = 0;\r\n\r\n            for (; j < data.length; j++) {\r\n                let c2 = data.charCodeAt(j);\r\n                if (0x30 <= c2 && c2 <= 0x39) {\r\n                    v = v * 10 + (c2 - 0x30);\r\n                    continuing++;\r\n                    if (continuing % 2 === 0) {\r\n                        d += String.fromCharCode(v);\r\n                        v = 0;\r\n                    }\r\n                } else {\r\n                    if (this.props.useLatin1 && c2 > 127) {\r\n                        c2 -= 128;\r\n                    }\r\n                    if (c2 === 0x80) {\r\n                        if (continuing % 2) {\r\n                            break;\r\n                        } else {\r\n                            d += \"\\x66\"; // FNC1\r\n                        }\r\n                    } else {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (j < data.length || continuing % 2) {\r\n                mode = detAB(j);\r\n                d += mode === 0 ? \"\\x65\" : \"\\x64\";\r\n            }\r\n            if (continuing % 2) {\r\n                const z = fullAsciiMap.get(0x30 + v);\r\n                if (z === void 0) {\r\n                    throw new Error(\"code128: character is out of range.\");\r\n                }\r\n                if (mode === null) {\r\n                    throw new Error(\"code128: mode === null. Assertion failed.\");\r\n                }\r\n                d += z[mode];\r\n            }\r\n            return j;\r\n        };\r\n\r\n        const detAB = (i: number) => {\r\n            let cA = 0, cB = 0;\r\n            let j = Math.max(i, scanned);\r\n\r\n            for (; j < data.length; j++) {\r\n                let c2 = data.charCodeAt(j);\r\n                if (this.props.useLatin1 && c2 > 127) {\r\n                    c2 -= 128;\r\n                }\r\n                const z = fullAsciiMap.get(c2);\r\n                if (z === void 0) {\r\n                    throw new Error(\"code128: character is out of range.\");\r\n                }\r\n                const bA = z[0];\r\n                const bB = z[1];\r\n                if (bA === void 0 || bB === void 0) {\r\n                    break;\r\n                }\r\n            }\r\n            const N = Math.min(data.length, j + 6);\r\n            for (; j < N; j++) {\r\n                let c2 = data.charCodeAt(j);\r\n                if (this.props.useLatin1 && c2 > 127) {\r\n                    c2 -= 128;\r\n                }\r\n                const z = fullAsciiMap.get(c2);\r\n                if (z === void 0) {\r\n                    throw new Error(\"code128: character is out of range.\");\r\n                }\r\n                const bA = z[0];\r\n                if (bA === void 0) cA++;\r\n                const bB = z[1];\r\n                if (bB === void 0) cB++;\r\n            }\r\n            scanned = j;\r\n\r\n            const mode2 = mode === null ? 1 : mode;\r\n            if      (cA < cB) return (cB - cA) < 2 ? mode2 : 0;\r\n            else if (cA > cB) return (cA - cB) < 2 ? mode2 : 1;\r\n            else              return mode2;\r\n        };\r\n\r\n        for (let i = 0; i < data.length; ) {\r\n            const ci = data.charCodeAt(i);\r\n            let done = false, latin1 = false;\r\n\r\n            if ((0x30 <= ci && ci <= 0x39) ||\r\n                (!this.props.useLatin1 && ci === 0x80) ||\r\n                (this.props.useLatin1 && ci === 0x100)) {\r\n\r\n                if (detC(i)) {\r\n                    i = encodeC(i);\r\n                    done = true;\r\n                }\r\n                cLimit = 6;\r\n            }\r\n\r\n            if (! done) {\r\n                let c2 = data.charCodeAt(i);\r\n                if (this.props.useLatin1 && c2 > 127) {\r\n                    c2 -= 128;\r\n                    if (128 <= c2 && c2 <= 135) {\r\n                        // FNC1-4, CODE A-C, SHIFT A-B\r\n                        if (c2 === 131) {\r\n                            latin1 = true; // escape FNC4\r\n                        }\r\n                    } else {\r\n                        latin1 = true;\r\n                    }\r\n                }\r\n                const z = fullAsciiMap.get(c2);\r\n                if (z === void 0) {\r\n                    throw new Error(\"code128: character is out of range.\");\r\n                }\r\n                let b = mode !== null ? z[mode] : void 0;\r\n                if (b === void 0) {\r\n                    const newMode = detAB(i);\r\n                    if (mode === newMode) {\r\n                        d += \"\\x62\"; // shift\r\n                        b = z[(mode + 1) % 2];\r\n                    } else {\r\n                        if (mode === null) d += mode === 0 ? \"\\x67\" : \"\\x68\"; // start\r\n                        else               d += mode === 0 ? \"\\x64\" : \"\\x65\"; // change mode\r\n                        mode = newMode;\r\n                        b = z[mode];\r\n                    }\r\n                }\r\n                if (b === null) {\r\n                    throw new Error(\"code128: character is out of range.\");\r\n                }\r\n                if (latin1) {\r\n                    const fnc4 = fullAsciiMap.get(131);\r\n                    if (fnc4 === void 0) {\r\n                        throw new Error(\"code128: character is out of range.\");\r\n                    }\r\n                    if (mode === null) {\r\n                        throw new Error(\"code128: mode === null. Assertion failed.\");\r\n                    }\r\n                    d += fnc4[mode]; // FNC4\r\n                }\r\n                d += b;\r\n                i++;\r\n            }\r\n        }\r\n\r\n        d += String.fromCharCode(this.calcMod103Checksum(d));\r\n        return {data: d, startChar: \"\", stopChar: \"\\x6A\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as Code128PropsNoUndefined;\r\n\r\n        const w = props.elementWidth;\r\n        return [0, w, w * 2, w * 3, w * 4];\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap,\r\n         reverseMap,\r\n         fullAsciiMap }       from './data/Code39.data';\r\n\r\n\r\n\r\nexport interface Code39Props extends BarcodeBaseProps {\r\n    addCheckDigit?: boolean;\r\n    fullAscii?: boolean;\r\n    narrowWidth?: number;\r\n    wideWidth?: number;\r\n    charGapWidth?: number;\r\n}\r\n\r\nexport interface Code39PropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    addCheckDigit: boolean;\r\n    fullAscii: boolean;\r\n    narrowWidth: number;\r\n    wideWidth: number;\r\n    charGapWidth?: number;\r\n}\r\n\r\nexport const code39PropsDefault: Code39PropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    addCheckDigit: true,\r\n    fullAscii: false,\r\n    narrowWidth: 0.33,\r\n    wideWidth: 0.66,\r\n    charGapWidth: void 0\r\n});\r\n\r\nexport class Code39 extends BarcodeBase<Code39Props> {\r\n    public constructor(props: Code39Props) {\r\n        super(Object.assign({}, code39PropsDefault, props), charactersMap);\r\n    }\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n        const props = this.props as Code39PropsNoUndefined;\r\n\r\n        const gw = props.charGapWidth || props.narrowWidth;\r\n        // module width (bar + space + gap)\r\n        const mw = props.narrowWidth * 6 + props.wideWidth * 3 + gw;\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw: props.quietWidth  * 2 + mw * (data.length + 2 + (props.addCheckDigit ? 1 : 0)) - gw,\r\n            // total height (quiet + bar + text)\r\n            th: props.quietHeight * 2 + props.height + (props.drawText ? props.textHeight : 0)\r\n        };\r\n    }\r\n\r\n    protected calcCheckDigit(data: string): string {\r\n        let cdChar = \"\";\r\n        if (this.props.addCheckDigit) {\r\n            let cd = 0;\r\n            for (let i = 0; i < data.length; i++) {\r\n                const v = charactersMap.get(data[i]);\r\n                if (v === void 0) {\r\n                    throw new Error(\"code39: character is out of range.\");\r\n                }\r\n                cd = (cd + v.index) % 43;\r\n            }\r\n            const cdch = reverseMap.get(cd);\r\n            if (cdch === void 0) {\r\n                throw new Error(\"code39 (trace): checkdigit is out of range.\");\r\n            }\r\n            cdChar = cdch;\r\n        }\r\n        return cdChar;\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        let d = data;\r\n        if (this.props.fullAscii) {\r\n            d = \"\";\r\n            for (let i = 0; i < data.length; i++) {\r\n                const c = fullAsciiMap.get(data.charCodeAt(i));\r\n                if (c === void 0) {\r\n                    throw new Error(\"code39 fullascii: character is out of range.\");\r\n                }\r\n                d += c;\r\n            }\r\n        }\r\n        return {data: d, startChar: \"*\", stopChar: \"*\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as Code39PropsNoUndefined;\r\n\r\n        const gw = props.charGapWidth || props.narrowWidth;\r\n        return [gw, props.narrowWidth, props.wideWidth];\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap }      from './data/Ean.data';\r\n\r\n\r\n\r\nexport type EanTypesEnum = \"ean-2\" | \"ean-5\" | \"ean-8\" | \"ean-13\" | \"upc-a\" | \"upc-e\";\r\n\r\nexport interface EanProps extends BarcodeBaseProps {\r\n    smallFont?: string;\r\n    elementWidth?: number;\r\n    guardExtHeight?: number;\r\n}\r\n\r\nexport interface EanPropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    smallFont: string;\r\n    elementWidth: number;\r\n    guardExtHeight: number;\r\n}\r\n\r\nexport const eanPropsDefault: EanPropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    smallFont: \"normal 3.0px 'OCRB'\", // \"initial user coordinate\" 1px == \"viewport coordinate\" 1mm\r\n    elementWidth: 0.33,\r\n    guardExtHeight: 2\r\n});\r\n\r\nexport class EanBase extends BarcodeBase<EanProps> {\r\n    public constructor(props: EanProps) {\r\n        super(Object.assign({}, eanPropsDefault, props), charactersMap);\r\n    }\r\n\r\n    protected get eanTypes(): EanTypesEnum {\r\n        throw new Error(\"EAN#eanTypes: abstract property\");\r\n    }\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n\r\n        const props = this.props as EanPropsNoUndefined;\r\n\r\n        let len: number;\r\n        let guard = 0;\r\n        switch (this.eanTypes) {\r\n        case \"ean-13\": case \"upc-a\":\r\n            len = 12;\r\n            guard = 11;\r\n            break;\r\n        case \"ean-8\":\r\n            len = 8;\r\n            guard = 11;\r\n            break;\r\n        case \"ean-5\":\r\n            len = 5;\r\n            guard = 13; // start + character separator\r\n            break;\r\n        case \"upc-e\":\r\n            len = 6;\r\n            guard = 10;\r\n            break;\r\n        case \"ean-2\":\r\n            len = 2;\r\n            guard = 7; // start + character separator\r\n            break;\r\n        default:\r\n            throw new Error(\"bad data length\");\r\n        }\r\n\r\n        return {\r\n            // total width (quiet + data + cd + guard bar + center bar)\r\n            tw: props.quietWidth  * 2 + props.elementWidth * (7 * len + guard),\r\n            // total height (quiet + bar + text)\r\n            th: props.quietHeight * 2 + props.height + (props.drawText ? props.textHeight : 0)\r\n        };\r\n    }\r\n\r\n    protected calcEanMod10W3Checksum(data: string): number {\r\n        let odd = 0, even = 0;\r\n        for (let i = 0; i < data.length; i++) {\r\n            // most right -> odd\r\n            const z = this.charactersMap.get(data[data.length - 1 - i]);\r\n            if (z === void 0) {\r\n                throw new Error(\"EAN: character is out of range.\");\r\n            }\r\n            if ((i + 1) % 2) {\r\n                odd  = (odd  + z.index) % 10;\r\n            } else {\r\n                even = (even + z.index) % 10;\r\n            }\r\n        }\r\n        return (10 - ((odd * 3 + even) % 10)) % 10;\r\n    }\r\n\r\n    protected calcEan5Checksum(data: string): number {\r\n        let s = 0;\r\n        for (let i = 0; i < data.length; i++) {\r\n            s = (s + Number.parseInt(data[i], 10) * (i % 2 ? 3 : 9)) % 10;\r\n        }\r\n        return s;\r\n    }\r\n\r\n    protected calcEan2Checksum(data: string): number {\r\n        return Number.parseInt(data, 10) % 4;\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        let originalData = data;\r\n        let d = \"\";\r\n        let hd: string | undefined = void 0;\r\n        let text: string;\r\n\r\n        if (this.eanTypes === \"upc-a\" || this.eanTypes === \"upc-e\") {\r\n            switch (data.length) {\r\n            case 12: case 11: // UPC-A\r\n                data = \"0\" + data;\r\n                break;\r\n            }\r\n\r\n            if (this.eanTypes === \"upc-e\") {\r\n                let ma: RegExpMatchArray | null;\r\n                switch (data.length) {\r\n                case 13: case 12:\r\n                    {\r\n                        originalData = data.slice(0, 12);\r\n\r\n                        // tslint:disable-next-line:no-conditional-assignment\r\n                        if (ma = data.match(/^0([01])([0-9]{5})0{4}([5-9])/)) {\r\n                            // [01]XXXXX-0000[5-9] -> [01]XXXXX[5-9]\r\n                            data = `${ma[1]}${ma[2]}${ma[3]}`;\r\n                        }\r\n                        // tslint:disable-next-line:no-conditional-assignment\r\n                        else if (ma = data.match(/^0([01])([0-9]{4})0{5}([0-9])/)) {\r\n                            // [01]XXXX0-0000N     -> [01]XXXXN4\r\n                            data = `${ma[1]}${ma[2]}${ma[3]}4`;\r\n                        }\r\n                        // tslint:disable-next-line:no-conditional-assignment\r\n                        else if (ma = data.match(/^0([01])([0-9]{3})0{5}([0-9]{2})/)) {\r\n                            // [01]XXX00-000NN     -> [01]XXXNN3\r\n                            data = `${ma[1]}${ma[2]}${ma[3]}3`;\r\n                        }\r\n                        // tslint:disable-next-line:no-conditional-assignment\r\n                        else if (ma = data.match(/^0([01])([0-9]{2})([0-2])0{4}([0-9]{3})/)) {\r\n                            // [01]XX[0-2]00-00NNN -> [01]XXNNN[0-2]\r\n                            data = `${ma[1]}${ma[2]}${ma[4]}${ma[3]}`;\r\n                        }\r\n                        else {\r\n                            throw new Error(\"EAN: bad data format\");\r\n                        }\r\n\r\n                        const cd = this.calcEanMod10W3Checksum(originalData);\r\n                        originalData += cd;\r\n                        data += cd;\r\n                    }\r\n                    break;\r\n                case 8: case 7:\r\n                    {\r\n                        if (!data.match(/^[01]/)) {\r\n                            throw new Error(\"EAN: bad data format\");\r\n                        }\r\n\r\n                        switch (data[6]) {\r\n                        case \"0\": case \"1\": case \"2\":\r\n                            // [01]XX[0-2]00-00NNN <- [01]XXNNN[0-2]\r\n                            originalData = `0${data[0]}${data.slice(1, 3)}${data.slice(6, 7)}0000${data.slice(3, 6)}`;\r\n                            break;\r\n                        case \"3\":\r\n                            // [01]XXX00-000NN     <- [01]XXXNN3\r\n                            originalData = `0${data[0]}${data.slice(1, 4)}00000${data.slice(4, 6)}`;\r\n                            break;\r\n                        case \"4\":\r\n                            // [01]XXXX0-0000N     <- [01]XXXXN4\r\n                            originalData = `0${data[0]}${data.slice(1, 5)}00000${data.slice(5, 6)}`;\r\n                            break;\r\n                        case \"5\": case \"6\": case \"7\": case \"8\": case \"9\":\r\n                            // [01]XXXXX-0000[5-9] <- [01]XXXXX[5-9]\r\n                            originalData = `0${data[0]}${data.slice(1, 6)}0000${data.slice(6, 7)}`;\r\n                            break;\r\n                        default:\r\n                            throw new Error(\"EAN: bad data format\");\r\n                        }\r\n\r\n                        const cd = this.calcEanMod10W3Checksum(originalData);\r\n                        originalData += cd;\r\n                        data = data.slice(0, 7) + cd;\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        switch (this.eanTypes) {\r\n        case \"ean-13\": case \"upc-a\":\r\n            {\r\n                hd = \"\";\r\n                text = data.slice(0, 12);\r\n                d += \"\\x40\";\r\n                hd += \"1\";\r\n                const z = this.charactersMap.get(String.fromCharCode(0x30 + Number.parseInt(data[0], 10)));\r\n                if (z === void 0) {\r\n                    throw new Error(\"EAN: character is out of range.\");\r\n                }\r\n                const eo = z.pattern;\r\n                for (let i = 1; i < 7; i++) {\r\n                    const p = Number.parseInt(eo[i - 1], 10);\r\n                    d += String.fromCharCode(p * 0x10 + Number.parseInt(data[i], 10));\r\n                    if (this.eanTypes === \"upc-a\" && i === 1) hd += \"1\";\r\n                    else                                      hd += \"0\";\r\n                }\r\n                d += \"\\x50\";\r\n                hd += \"1\";\r\n                for (let i = 7; i < 12; i++) {\r\n                    d += String.fromCharCode(0x20 + Number.parseInt(data[i], 10));\r\n                    hd += \"0\";\r\n                }\r\n                const cd = this.calcEanMod10W3Checksum(text);\r\n                text += String.fromCharCode(0x30 + cd);\r\n                d += String.fromCharCode(0x20 + cd);\r\n                if (this.eanTypes === \"upc-a\") hd += \"1\";\r\n                else                           hd += \"0\";\r\n                d += \"\\x60\";\r\n                hd += \"1\";\r\n            }\r\n            break;\r\n        case \"ean-8\":\r\n            {\r\n                hd = \"\";\r\n                text = data.slice(0, 7);\r\n                d += \"\\x40\";\r\n                hd += \"1\";\r\n                for (let i = 0; i < 4; i++) {\r\n                    d += String.fromCharCode(0x10 + Number.parseInt(data[i], 10));\r\n                    hd += \"0\";\r\n                }\r\n                d += \"\\x50\";\r\n                hd += \"1\";\r\n                for (let i = 4; i < 7; i++) {\r\n                    d += String.fromCharCode(0x20 + Number.parseInt(data[i], 10));\r\n                    hd += \"0\";\r\n                }\r\n                const cd = this.calcEanMod10W3Checksum(text);\r\n                text += String.fromCharCode(0x30 + cd);\r\n                d += String.fromCharCode(0x20 + cd);\r\n                hd += \"0\";\r\n                d += \"\\x60\";\r\n                hd += \"1\";\r\n            }\r\n            break;\r\n        case \"upc-e\":\r\n            {\r\n                hd = \"\";\r\n                text = data;\r\n                d += \"\\x92\";\r\n                hd += \"1\";\r\n                const z = this.charactersMap.get(String.fromCharCode(\r\n                    (data[0] === \"0\" ? 0xa0 : 0xb0) + Number.parseInt(data[7], 10)));\r\n                if (z === void 0) {\r\n                    throw new Error(\"EAN: character is out of range.\");\r\n                }\r\n                const eo = z.pattern;\r\n                for (let i = 1; i < 7; i++) {\r\n                    const p = Number.parseInt(eo[i - 1], 10);\r\n                    d += String.fromCharCode(p * 0x10 + Number.parseInt(data[i], 10));\r\n                    hd += \"0\";\r\n                }\r\n                d += \"\\x93\";\r\n                hd += \"1\";\r\n            }\r\n            break;\r\n        case \"ean-5\":\r\n            {\r\n                text = data.slice(0, 5);\r\n                d += \"\\x90\";\r\n                const z = this.charactersMap.get(String.fromCharCode(0x70 + this.calcEan5Checksum(data)));\r\n                if (z === void 0) {\r\n                    throw new Error(\"EAN: character is out of range.\");\r\n                }\r\n                const eo = z.pattern;\r\n                for (let i = 0; i < 5; i++) {\r\n                    const p = Number.parseInt(eo[i], 10);\r\n                    if (i > 0) d += \"\\x91\";\r\n                    d += String.fromCharCode(p * 0x10 + Number.parseInt(data[i], 10));\r\n                }\r\n            }\r\n            break;\r\n        case \"ean-2\":\r\n            {\r\n                text = data.slice(0, 2);\r\n                d += \"\\x90\";\r\n                const z = this.charactersMap.get(String.fromCharCode(0x80 + this.calcEan2Checksum(data)));\r\n                if (z === void 0) {\r\n                    throw new Error(\"EAN: character is out of range.\");\r\n                }\r\n                const eo = z.pattern;\r\n                for (let i = 0; i < 2; i++) {\r\n                    const p = Number.parseInt(eo[i], 10);\r\n                    if (i > 0) d += \"\\x91\";\r\n                    d += String.fromCharCode(p * 0x10 + Number.parseInt(data[i], 10));\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            throw new Error(\"EAN: bad data length\");\r\n        }\r\n        return {data: d, heightData: hd, labelText: text, startChar: \"\", stopChar: \"\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as EanPropsNoUndefined;\r\n\r\n        const w = props.elementWidth;\r\n        return [0, w, w * 2, w * 3, w * 4];\r\n    }\r\n\r\n    protected getBarSpaceHeight(): Array<Array<{offset: number, height: number}>> {\r\n        const props = this.props as EanPropsNoUndefined;\r\n\r\n        const h  = props.height        ;\r\n        const gh = props.guardExtHeight;\r\n        return [\r\n            [{offset: 0, height: h}],\r\n            [{offset: 0, height: h + gh}]\r\n        ];\r\n    }\r\n\r\n    protected getRenderStartCoodinate(data: string, text: string): {rx: number, ry: number} {\r\n        const props = this.props as EanPropsNoUndefined;\r\n\r\n        const qw = props.quietWidth ;\r\n        const qh = props.quietHeight;\r\n\r\n        switch (this.eanTypes) {\r\n        case \"ean-13\": case \"ean-8\": case \"upc-a\": case \"upc-e\":\r\n            {\r\n                return {rx: qw, ry: qh};\r\n            }\r\n        case \"ean-5\": case \"ean-2\":\r\n            {\r\n                return {rx: qw, ry: qh + (props.drawText ? props.textHeight : 0)};\r\n            }\r\n        default:\r\n            throw new Error(\"EAN: bad data length\");\r\n        }\r\n    }\r\n\r\n    protected renderText(canvas: SvgCanvas, tw: number, th: number, data: string, text: string) {\r\n        const props = this.props as EanPropsNoUndefined;\r\n\r\n        switch (this.eanTypes) {\r\n        case \"ean-13\":\r\n            if (props.guardExtHeight > 0) {\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.textAlign = \"start\";\r\n                canvas.fillText(text.slice( 0,  1), props.quietWidth - props.elementWidth * 14, th - props.quietHeight);\r\n                canvas.textAlign = \"center\";\r\n                canvas.fillText(text.slice( 1,  7), props.quietWidth + props.elementWidth * 24, th - props.quietHeight);\r\n                canvas.fillText(text.slice( 7, 13), props.quietWidth + props.elementWidth * 71, th - props.quietHeight);\r\n            } else {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text, tw / 2, th - props.quietHeight);\r\n            }\r\n            break;\r\n        case \"upc-a\":\r\n            if (props.guardExtHeight > 0) {\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.font = props.smallFont || canvas.font;\r\n                canvas.textAlign = \"start\";\r\n                canvas.fillText(text.slice( 1,  2), props.quietWidth - props.elementWidth * 12, th - props.quietHeight - props.textHeight * 0.2);\r\n                canvas.font = props.font || canvas.font;\r\n                canvas.textAlign = \"center\";\r\n                canvas.fillText(text.slice( 2,  7), props.quietWidth + props.elementWidth * 27.5, th - props.quietHeight);\r\n                canvas.fillText(text.slice( 7, 12), props.quietWidth + props.elementWidth * 67.5, th - props.quietHeight);\r\n                canvas.font = props.smallFont || canvas.font;\r\n                canvas.textAlign = \"start\";\r\n                canvas.fillText(text.slice(12, 13), tw - props.quietWidth + props.elementWidth * 7, th - props.quietHeight - props.textHeight * 0.2);\r\n            } else {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text.slice(1), tw / 2, th - props.quietHeight);\r\n            }\r\n            break;\r\n        case \"ean-8\":\r\n            if (props.guardExtHeight > 0) {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text.slice(0, 4), props.quietWidth + props.elementWidth * 17, th - props.quietHeight);\r\n                canvas.fillText(text.slice(4, 8), props.quietWidth + props.elementWidth * 50, th - props.quietHeight);\r\n            } else {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text, tw / 2, th - props.quietHeight);\r\n            }\r\n            break;\r\n        case \"upc-e\":\r\n            if (props.guardExtHeight > 0) {\r\n                canvas.font = props.smallFont || canvas.font;\r\n                canvas.textAlign = \"start\";\r\n                canvas.fillText(text.slice(0, 1), props.quietWidth - props.elementWidth * 12, th - props.quietHeight - props.textHeight * 0.2);\r\n                canvas.font = props.font || canvas.font;\r\n                canvas.textAlign = \"center\";\r\n                canvas.fillText(text.slice(1, 7), tw / 2, th - props.quietHeight);\r\n                canvas.font = props.smallFont || canvas.font;\r\n                canvas.textAlign = \"start\";\r\n                canvas.fillText(text.slice(7, 8), tw - props.quietWidth + props.elementWidth * 7, th - props.quietHeight - props.textHeight * 0.2);\r\n            } else {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text, tw / 2, th - props.quietHeight);\r\n            }\r\n            break;\r\n        case \"ean-5\": case \"ean-2\":\r\n            {\r\n                canvas.textAlign = \"center\";\r\n                canvas.textBaseline = \"alphabetic\"; // \"bottom\";\r\n                canvas.fillText(text, tw / 2, props.quietHeight + props.textHeight);\r\n            }\r\n            break;\r\n        default:\r\n            throw new Error(\"EAN: bad data length\");\r\n        }\r\n    }\r\n}\r\n\r\nexport class Ean13 extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"ean-13\";\r\n    }\r\n}\r\n\r\nexport const Gtin13 = Ean13;\r\n\r\nexport class Ean8 extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"ean-8\";\r\n    }\r\n}\r\n\r\nexport const Gtin8 = Ean8;\r\n\r\nexport class Ean5 extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"ean-5\";\r\n    }\r\n}\r\n\r\nexport class Ean2 extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"ean-2\";\r\n    }\r\n}\r\n\r\nexport class UpcA extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"upc-a\";\r\n    }\r\n}\r\n\r\nexport class UpcE extends EanBase {\r\n    protected get eanTypes(): EanTypesEnum {\r\n        return \"upc-e\";\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap }      from './data/Itf.data';\r\n\r\n\r\n\r\nexport interface ItfProps extends BarcodeBaseProps {\r\n    addCheckDigit?: boolean;\r\n    narrowWidth?: number;\r\n    wideWidth?: number;\r\n}\r\n\r\nexport interface ItfPropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    addCheckDigit: boolean;\r\n    narrowWidth: number;\r\n    wideWidth: number;\r\n}\r\n\r\nexport const itfPropsDefault: ItfPropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    addCheckDigit: true,\r\n    narrowWidth: 0.33,\r\n    wideWidth: 0.66\r\n});\r\n\r\nexport class Itf extends BarcodeBase<ItfProps> {\r\n    public constructor(props: ItfProps) {\r\n        super(Object.assign({}, itfPropsDefault, props), charactersMap);\r\n    }\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n        const props = this.props as ItfPropsNoUndefined;\r\n\r\n        // module width (bar + space + gap)\r\n        const mw = props.narrowWidth * 3 + props.wideWidth * 2;\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw: props.quietWidth  * 2 + (props.narrowWidth * 8) + mw * data.length * 2,\r\n            // total height (quiet + bar + text)\r\n            th: props.quietHeight * 2 + props.height + (props.drawText ? props.textHeight : 0)\r\n        };\r\n    }\r\n\r\n    protected calcItfMod10W3Checksum(data: string): string {\r\n        let odd = 0, even = 0;\r\n        for (let i = 0; i < data.length; i++) {\r\n            // most right -> odd\r\n            if ((i + 1) % 2) {\r\n                odd  = (odd  + Number.parseInt(data[data.length - 1 - i], 10)) % 10;\r\n            } else {\r\n                even = (even + Number.parseInt(data[data.length - 1 - i], 10)) % 10;\r\n            }\r\n        }\r\n        return String((10 - ((odd * 3 + even) % 10)) % 10);\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        let labelText = data;\r\n        if (this.props.addCheckDigit) {\r\n            const cd = this.calcItfMod10W3Checksum(data);\r\n            labelText += cd;\r\n        }\r\n        let d = \"\";\r\n        if (labelText.length % 2) {\r\n            throw new Error(\"bad data length\");\r\n        }\r\n        for (let i = 0; i < labelText.length; i += 2) {\r\n            const c = Number.parseInt(labelText.slice(i, i + 2), 10);\r\n            d += String.fromCharCode(c);\r\n        }\r\n        return {data: d, labelText, startChar: \"\\x64\", stopChar: \"\\x65\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as ItfPropsNoUndefined;\r\n\r\n        return [0, props.narrowWidth, props.wideWidth];\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap,\r\n         reverseMap,\r\n         fullAsciiMap }       from './data/JapanPostal.data';\r\n\r\n\r\n\r\nexport interface JapanPostalProps extends BarcodeBaseProps {\r\n    elementWidth?: number;\r\n}\r\n\r\nexport interface JapanPostalPropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    elementWidth: number;\r\n}\r\n\r\nexport const japanPostalPropsDefault: JapanPostalPropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    elementWidth: 0.6,\r\n    height: 1.2 * 3\r\n});\r\n\r\nexport class JapanPostal extends BarcodeBase<JapanPostalProps> {\r\n    public constructor(props: JapanPostalProps) {\r\n        super(Object.assign({}, japanPostalPropsDefault, props), charactersMap);\r\n    }\r\n\r\n\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n\r\n        const props = this.props as JapanPostalPropsNoUndefined;\r\n\r\n        // module width (bar + space)\r\n        const mw = props.elementWidth * 6;\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw: props.quietWidth  * 2 + mw * 21 + props.elementWidth * (4 + 3),\r\n            // total height (quiet + bar)\r\n            th: props.quietHeight * 2 + props.height\r\n        };\r\n    }\r\n\r\n    protected calcCheckDigit(data: string): string {\r\n        let cdChar = \"\";\r\n        let cd = 0;\r\n        for (let i = 0; i < data.length; i++) {\r\n            const z = this.charactersMap.get(data[i]);\r\n            if (z === void 0) {\r\n                throw new Error(\"Japan Post: character is out of range.\");\r\n            }\r\n            cd = (cd + z.index) % 19;\r\n        }\r\n        const cdch = reverseMap.get(cd);\r\n        if (cdch === void 0) {\r\n            throw new Error(\"Japan Post: check digit is out of range.\");\r\n        }\r\n        cdChar = cdch;\r\n        return cdChar;\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        let d = \"\";\r\n        for (let i = 0; i < data.length; i++) {\r\n            const c = fullAsciiMap.get(data.charCodeAt(i));\r\n            if (c === void 0) {\r\n                throw new Error(\"Japan Post: character is out of range.\");\r\n            }\r\n            d += c;\r\n        }\r\n        d += \"DDDDDDDDDDDDDDDDD\";\r\n        return {data: d.slice(0, 20), startChar: \"[\", stopChar: \"]\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as JapanPostalPropsNoUndefined;\r\n\r\n        return [0, props.elementWidth];\r\n    }\r\n\r\n    protected getBarSpaceHeight(): Array<Array<{offset: number, height: number}>> {\r\n        const props = this.props as JapanPostalPropsNoUndefined;\r\n\r\n        const h = props.height;\r\n        return [\r\n            [{offset:     0, height: h        }], // 0: space\r\n            [{offset:     0, height: h        }], // 1: full\r\n            [{offset:     0, height: h * 2 / 3}], // 2: upper\r\n            [{offset: h / 3, height: h * 2 / 3}], // 3: lower\r\n            [{offset: h / 3, height: h     / 3}]  // 4: timing\r\n        ];\r\n    }\r\n\r\n    protected get isHeightModulated(): boolean {\r\n        return true;\r\n    }\r\n\r\n    protected renderText(canvas: SvgCanvas, tw: number, th: number, data: string, text: string) {\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { BarcodeBaseProps,\r\n         BarcodeBasePropsNoUndefined,\r\n         barcodeBasePropsDefault,\r\n         BarcodeBase }        from './BarcodeBase';\r\nimport { charactersMap,\r\n         reverseMap }         from './data/Nw7.data';\r\n\r\n\r\n\r\nexport interface Nw7Props extends BarcodeBaseProps {\r\n    addCheckDigit?: boolean;\r\n    narrowWidth?: number;\r\n    wideWidth?: number;\r\n    charGapWidth?: number;\r\n    startChar?: string;\r\n    stopChar?: string;\r\n}\r\n\r\nexport interface Nw7PropsNoUndefined extends BarcodeBasePropsNoUndefined {\r\n    addCheckDigit: boolean;\r\n    narrowWidth: number;\r\n    wideWidth: number;\r\n    charGapWidth?: number;\r\n    startChar: string;\r\n    stopChar: string;\r\n}\r\n\r\nexport const nw7PropsDefault: Nw7PropsNoUndefined = Object.assign({}, barcodeBasePropsDefault, {\r\n    useRawDataAsText: true,\r\n    addCheckDigit: true,\r\n    narrowWidth: 0.33,\r\n    wideWidth: 0.66,\r\n    charGapWidth: void 0,\r\n    startChar: \"\",\r\n    stopChar: \"\"\r\n});\r\n\r\nexport class Nw7 extends BarcodeBase<Nw7Props> {\r\n    public constructor(props: Nw7Props) {\r\n        super(Object.assign({}, nw7PropsDefault, props), charactersMap);\r\n    }\r\n\r\n    protected calcSymbolSize(\r\n        data: string, startChar: string, stopChar: string, cdChar: string\r\n        ): {tw: number, th: number} {\r\n        const props = this.props as Nw7PropsNoUndefined;\r\n\r\n        const gw = props.charGapWidth || props.narrowWidth;\r\n        // module width (bar + space + gap)\r\n        const mw = props.narrowWidth * 4 + props.wideWidth * 3 + gw;\r\n\r\n        let tw = props.quietWidth * 2 - gw;\r\n\r\n        const data2 = `${startChar}${data}${cdChar}${stopChar}`;\r\n        for (const c of data2) {\r\n            const z = charactersMap.get(c);\r\n            if (z === void 0) {\r\n                throw new Error(\"NW7: character is out of range.\");\r\n            }\r\n            const wide = z.width - 7;\r\n            const narrow = 7 - wide;\r\n            tw += props.narrowWidth * narrow + props.wideWidth * wide + gw;\r\n        }\r\n\r\n        return {\r\n            // total width (quiet + data + start + stop + cd)\r\n            tw,\r\n            // total height (quiet + bar + text)\r\n            th: props.quietHeight * 2 + props.height + (props.drawText ? props.textHeight : 0)\r\n        };\r\n    }\r\n\r\n    protected calcCheckDigit(data: string): string {\r\n        let cdChar = \"\";\r\n        if (this.props.addCheckDigit) {\r\n            let cd = 0;\r\n            for (let i = 0; i < data.length; i++) {\r\n                const z = charactersMap.get(data[i]);\r\n                if (z === void 0) {\r\n                    throw new Error(\"NW7: character is out of range.\");\r\n                }\r\n                cd = (cd + z.index) % 16;\r\n            }\r\n            const cdch = reverseMap.get((16 - cd) % 16);\r\n            if (cdch === void 0) {\r\n                throw new Error(\"NW7: check digit is out of range.\");\r\n            }\r\n            cdChar = cdch;\r\n        }\r\n        return cdChar;\r\n    }\r\n\r\n    protected encodeData(data: string):\r\n        {data: string, heightData?: string, labelText?: string, startChar: string, stopChar: string} {\r\n\r\n        return {data, startChar: this.props.startChar || \"\", stopChar: this.props.stopChar || \"\"};\r\n    }\r\n\r\n    protected getBarSpaceWidth(): number[] {\r\n        const props = this.props as Nw7PropsNoUndefined;\r\n\r\n        const gw = props.charGapWidth || props.narrowWidth;\r\n        return [gw, props.narrowWidth, props.wideWidth];\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { BitStreamWriter } from 'red-agate-util/modules/io/BitStream';\r\n\r\n\r\n\r\nexport interface QrCodewords {\r\n    L: number[];\r\n    M: number[];\r\n    Q: number[];\r\n    H: number[];\r\n}\r\n\r\nexport interface QrDataLength {\r\n    L: number[][];\r\n    M: number[][];\r\n    Q: number[][];\r\n    H: number[][];\r\n}\r\n\r\nexport type QrSourceDataTypes = (BitStreamWriter | Uint8Array | string | number);\r\n\r\nexport enum QrDataChunkType {\r\n    Control,\r\n    Number,\r\n    Alnum,\r\n    Binary\r\n}\r\n\r\n\r\nexport const ecLevelMap = new Map<string, number>([\r\n    [\"L\", 1], [\"M\", 0], [\"Q\", 3], [\"H\", 2]\r\n]);\r\n\r\nexport const numberModeCharMap = new Map<string, number>([\r\n    [\"0\", 0], [\"1\", 1], [\"2\", 2], [\"3\", 3], [\"4\", 4], [\"5\", 5], [\"6\", 6], [\"7\", 7], [\"8\", 8], [\"9\", 9]\r\n]);\r\n\r\nexport const alnumModeCharMap = new Map<string, number>([\r\n    [\"0\",  0], [\"1\",  1], [\"2\",  2], [\"3\",  3], [\"4\",  4], [\"5\",  5], [\"6\",  6], [\"7\",  7], [\"8\",  8], [\"9\",  9],\r\n    [\"A\", 10], [\"B\", 11], [\"C\", 12], [\"D\", 13], [\"E\", 14], [\"F\", 15], [\"G\", 16], [\"H\", 17], [\"I\", 18], [\"J\", 19],\r\n    [\"K\", 20], [\"L\", 21], [\"M\", 22], [\"N\", 23], [\"O\", 24], [\"P\", 25], [\"Q\", 26], [\"R\", 27], [\"S\", 28], [\"T\", 29],\r\n    [\"U\", 30], [\"V\", 31], [\"W\", 32], [\"X\", 33], [\"Y\", 34], [\"Z\", 35], [\" \", 36], [\"$\", 37], [\"%\", 38], [\"*\", 39],\r\n    [\"+\", 40], [\"-\", 41], [\".\", 42], [\"/\", 43], [\",\", 44]\r\n]);\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate          from 'red-agate/modules/red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }             from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\nimport { WebColor }           from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { ShapeProps,\r\n         shapePropsDefault,\r\n         Shape,\r\n         ImagingShapeBasePropsMixin,\r\n         renderSvgCanvas,\r\n         toImgTag,\r\n         toElementStyle,\r\n         toDataUrl,\r\n         toSvg,\r\n         CONTEXT_SVG_CANVAS } from 'red-agate/modules/red-agate/tags/Shape';\r\nimport { Gf2e8Field }         from 'red-agate-math/modules/math/Gf2Ext';\r\nimport { BCH }                from 'red-agate-math/modules/error-correction/BCH';\r\nimport { ReedSolomon }        from 'red-agate-math/modules/error-correction/ReedSolomon';\r\nimport { BitStreamWriter }    from 'red-agate-util/modules/io/BitStream';\r\nimport { TextEncoding }       from 'red-agate-util/modules/convert/TextEncoding';\r\nimport { Bitmap }             from 'red-agate-util/modules/imaging/Bitmap';\r\nimport { QrSourceDataTypes,\r\n         QrDataChunkType,\r\n         ecLevelMap,\r\n         numberModeCharMap,\r\n         alnumModeCharMap }   from \"./Qr.defs\";\r\nimport * as qr                from './data/Qr.m2.data';\r\n\r\n\r\n\r\nexport interface QrProps extends ShapeProps, ImagingShapeBasePropsMixin {\r\n    data?: Array<Uint8Array | string | number> | Uint8Array | string;\r\n    version?: number | \"auto\";\r\n    ecLevel?: \"L\" | \"M\" | \"Q\" | \"H\";\r\n    encoding?: \"number\" | \"alnum\" | \"8bit\" | \"auto\";\r\n    cellSize?: number;\r\n    unit?: string;\r\n    asDataUrl?: boolean;\r\n    asImgTag?: boolean;\r\n}\r\n\r\nexport interface QrPropsNoUndefined extends ShapeProps, ImagingShapeBasePropsMixin {\r\n    data?: Array<Uint8Array | string | number> | Uint8Array | string;\r\n    version: number | \"auto\";\r\n    ecLevel: \"L\" | \"M\" | \"Q\" | \"H\";\r\n    encoding: \"number\" | \"alnum\" | \"8bit\" | \"auto\";\r\n    cellSize: number;\r\n    unit?: string;\r\n    asDataUrl?: boolean;\r\n    asImgTag?: boolean;\r\n}\r\n\r\nexport const qrPropsDefault: QrPropsNoUndefined = Object.assign({}, shapePropsDefault, {\r\n    version: \"auto\",\r\n    ecLevel: \"M\",\r\n    encoding: \"auto\",\r\n    cellSize: 0.33,\r\n    unit: \"mm\",\r\n} as any);\r\n\r\n\r\n\r\nconst field = new Gf2e8Field();\r\nlet gxList: number[][] = [];\r\n\r\nconst masks = [\r\n    { index: 0x00, fn: (x: number, y: number) =>   ((x + y) % 2) === 0 },\r\n    { index: 0x01, fn: (x: number, y: number) =>   (     y  % 2) === 0 },\r\n    { index: 0x02, fn: (x: number, y: number) =>   ( x      % 3) === 0 },\r\n    { index: 0x03, fn: (x: number, y: number) =>   ((x + y) % 3) === 0 },\r\n    { index: 0x04, fn: (x: number, y: number) => ((Math.floor(x / 3) + Math.floor(y / 2)) % 2) === 0},\r\n    { index: 0x05, fn: (x: number, y: number) => ( ((x * y) % 2) + (x * y) % 3)      === 0},\r\n    { index: 0x06, fn: (x: number, y: number) => ((((x * y) % 2) + (x * y) % 3) % 2) === 0},\r\n    { index: 0x07, fn: (x: number, y: number) => ((((x * y) % 3) + (x + y) % 2) % 2) === 0}\r\n];\r\n\r\n\r\n\r\nexport class Qr extends Shape<QrProps> {\r\n    public constructor(props: QrProps) {\r\n        super(Object.assign({}, qrPropsDefault, props));\r\n    }\r\n\r\n    public toImgTag(): string {\r\n        return toImgTag(this);\r\n    }\r\n\r\n    public toElementStyle(): string {\r\n        return toElementStyle(this);\r\n    }\r\n\r\n    public toDataUrl(): string {\r\n        return toDataUrl(this);\r\n    }\r\n\r\n    public toSvg(): string {\r\n        return toSvg(this);\r\n    }\r\n\r\n    public toRendered(): string {\r\n        return RedAgate.renderAsHtml_noDefer(this);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        let canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        const contextHasCanvas = Boolean(canvas);\r\n        if (!contextHasCanvas) {\r\n            canvas = new SvgCanvas();\r\n            this.setContext(contexts, CONTEXT_SVG_CANVAS, canvas);\r\n            super.beforeRender(contexts);\r\n        }\r\n\r\n        const data = this.props.data || \"\";\r\n\r\n        const encoded = this.encodeData(data);\r\n        const bitmap  = this.buildBitmap(encoded.data, encoded.version);\r\n        this.drawBitmap(canvas, bitmap);\r\n\r\n        if (contextHasCanvas) {\r\n            return ``;\r\n        } else {\r\n            super.afterRender(contexts);\r\n            this.unsetContext(contexts, CONTEXT_SVG_CANVAS);\r\n            const total = bitmap.width * (this.props.cellSize as number) + (this.props.margin as number) * 2;\r\n            const imageWidth  = total + (this.props.x || 0);\r\n            const imageHeight = total + (this.props.y || 0);\r\n            return renderSvgCanvas(this.props, canvas, imageWidth, imageHeight);\r\n        }\r\n    }\r\n\r\n\r\n    protected evaluteMask(bitmap: Bitmap): number {\r\n        const nx = bitmap.width,\r\n              ny = bitmap.height;\r\n        let   z  = 0;\r\n        for (let i = 0; i < ny; i++) {\r\n            let p: number | null = null;\r\n            let c = 1;\r\n            for (let j = 0; j < nx; j++) {\r\n                const q = bitmap.get(j, i);\r\n                if      (p !== q) c  = 1;\r\n                else              c += 1;\r\n                if      (5 === c) z += 3;\r\n                else if (5   < c) z += 1;\r\n                p = q;\r\n            }\r\n        }\r\n        for (let i = 0; i < nx; i++) {\r\n            let p: number | null = null;\r\n            let c = 1;\r\n            for (let j = 0; j < ny; j++) {\r\n                const q = bitmap.get(i, j);\r\n                if      (p !== q) c  = 1;\r\n                else              c += 1;\r\n                if      (5 === c) z += 3;\r\n                else if (5   < c) z += 1;\r\n                p = q;\r\n            }\r\n        }\r\n        for (let i = 0; i < (ny - 1); i++) {\r\n            for (let j = 0; j < (nx - 1); j++) {\r\n                const v = bitmap.get(j, i);\r\n                if (v === bitmap.get(j + 1, i    ) &&\r\n                    v === bitmap.get(j    , i + 1) &&\r\n                    v === bitmap.get(j + 1, i + 1)) {\r\n                    z += 3;\r\n                }\r\n            }\r\n        }\r\n        for (let i = 0; i < ny; i++) {\r\n            for (let j = 0; j < (nx - 10); j++) {\r\n                if (bitmap.get(j     , i) !== 0 &&\r\n                    bitmap.get(j +  1, i) === 0 &&\r\n                    bitmap.get(j +  2, i) !== 0 &&\r\n                    bitmap.get(j +  3, i) !== 0 &&\r\n                    bitmap.get(j +  4, i) !== 0 &&\r\n                    bitmap.get(j +  5, i) === 0 &&\r\n                    bitmap.get(j +  6, i) !== 0 &&\r\n                    bitmap.get(j +  7, i) === 0 &&\r\n                    bitmap.get(j +  8, i) === 0 &&\r\n                    bitmap.get(j +  9, i) === 0 &&\r\n                    bitmap.get(j + 10, i) === 0) {\r\n                    z += 40;\r\n                } else if (\r\n                    bitmap.get(j     , i) === 0 &&\r\n                    bitmap.get(j +  1, i) === 0 &&\r\n                    bitmap.get(j +  2, i) === 0 &&\r\n                    bitmap.get(j +  3, i) === 0 &&\r\n                    bitmap.get(j +  4, i) !== 0 &&\r\n                    bitmap.get(j +  5, i) === 0 &&\r\n                    bitmap.get(j +  6, i) !== 0 &&\r\n                    bitmap.get(j +  7, i) !== 0 &&\r\n                    bitmap.get(j +  8, i) !== 0 &&\r\n                    bitmap.get(j +  9, i) === 0 &&\r\n                    bitmap.get(j + 10, i) !== 0) {\r\n                    z += 40;\r\n                }\r\n            }\r\n        }\r\n        for (let i = 0; i < nx; i++) {\r\n            for (let j = 0; j < (ny - 10); j++) {\r\n                if (bitmap.get(i, j     ) !== 0 &&\r\n                    bitmap.get(i, j +  1) === 0 &&\r\n                    bitmap.get(i, j +  2) !== 0 &&\r\n                    bitmap.get(i, j +  3) !== 0 &&\r\n                    bitmap.get(i, j +  4) !== 0 &&\r\n                    bitmap.get(i, j +  5) === 0 &&\r\n                    bitmap.get(i, j +  6) !== 0 &&\r\n                    bitmap.get(i, j +  7) === 0 &&\r\n                    bitmap.get(i, j +  8) === 0 &&\r\n                    bitmap.get(i, j +  9) === 0 &&\r\n                    bitmap.get(i, j + 10) === 0) {\r\n                    z += 40;\r\n                } else if (\r\n                    bitmap.get(i, j     ) === 0 &&\r\n                    bitmap.get(i, j +  1) === 0 &&\r\n                    bitmap.get(i, j +  2) === 0 &&\r\n                    bitmap.get(i, j +  3) === 0 &&\r\n                    bitmap.get(i, j +  4) !== 0 &&\r\n                    bitmap.get(i, j +  5) === 0 &&\r\n                    bitmap.get(i, j +  6) !== 0 &&\r\n                    bitmap.get(i, j +  7) !== 0 &&\r\n                    bitmap.get(i, j +  8) !== 0 &&\r\n                    bitmap.get(i, j +  9) === 0 &&\r\n                    bitmap.get(i, j + 10) !== 0) {\r\n                    z += 40;\r\n                }\r\n            }\r\n        }\r\n        let white = 0, black = 0;\r\n        for (let i = 0; i < ny; i++) {\r\n            for (let j = 0; j < nx; j++) {\r\n                if (bitmap.get(j, i) === 0) { white++; }\r\n                else                        { black++; }\r\n            }\r\n        }\r\n        z += Math.floor(Math.abs((black / (white + black)) * 100 - 50) / 5) * 10;\r\n        return z;\r\n    }\r\n\r\n\r\n    protected encodeNumberData(data: string): {data: BitStreamWriter, charLength: number} | null {\r\n        const length = Math.ceil(data.length * 10 / 24);\r\n        const buf = new BitStreamWriter(length);\r\n\r\n        let i = 0, v = 0;\r\n        for (; i < data.length; i++) {\r\n            const c = numberModeCharMap.get(data[i]);\r\n            if (c === void 0) return null;\r\n            v = v * 10 + c;\r\n            if (2 === (i % 3)) {\r\n                // 10 bits\r\n                buf.writeBits(v, 10);\r\n                v = 0;\r\n            }\r\n        }\r\n        i = i % 3;\r\n        if (i) {\r\n            // i is  1: 4bits, 2: 7bits\r\n            buf.writeBits8(v, 1 + 3 * i);\r\n        }\r\n        return {data: buf, charLength: data.length};\r\n    }\r\n\r\n    protected encodeAlnumData(data: string): {data: BitStreamWriter, charLength: number} | null {\r\n        const length = Math.ceil(data.length * 11 / 16);\r\n        const buf = new BitStreamWriter(length);\r\n\r\n        let i = 0, v = 0;\r\n        for (; i < data.length; i++) {\r\n            const c = alnumModeCharMap.get(data[i]);\r\n            if (c === void 0) return null;\r\n            v = v * 45 + c;\r\n            if (1 === (i % 2)) {\r\n                // 11 bits\r\n                buf.writeBits(v, 11);\r\n                v = 0;\r\n            }\r\n        }\r\n        if (i % 2) {\r\n            buf.writeBits8(v, 6);\r\n        }\r\n        return {data: buf, charLength: data.length};\r\n    }\r\n\r\n    protected encode8bitData(data: string): {data: BitStreamWriter, charLength: number} {\r\n        const buf = new BitStreamWriter(0, TextEncoding.encodeToUtf8(data));\r\n        return {data: buf, charLength: buf.byteLength};\r\n    }\r\n\r\n    protected encodeChunks(data: QrSourceDataTypes[] | QrSourceDataTypes): Array<{\r\n                                  type: QrDataChunkType, data: BitStreamWriter, charLength: number }> {\r\n\r\n        if (!Array.isArray(data)) {\r\n            data = [data];\r\n        }\r\n\r\n        const chunks: Array<{type: QrDataChunkType, data: BitStreamWriter, charLength: number}> = [];\r\n\r\n        for (const d of data) {\r\n            if (d instanceof BitStreamWriter) chunks.push({type: QrDataChunkType.Binary, data: d, charLength: d.byteLength});\r\n            else if (d instanceof Uint8Array) chunks.push({type: QrDataChunkType.Binary, data: new BitStreamWriter(0, d), charLength: d.length});\r\n            else if (typeof d === \"string\") {\r\n                let chunk: {data: BitStreamWriter, charLength: number} | null = null;\r\n                let type: QrDataChunkType;\r\n                let isManual = true;\r\n                switch (this.props.encoding) {\r\n                case \"auto\":\r\n                    isManual = false;\r\n                case \"number\":\r\n                    chunk = this.encodeNumberData(d);\r\n                    type = QrDataChunkType.Number;\r\n                    if (isManual || chunk) break;\r\n                case \"alnum\":\r\n                    chunk = this.encodeAlnumData(d);\r\n                    type = QrDataChunkType.Alnum;\r\n                    if (isManual || chunk) break;\r\n                case \"8bit\": default:\r\n                    chunk = this.encode8bitData(d);\r\n                    type = QrDataChunkType.Binary;\r\n                    break;\r\n                }\r\n                if (chunk === null) {\r\n                    throw new Error(\"QrModel2: character is out of range.\");\r\n                }\r\n                chunks.push({type, data: chunk.data, charLength: chunk.charLength});\r\n            }\r\n            else if (typeof d === \"number\") {\r\n                // TODO: not imple\r\n            }\r\n        }\r\n\r\n        return chunks;\r\n    }\r\n\r\n    protected determineSymbolVersion(chunks: Array<{type: QrDataChunkType, data: BitStreamWriter}>):\r\n        { version: number, segments: number[][], dataLength: number, maxDataLength: number } {\r\n\r\n        let version = this.props.version === \"auto\" ? 1 : (this.props.version || 1);\r\n        let segments: number[][];\r\n        let maxDataLength: number = 0;\r\n        let dataLength: number = 0;\r\n\r\n        while (true) {\r\n            dataLength = 0;\r\n\r\n            for (const c of chunks) {\r\n                switch (c.type) {\r\n                case QrDataChunkType.Number:\r\n                    if      (version < 10) dataLength += 14;\r\n                    else if (version < 27) dataLength += 16;\r\n                    else                   dataLength += 18;\r\n                    break;\r\n                case QrDataChunkType.Alnum:\r\n                    if      (version < 10) dataLength += 13;\r\n                    else if (version < 27) dataLength += 15;\r\n                    else                   dataLength += 17;\r\n                    break;\r\n                case QrDataChunkType.Binary:\r\n                    if      (version < 10) dataLength += 12;\r\n                    else                   dataLength += 20;\r\n                    break;\r\n                }\r\n                dataLength += c.data.bitLength;\r\n            }\r\n\r\n            switch (this.props.ecLevel) {\r\n            case \"L\":\r\n                segments = qr.segments[version].L;\r\n                maxDataLength = 8 * qr.dataCodewords.L[version];\r\n                break;\r\n            case \"Q\":\r\n                segments = qr.segments[version].Q;\r\n                maxDataLength = 8 * qr.dataCodewords.Q[version];\r\n                break;\r\n            case \"H\":\r\n                segments = qr.segments[version].H;\r\n                maxDataLength = 8 * qr.dataCodewords.H[version];\r\n                break;\r\n            case \"M\": default:\r\n                segments = qr.segments[version].M;\r\n                maxDataLength = 8 * qr.dataCodewords.M[version];\r\n                break;\r\n            }\r\n\r\n            // check total length\r\n            if (dataLength <= maxDataLength) {\r\n                break;\r\n            }\r\n            if (this.props.version !== \"auto\" || !qr.segments[++version]) {\r\n                throw new Error(\"QrModel2: data is too large.\");\r\n            }\r\n        }\r\n\r\n        return { version, segments, dataLength, maxDataLength };\r\n    }\r\n\r\n\r\n    protected encodeData(data: QrSourceDataTypes[] | QrSourceDataTypes): {\r\n            version: number, data: Uint8Array, ecLevel: \"L\" | \"M\" | \"Q\" | \"H\" } {\r\n\r\n        // determine chunks' encoding, and encoding data.\r\n        const chunks = this.encodeChunks(data);\r\n\r\n        // determine symbol's version.\r\n        const { version, segments, dataLength, maxDataLength } = this.determineSymbolVersion(chunks);\r\n\r\n        // convert chunks to QR data structure bit stream\r\n        let bytes: Uint8Array;\r\n        {\r\n            const bits: BitStreamWriter[] = [];\r\n\r\n            // make global headers.\r\n\r\n            // build data from chunks.\r\n            for (const c of chunks) {\r\n                let n = 0;\r\n                const header = new BitStreamWriter(3);\r\n\r\n                switch (c.type) {\r\n                case QrDataChunkType.Number:\r\n                    header.writeBits8(1, 4);\r\n                    if      (version < 10) n = 10;\r\n                    else if (version < 27) n = 12;\r\n                    else                   n = 14;\r\n                    header.writeBits(c.charLength, n);\r\n                    break;\r\n                case QrDataChunkType.Alnum:\r\n                    header.writeBits8(2, 4);\r\n                    if      (version < 10) n =  9;\r\n                    else if (version < 27) n = 11;\r\n                    else                   n = 13;\r\n                    header.writeBits(c.charLength, n);\r\n                    break;\r\n                case QrDataChunkType.Binary:\r\n                    header.writeBits8(4, 4);\r\n                    if      (version < 10) n =  8;\r\n                    else                   n = 16;\r\n                    header.writeBits(c.charLength, n);\r\n                    break;\r\n                }\r\n\r\n                if (0 < header.bitLength) bits.push(header);\r\n                bits.push(c.data);\r\n            }\r\n\r\n            // make global footers.\r\n\r\n            // finalize data.\r\n            // if data bits and codewords are remained, add terminator, padding bits, padding codewords.\r\n            if (dataLength < maxDataLength) {\r\n                let rem = maxDataLength - dataLength;\r\n                const fin = new BitStreamWriter(Math.ceil(rem / 8));\r\n\r\n                // terminator\r\n                let len = Math.min(4, rem);\r\n                fin.writeBits8(0, len);\r\n                rem -= len;\r\n\r\n                // padding bits\r\n                if ((0 < rem) && (0 !== (rem % 8))) {\r\n                    len = rem % 8;\r\n                    fin.writeBits8(0, len);\r\n                    rem -= len;\r\n                }\r\n\r\n                // padding codewords\r\n                for (let i = 0; 0 < rem; i++) {\r\n                    len = Math.min(8, rem);\r\n                    fin.writeBits8(0 === (i % 2) ? 0x00ec : 0x0011, len);\r\n                    rem -= len;\r\n                }\r\n\r\n                bits.push(fin);\r\n            }\r\n\r\n            bytes = BitStreamWriter.concat(...bits).toBytes();\r\n        }\r\n\r\n        // make data codewords, generate error correction codewords.\r\n        let totalLength = 0;\r\n        const dataCwStack: Uint8Array[] = [];\r\n        const   ecCwStack: Uint8Array[] = [];\r\n        for (let i = 0, p = 0; i < segments.length; i++) {\r\n            const repeats    = segments[i][0];\r\n            const dataCwSize = segments[i][2];\r\n            const ecCwSize   = segments[i][1] - dataCwSize;\r\n\r\n            let gx: number[];\r\n            if (gxList.length <= (ecCwSize - 1)) {\r\n                gxList = ReedSolomon.listGx(field, gxList, ecCwSize, 0);\r\n            }\r\n            gx = gxList[ecCwSize - 1];\r\n            const rs = new ReedSolomon(field, gx, 0);\r\n\r\n            for (let j = 0; j < repeats; j++) {\r\n                const dataCodewords = bytes.slice(p, p + dataCwSize).reverse();\r\n                const ecCodewords   = Uint8Array.from(rs.encode(dataCodewords));\r\n                dataCwStack.push(dataCodewords.reverse());\r\n                ecCwStack  .push(ecCodewords.reverse());\r\n                totalLength += dataCwSize + ecCwSize;\r\n                p += dataCwSize;\r\n            }\r\n        }\r\n\r\n        // interleaving codewords.\r\n        const codewords = new Uint8Array(totalLength);\r\n        {\r\n            const stacks = [dataCwStack, ecCwStack];\r\n            let p = 0;\r\n            for (const stack of stacks) {\r\n                for (let i = 0, z = true; z; i++) {\r\n                    z = false;\r\n                    for (let j = 0; j < stack.length; j++) {\r\n                        if (i < stack[j].length) {\r\n                            codewords[p++] = stack[j][i];\r\n                            z = true;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        const props = this.props as QrPropsNoUndefined;\r\n        return { data: codewords, version, ecLevel: props.ecLevel };\r\n    }\r\n\r\n    protected applyMask(bitmap: Bitmap, funcPatternsMap: Bitmap, fn: (x: number, y: number) => boolean) {\r\n        const nx = bitmap.width,\r\n              ny = bitmap.width;\r\n\r\n        for (let x = 0; x < nx; x++) {\r\n            for (let y = 0; y < ny; y++) {\r\n                if (0 === funcPatternsMap.get(nx - 1 - x, ny - 1 - y)) {\r\n                    bitmap.set(nx - 1 - x, ny - 1 - y, bitmap.get(nx - 1 - x, ny - 1 - y) ^ (fn(x, y) ? 1 : 0));\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    protected buildBitmap(data: Uint8Array, version: number): Bitmap {\r\n        const width = qr.matrixSize[version];\r\n        const nx = width,\r\n              ny = width;\r\n        const bitmap = new Bitmap(width, width);\r\n        const funcPatternsMap = new Bitmap(width, width);\r\n\r\n        {\r\n            {\r\n                // finder patterns + format info\r\n                funcPatternsMap.fill(     0, ny - 9, 8, 9, 1);\r\n                funcPatternsMap.fill(nx - 9,      0, 9, 8, 1);\r\n                funcPatternsMap.fill(nx - 9, ny - 9, 9, 9, 1);\r\n\r\n                // version info\r\n                if (7 <= version) {\r\n                    funcPatternsMap.fill(     8, ny - 6, 3, 6, 1);\r\n                    funcPatternsMap.fill(nx - 6,      8, 6, 3, 1);\r\n                }\r\n            }\r\n\r\n            // finder patterns\r\n            for (const {px, py} of [{px: nx - 7, py: ny - 7}, {px: 0, py: ny - 7}, {px: nx - 7, py: 0}]){\r\n                bitmap.set(px + 0, py + 0, 1);\r\n                bitmap.set(px + 0, py + 1, 1);\r\n                bitmap.set(px + 0, py + 2, 1);\r\n                bitmap.set(px + 0, py + 3, 1);\r\n                bitmap.set(px + 0, py + 4, 1);\r\n                bitmap.set(px + 0, py + 5, 1);\r\n                bitmap.set(px + 0, py + 6, 1);\r\n                bitmap.set(px + 1, py + 0, 1);\r\n                bitmap.set(px + 2, py + 0, 1);\r\n                bitmap.set(px + 3, py + 0, 1);\r\n                bitmap.set(px + 4, py + 0, 1);\r\n                bitmap.set(px + 5, py + 0, 1);\r\n                bitmap.set(px + 6, py + 0, 1);\r\n                bitmap.set(px + 6, py + 1, 1);\r\n                bitmap.set(px + 6, py + 2, 1);\r\n                bitmap.set(px + 6, py + 3, 1);\r\n                bitmap.set(px + 6, py + 4, 1);\r\n                bitmap.set(px + 6, py + 5, 1);\r\n                bitmap.set(px + 1, py + 6, 1);\r\n                bitmap.set(px + 2, py + 6, 1);\r\n                bitmap.set(px + 3, py + 6, 1);\r\n                bitmap.set(px + 4, py + 6, 1);\r\n                bitmap.set(px + 5, py + 6, 1);\r\n                bitmap.set(px + 6, py + 6, 1);\r\n\r\n                bitmap.set(px + 2, py + 2, 1);\r\n                bitmap.set(px + 2, py + 3, 1);\r\n                bitmap.set(px + 2, py + 4, 1);\r\n                bitmap.set(px + 3, py + 2, 1);\r\n                bitmap.set(px + 4, py + 2, 1);\r\n                bitmap.set(px + 4, py + 3, 1);\r\n                bitmap.set(px + 4, py + 4, 1);\r\n                bitmap.set(px + 3, py + 4, 1);\r\n                bitmap.set(px + 3, py + 3, 1);\r\n            }\r\n\r\n            // alignment patterns\r\n            const aps = qr.alignmentPatterns[version];\r\n            for (let i = 0; i < aps.length; i++) {\r\n                const a = nx - aps[i] - 1;\r\n                for (let j = 0; j < aps.length; j++) {\r\n                    const b = ny - aps[j] - 1;\r\n                    let q = true;\r\n                    for (let x = (a - 2); x <= (a + 2); x++) {\r\n                        for (let y = (b - 2); y <= (b + 2); y++) {\r\n                            if (funcPatternsMap.get(x, y)) {\r\n                                q = false;\r\n                                break;\r\n                            }\r\n                        }\r\n                        if (!q) break;\r\n                    }\r\n                    if (q) {\r\n                        funcPatternsMap.fill(a - 2, b - 2, 5, 5, 1);\r\n\r\n                        bitmap.set(a - 2, b + 2, 1);\r\n                        bitmap.set(a - 2, b + 1, 1);\r\n                        bitmap.set(a - 2, b    , 1);\r\n                        bitmap.set(a - 2, b - 1, 1);\r\n                        bitmap.set(a - 2, b - 2, 1);\r\n                        bitmap.set(a + 2, b + 2, 1);\r\n                        bitmap.set(a + 2, b + 1, 1);\r\n                        bitmap.set(a + 2, b    , 1);\r\n                        bitmap.set(a + 2, b - 1, 1);\r\n                        bitmap.set(a + 2, b - 2, 1);\r\n                        bitmap.set(a + 1, b - 2, 1);\r\n                        bitmap.set(a + 1, b + 2, 1);\r\n                        bitmap.set(a    , b + 2, 1);\r\n                        bitmap.set(a    , b    , 1);\r\n                        bitmap.set(a    , b - 2, 1);\r\n                        bitmap.set(a - 1, b - 2, 1);\r\n                        bitmap.set(a - 1, b + 2, 1);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // timing pattern\r\n            funcPatternsMap.fill(     8, ny - 7, nx - 17,       1, 1);\r\n            funcPatternsMap.fill(nx - 7,      8,       1, ny - 17, 1);\r\n\r\n            // timing pattern\r\n            for (let i = 8; i <= ny - 9; i += 2) {\r\n                bitmap.set(nx - 7, i, 1);\r\n                bitmap.set(i, ny - 7, 1);\r\n            }\r\n        }\r\n\r\n        // place codewords\r\n        {\r\n            let cx =  1;\r\n            let cy = -1;\r\n            let b2t =  true; // bottom to top\r\n            let odd = false;\r\n\r\n            for (let i = 0; i < data.length; i++) {\r\n                for (let j = 7; j >= 0; j--) {\r\n                    for (; ; ) {\r\n                        if (odd) {\r\n                            cx += 1;\r\n                        } else if ((((ny - 1) === cy) && b2t) || ((0 === cy) && (!b2t))) {\r\n                            if (cx === (nx - 8)) cx += 2;\r\n                            else                 cx += 1;\r\n                            b2t = !b2t;\r\n                        } else {\r\n                            cx -= 1;\r\n                            if (b2t) cy += 1;\r\n                            else     cy -= 1;\r\n                        }\r\n                        odd = !odd;\r\n\r\n                        // determine\r\n                        if (0 === funcPatternsMap.get(cx, cy)) {\r\n                            bitmap.set(cx, cy, (data[i] >>> j) & 0x01);\r\n                            break;\r\n                        } else {\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // place version info\r\n        if (7 <= version) {\r\n            // gx=0x1f25 BCH Code is built on GF(2^4). but BCH#encode() is not use arithmetic on GF.\r\n            const vi = ((version << 12) | new BCH(field, 0x1f25).encode(version));\r\n\r\n            bitmap.set(nx - 1, 10, (vi >>>  0) & 1);\r\n            bitmap.set(nx - 1,  9, (vi >>>  1) & 1);\r\n            bitmap.set(nx - 1,  8, (vi >>>  2) & 1);\r\n            bitmap.set(nx - 2, 10, (vi >>>  3) & 1);\r\n            bitmap.set(nx - 2,  9, (vi >>>  4) & 1);\r\n            bitmap.set(nx - 2,  8, (vi >>>  5) & 1);\r\n            bitmap.set(nx - 3, 10, (vi >>>  6) & 1);\r\n            bitmap.set(nx - 3,  9, (vi >>>  7) & 1);\r\n            bitmap.set(nx - 3,  8, (vi >>>  8) & 1);\r\n            bitmap.set(nx - 4, 10, (vi >>>  9) & 1);\r\n            bitmap.set(nx - 4,  9, (vi >>> 10) & 1);\r\n            bitmap.set(nx - 4,  8, (vi >>> 11) & 1);\r\n            bitmap.set(nx - 5, 10, (vi >>> 12) & 1);\r\n            bitmap.set(nx - 5,  9, (vi >>> 13) & 1);\r\n            bitmap.set(nx - 5,  8, (vi >>> 14) & 1);\r\n            bitmap.set(nx - 6, 10, (vi >>> 15) & 1);\r\n            bitmap.set(nx - 6,  9, (vi >>> 16) & 1);\r\n            bitmap.set(nx - 6,  8, (vi >>> 17) & 1);\r\n\r\n            bitmap.set(10, ny - 1, (vi >>>  0) & 1);\r\n            bitmap.set( 9, ny - 1, (vi >>>  1) & 1);\r\n            bitmap.set( 8, ny - 1, (vi >>>  2) & 1);\r\n            bitmap.set(10, ny - 2, (vi >>>  3) & 1);\r\n            bitmap.set( 9, ny - 2, (vi >>>  4) & 1);\r\n            bitmap.set( 8, ny - 2, (vi >>>  5) & 1);\r\n            bitmap.set(10, ny - 3, (vi >>>  6) & 1);\r\n            bitmap.set( 9, ny - 3, (vi >>>  7) & 1);\r\n            bitmap.set( 8, ny - 3, (vi >>>  8) & 1);\r\n            bitmap.set(10, ny - 4, (vi >>>  9) & 1);\r\n            bitmap.set( 9, ny - 4, (vi >>> 10) & 1);\r\n            bitmap.set( 8, ny - 4, (vi >>> 11) & 1);\r\n            bitmap.set(10, ny - 5, (vi >>> 12) & 1);\r\n            bitmap.set( 9, ny - 5, (vi >>> 13) & 1);\r\n            bitmap.set( 8, ny - 5, (vi >>> 14) & 1);\r\n            bitmap.set(10, ny - 6, (vi >>> 15) & 1);\r\n            bitmap.set( 9, ny - 6, (vi >>> 16) & 1);\r\n            bitmap.set( 8, ny - 6, (vi >>> 17) & 1);\r\n        }\r\n\r\n        // masking\r\n        let maskNo = 0;\r\n        {\r\n            let maskScore = Number.MAX_SAFE_INTEGER;\r\n\r\n            // for each mask procs\r\n            for (const mask of masks) {\r\n                // mask\r\n                this.applyMask(bitmap, funcPatternsMap, mask.fn);\r\n\r\n                // calculate score\r\n                const score = this.evaluteMask(bitmap);\r\n                if (score < maskScore) {\r\n                    maskNo = mask.index;\r\n                    maskScore = score;\r\n                }\r\n\r\n                // unmask\r\n                this.applyMask(bitmap, funcPatternsMap, mask.fn);\r\n            }\r\n\r\n            // mask\r\n            this.applyMask(bitmap, funcPatternsMap, masks[maskNo].fn);\r\n        }\r\n\r\n        // place format info\r\n        {\r\n            const props = this.props as QrPropsNoUndefined;\r\n            const ecLevel = ecLevelMap.get(props.ecLevel);\r\n            if (ecLevel === void 0) {\r\n                throw new Error(`Qr#buildBitmap: bad ecLevel '${props.ecLevel}' is specified.`);\r\n            }\r\n            let fi = (ecLevel << 3) | masks[maskNo].index;\r\n\r\n            // gx=0x0537 BCH Code is built on GF(2^4). but BCH#encode() is not use arithmetic on GF.\r\n            fi = ((fi << 10) | new BCH(field, 0x0537).encode(fi)) ^ 0x5412;\r\n\r\n            for (let i = 0; i <= 7; i++) {\r\n                bitmap.set(i          , ny - 9, (fi >>> i) & 1);\r\n            }\r\n            {\r\n                bitmap.set(    nx -  8, ny - 9, (fi >>> 8) & 1);\r\n            }\r\n            for (let i = 9; i <= 14; i++) {\r\n                bitmap.set(i + nx - 15, ny - 9, (fi >>> i) & 1);\r\n            }\r\n\r\n            for (let i = 0; i <= 5; i++) {\r\n                bitmap.set(nx - 9, ny - 1 - i, (fi >>> i) & 1);\r\n            }\r\n            for (let i = 6; i <= 7; i++) {\r\n                bitmap.set(nx - 9, ny - 2 - i, (fi >>> i) & 1);\r\n            }\r\n            {\r\n                bitmap.set(nx - 9,  7        ,              1);\r\n            }\r\n            for (let i = 8; i <= 14; i++) {\r\n                bitmap.set(nx - 9, 14     - i, (fi >>> i) & 1);\r\n            }\r\n        }\r\n\r\n        return bitmap;\r\n    }\r\n\r\n    protected drawBitmap(canvas: SvgCanvas, bitmap: Bitmap) {\r\n        // bitmap's coodinate origin is right-bottom.\r\n        const c = this.props.cellSize as number;\r\n        const nx = bitmap.width,\r\n              ny = bitmap.height;\r\n\r\n        for (let i = 0; i < nx; i++) {\r\n            for (let j = 0; j < ny; j++) {\r\n                if (bitmap.get(i, j)) canvas.rect((nx - 1 - i) * c, (ny - 1 - j) * c, c, c);\r\n            }\r\n        }\r\n\r\n        canvas.fill();\r\n        canvas.beginPath();\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string}>([\r\n    [\"\\x00\", {index:   0, pattern: \"212222\"}],\r\n    [\"\\x01\", {index:   1, pattern: \"222122\"}],\r\n    [\"\\x02\", {index:   2, pattern: \"222221\"}],\r\n    [\"\\x03\", {index:   3, pattern: \"121223\"}],\r\n    [\"\\x04\", {index:   4, pattern: \"121322\"}],\r\n    [\"\\x05\", {index:   5, pattern: \"131222\"}],\r\n    [\"\\x06\", {index:   6, pattern: \"122213\"}],\r\n    [\"\\x07\", {index:   7, pattern: \"122312\"}],\r\n    [\"\\x08\", {index:   8, pattern: \"132212\"}],\r\n    [\"\\x09\", {index:   9, pattern: \"221213\"}],\r\n    [\"\\x0A\", {index:  10, pattern: \"221312\"}],\r\n    [\"\\x0B\", {index:  11, pattern: \"231212\"}],\r\n    [\"\\x0C\", {index:  12, pattern: \"112232\"}],\r\n    [\"\\x0D\", {index:  13, pattern: \"122132\"}],\r\n    [\"\\x0E\", {index:  14, pattern: \"122231\"}],\r\n    [\"\\x0F\", {index:  15, pattern: \"113222\"}],\r\n\r\n    [\"\\x10\", {index:  16, pattern: \"123122\"}],\r\n    [\"\\x11\", {index:  17, pattern: \"123221\"}],\r\n    [\"\\x12\", {index:  18, pattern: \"223211\"}],\r\n    [\"\\x13\", {index:  19, pattern: \"221132\"}],\r\n    [\"\\x14\", {index:  20, pattern: \"221231\"}],\r\n    [\"\\x15\", {index:  21, pattern: \"213212\"}],\r\n    [\"\\x16\", {index:  22, pattern: \"223112\"}],\r\n    [\"\\x17\", {index:  23, pattern: \"312131\"}],\r\n    [\"\\x18\", {index:  24, pattern: \"311222\"}],\r\n    [\"\\x19\", {index:  25, pattern: \"321122\"}],\r\n    [\"\\x1A\", {index:  26, pattern: \"321221\"}],\r\n    [\"\\x1B\", {index:  27, pattern: \"312212\"}],\r\n    [\"\\x1C\", {index:  28, pattern: \"322112\"}],\r\n    [\"\\x1D\", {index:  29, pattern: \"322211\"}],\r\n    [\"\\x1E\", {index:  30, pattern: \"212123\"}],\r\n    [\"\\x1F\", {index:  31, pattern: \"212321\"}],\r\n\r\n    [\"\\x20\", {index:  32, pattern: \"232121\"}],\r\n    [\"\\x21\", {index:  33, pattern: \"111323\"}],\r\n    [\"\\x22\", {index:  34, pattern: \"131123\"}],\r\n    [\"\\x23\", {index:  35, pattern: \"131321\"}],\r\n    [\"\\x24\", {index:  36, pattern: \"112313\"}],\r\n    [\"\\x25\", {index:  37, pattern: \"132113\"}],\r\n    [\"\\x26\", {index:  38, pattern: \"132311\"}],\r\n    [\"\\x27\", {index:  39, pattern: \"211313\"}],\r\n    [\"\\x28\", {index:  40, pattern: \"231113\"}],\r\n    [\"\\x29\", {index:  41, pattern: \"231311\"}],\r\n    [\"\\x2A\", {index:  42, pattern: \"112133\"}],\r\n    [\"\\x2B\", {index:  43, pattern: \"112331\"}],\r\n    [\"\\x2C\", {index:  44, pattern: \"132131\"}],\r\n    [\"\\x2D\", {index:  45, pattern: \"113123\"}],\r\n    [\"\\x2E\", {index:  46, pattern: \"113321\"}],\r\n    [\"\\x2F\", {index:  47, pattern: \"133121\"}],\r\n\r\n    [\"\\x30\", {index:  48, pattern: \"313121\"}],\r\n    [\"\\x31\", {index:  49, pattern: \"211331\"}],\r\n    [\"\\x32\", {index:  50, pattern: \"231131\"}],\r\n    [\"\\x33\", {index:  51, pattern: \"213113\"}],\r\n    [\"\\x34\", {index:  52, pattern: \"213311\"}],\r\n    [\"\\x35\", {index:  53, pattern: \"213131\"}],\r\n    [\"\\x36\", {index:  54, pattern: \"311123\"}],\r\n    [\"\\x37\", {index:  55, pattern: \"311321\"}],\r\n    [\"\\x38\", {index:  56, pattern: \"331121\"}],\r\n    [\"\\x39\", {index:  57, pattern: \"312113\"}],\r\n    [\"\\x3A\", {index:  58, pattern: \"312311\"}],\r\n    [\"\\x3B\", {index:  59, pattern: \"332111\"}],\r\n    [\"\\x3C\", {index:  60, pattern: \"314111\"}],\r\n    [\"\\x3D\", {index:  61, pattern: \"221411\"}],\r\n    [\"\\x3E\", {index:  62, pattern: \"431111\"}],\r\n    [\"\\x3F\", {index:  63, pattern: \"111224\"}],\r\n\r\n    [\"\\x40\", {index:  64, pattern: \"111422\"}],\r\n    [\"\\x41\", {index:  65, pattern: \"121124\"}],\r\n    [\"\\x42\", {index:  66, pattern: \"121421\"}],\r\n    [\"\\x43\", {index:  67, pattern: \"141122\"}],\r\n    [\"\\x44\", {index:  68, pattern: \"141221\"}],\r\n    [\"\\x45\", {index:  69, pattern: \"112214\"}],\r\n    [\"\\x46\", {index:  70, pattern: \"112412\"}],\r\n    [\"\\x47\", {index:  71, pattern: \"122114\"}],\r\n    [\"\\x48\", {index:  72, pattern: \"122411\"}],\r\n    [\"\\x49\", {index:  73, pattern: \"142112\"}],\r\n    [\"\\x4A\", {index:  74, pattern: \"142211\"}],\r\n    [\"\\x4B\", {index:  75, pattern: \"241211\"}],\r\n    [\"\\x4C\", {index:  76, pattern: \"221114\"}],\r\n    [\"\\x4D\", {index:  77, pattern: \"413111\"}],\r\n    [\"\\x4E\", {index:  78, pattern: \"241112\"}],\r\n    [\"\\x4F\", {index:  79, pattern: \"134111\"}],\r\n\r\n    [\"\\x50\", {index:  80, pattern: \"111242\"}],\r\n    [\"\\x51\", {index:  81, pattern: \"121142\"}],\r\n    [\"\\x52\", {index:  82, pattern: \"121241\"}],\r\n    [\"\\x53\", {index:  83, pattern: \"114212\"}],\r\n    [\"\\x54\", {index:  84, pattern: \"124112\"}],\r\n    [\"\\x55\", {index:  85, pattern: \"124211\"}],\r\n    [\"\\x56\", {index:  86, pattern: \"411212\"}],\r\n    [\"\\x57\", {index:  87, pattern: \"421112\"}],\r\n    [\"\\x58\", {index:  88, pattern: \"421211\"}],\r\n    [\"\\x59\", {index:  89, pattern: \"212141\"}],\r\n    [\"\\x5A\", {index:  90, pattern: \"214121\"}],\r\n    [\"\\x5B\", {index:  91, pattern: \"412121\"}],\r\n    [\"\\x5C\", {index:  92, pattern: \"111143\"}],\r\n    [\"\\x5D\", {index:  93, pattern: \"111341\"}],\r\n    [\"\\x5E\", {index:  94, pattern: \"131141\"}],\r\n    [\"\\x5F\", {index:  95, pattern: \"114113\"}],\r\n\r\n    [\"\\x60\", {index:  96, pattern: \"114311\"}],\r\n    [\"\\x61\", {index:  97, pattern: \"411113\"}],\r\n    [\"\\x62\", {index:  98, pattern: \"411311\"}],\r\n    [\"\\x63\", {index:  99, pattern: \"113141\"}],\r\n    [\"\\x64\", {index: 100, pattern: \"114131\"}],\r\n    [\"\\x65\", {index: 101, pattern: \"311141\"}],\r\n    [\"\\x66\", {index: 102, pattern: \"411131\"}], // FNC1\r\n    [\"\\x67\", {index: 103, pattern: \"211412\"}], // start A\r\n    [\"\\x68\", {index: 104, pattern: \"211214\"}], // start B\r\n    [\"\\x69\", {index: 105, pattern: \"211232\"}], // start C\r\n    [\"\\x6A\", {index: 106, pattern: \"2331112\"}] // stop\r\n]);\r\n\r\n\r\nexport const fullAsciiMap = new Map<number, Array<string | null>>([\r\n    [  0, [\"\\x40\", null  ]], // NUL\r\n    [  1, [\"\\x41\", null  ]], // SOH\r\n    [  2, [\"\\x42\", null  ]], // STX\r\n    [  3, [\"\\x43\", null  ]], // ETX\r\n    [  4, [\"\\x44\", null  ]], // EOT\r\n    [  5, [\"\\x45\", null  ]], // ENQ\r\n    [  6, [\"\\x46\", null  ]], // ACK\r\n    [  7, [\"\\x47\", null  ]], // BEL\r\n    [  8, [\"\\x48\", null  ]], // BS\r\n    [  9, [\"\\x49\", null  ]], // HT\r\n    [  0, [\"\\x4A\", null  ]], // LF\r\n    [ 11, [\"\\x4B\", null  ]], // VT\r\n    [ 12, [\"\\x4C\", null  ]], // FF\r\n    [ 13, [\"\\x4D\", null  ]], // CR\r\n    [ 14, [\"\\x4E\", null  ]], // SO\r\n    [ 15, [\"\\x4F\", null  ]], // SI\r\n    [ 16, [\"\\x50\", null  ]], // DLE\r\n    [ 17, [\"\\x51\", null  ]], // DC1\r\n    [ 18, [\"\\x52\", null  ]], // DC2\r\n    [ 19, [\"\\x53\", null  ]], // DC3\r\n    [ 20, [\"\\x54\", null  ]], // DC4\r\n    [ 21, [\"\\x55\", null  ]], // NAK\r\n    [ 22, [\"\\x56\", null  ]], // SYN\r\n    [ 23, [\"\\x57\", null  ]], // ETB\r\n    [ 24, [\"\\x58\", null  ]], // CAN\r\n    [ 25, [\"\\x59\", null  ]], // EM\r\n    [ 26, [\"\\x5A\", null  ]], // SUB\r\n    [ 27, [\"\\x5B\", null  ]], // ESC\r\n    [ 28, [\"\\x5C\", null  ]], // FS\r\n    [ 29, [\"\\x5D\", null  ]], // GS\r\n    [ 30, [\"\\x5E\", null  ]], // RS\r\n    [ 31, [\"\\x5F\", null  ]], // US\r\n    [ 32, [\"\\x00\", \"\\x00\"]], // SP\r\n    [ 33, [\"\\x01\", \"\\x01\"]], // !\r\n    [ 34, [\"\\x02\", \"\\x02\"]], // \"\r\n    [ 35, [\"\\x03\", \"\\x03\"]], // #\r\n    [ 36, [\"\\x04\", \"\\x04\"]], // $\r\n    [ 37, [\"\\x05\", \"\\x05\"]], // %\r\n    [ 38, [\"\\x06\", \"\\x06\"]], // &\r\n    [ 39, [\"\\x07\", \"\\x07\"]], // '\r\n    [ 40, [\"\\x08\", \"\\x08\"]], // (\r\n    [ 41, [\"\\x09\", \"\\x09\"]], // )\r\n    [ 42, [\"\\x0A\", \"\\x0A\"]], // *\r\n    [ 43, [\"\\x0B\", \"\\x0B\"]], // +\r\n    [ 44, [\"\\x0C\", \"\\x0C\"]], // ,\r\n    [ 45, [\"\\x0D\", \"\\x0D\"]], // -\r\n    [ 46, [\"\\x0E\", \"\\x0E\"]], // .\r\n    [ 47, [\"\\x0F\", \"\\x0F\"]], // /\r\n    [ 48, [\"\\x10\", \"\\x10\"]], // 0\r\n    [ 49, [\"\\x11\", \"\\x11\"]], // 1\r\n    [ 50, [\"\\x12\", \"\\x12\"]], // 2\r\n    [ 51, [\"\\x13\", \"\\x13\"]], // 3\r\n    [ 52, [\"\\x14\", \"\\x14\"]], // 4\r\n    [ 53, [\"\\x15\", \"\\x15\"]], // 5\r\n    [ 54, [\"\\x16\", \"\\x16\"]], // 6\r\n    [ 55, [\"\\x17\", \"\\x17\"]], // 7\r\n    [ 56, [\"\\x18\", \"\\x18\"]], // 8\r\n    [ 57, [\"\\x19\", \"\\x19\"]], // 9\r\n    [ 58, [\"\\x1A\", \"\\x1A\"]], // :\r\n    [ 59, [\"\\x1B\", \"\\x1B\"]], // ;\r\n    [ 60, [\"\\x1C\", \"\\x1C\"]], // <\r\n    [ 61, [\"\\x1D\", \"\\x1D\"]], // =\r\n    [ 62, [\"\\x1E\", \"\\x1E\"]], // >\r\n    [ 63, [\"\\x1F\", \"\\x1F\"]], // ?\r\n    [ 64, [\"\\x20\", \"\\x20\"]], // @\r\n    [ 65, [\"\\x21\", \"\\x21\"]], // A\r\n    [ 66, [\"\\x22\", \"\\x22\"]], // B\r\n    [ 67, [\"\\x23\", \"\\x23\"]], // C\r\n    [ 68, [\"\\x24\", \"\\x24\"]], // D\r\n    [ 69, [\"\\x25\", \"\\x25\"]], // E\r\n    [ 70, [\"\\x26\", \"\\x26\"]], // F\r\n    [ 71, [\"\\x27\", \"\\x27\"]], // G\r\n    [ 72, [\"\\x28\", \"\\x28\"]], // H\r\n    [ 73, [\"\\x29\", \"\\x29\"]], // I\r\n    [ 74, [\"\\x2A\", \"\\x2A\"]], // J\r\n    [ 75, [\"\\x2B\", \"\\x2B\"]], // K\r\n    [ 76, [\"\\x2C\", \"\\x2C\"]], // L\r\n    [ 77, [\"\\x2D\", \"\\x2D\"]], // M\r\n    [ 78, [\"\\x2E\", \"\\x2E\"]], // N\r\n    [ 79, [\"\\x2F\", \"\\x2F\"]], // O\r\n    [ 80, [\"\\x30\", \"\\x30\"]], // P\r\n    [ 81, [\"\\x31\", \"\\x31\"]], // Q\r\n    [ 82, [\"\\x32\", \"\\x32\"]], // R\r\n    [ 83, [\"\\x33\", \"\\x33\"]], // S\r\n    [ 84, [\"\\x34\", \"\\x34\"]], // T\r\n    [ 85, [\"\\x35\", \"\\x35\"]], // U\r\n    [ 86, [\"\\x36\", \"\\x36\"]], // V\r\n    [ 87, [\"\\x37\", \"\\x37\"]], // W\r\n    [ 88, [\"\\x38\", \"\\x38\"]], // X\r\n    [ 89, [\"\\x39\", \"\\x39\"]], // Y\r\n    [ 90, [\"\\x3A\", \"\\x3A\"]], // Z\r\n    [ 91, [\"\\x3B\", \"\\x3B\"]], // [\r\n    [ 92, [\"\\x3C\", \"\\x3C\"]], // backslash\r\n    [ 93, [\"\\x3D\", \"\\x3D\"]], // ]\r\n    [ 94, [\"\\x3E\", \"\\x3E\"]], // ^\r\n    [ 95, [\"\\x3F\", \"\\x3F\"]], // _\r\n    [ 96, [null  , \"\\x40\"]], // `\r\n    [ 97, [null  , \"\\x41\"]], // a\r\n    [ 98, [null  , \"\\x42\"]], // b\r\n    [ 99, [null  , \"\\x43\"]], // c\r\n    [100, [null  , \"\\x44\"]], // d\r\n    [101, [null  , \"\\x45\"]], // e\r\n    [102, [null  , \"\\x46\"]], // f\r\n    [103, [null  , \"\\x47\"]], // g\r\n    [104, [null  , \"\\x48\"]], // h\r\n    [105, [null  , \"\\x49\"]], // i\r\n    [106, [null  , \"\\x4A\"]], // j\r\n    [107, [null  , \"\\x4B\"]], // k\r\n    [108, [null  , \"\\x4C\"]], // l\r\n    [109, [null  , \"\\x4D\"]], // m\r\n    [110, [null  , \"\\x4E\"]], // n\r\n    [111, [null  , \"\\x4F\"]], // o\r\n    [112, [null  , \"\\x50\"]], // p\r\n    [113, [null  , \"\\x51\"]], // q\r\n    [114, [null  , \"\\x52\"]], // r\r\n    [115, [null  , \"\\x53\"]], // s\r\n    [116, [null  , \"\\x54\"]], // t\r\n    [117, [null  , \"\\x55\"]], // u\r\n    [118, [null  , \"\\x56\"]], // v\r\n    [119, [null  , \"\\x57\"]], // w\r\n    [120, [null  , \"\\x58\"]], // x\r\n    [121, [null  , \"\\x59\"]], // y\r\n    [122, [null  , \"\\x5A\"]], // z\r\n    [123, [null  , \"\\x5B\"]], // {\r\n    [124, [null  , \"\\x5C\"]], // |\r\n    [125, [null  , \"\\x5D\"]], // }\r\n    [126, [null  , \"\\x5E\"]], // ~\r\n    [127, [null  , \"\\x5F\"]], // DEL\r\n\r\n    [128, [\"\\x66\", \"\\x66\", \"\\x66\"]], // FNC1\r\n    [129, [\"\\x61\", \"\\x61\", null  ]], // FNC2\r\n    [130, [\"\\x60\", \"\\x60\", null  ]], // FNC3\r\n    [131, [\"\\x65\", \"\\x64\", null  ]], // FNC4\r\n    [132, [null  , \"\\x65\", \"\\x65\"]], // CODE A\r\n    [133, [\"\\x64\", null  , \"\\x64\"]], // CODE B\r\n    [134, [\"\\x63\", \"\\x63\", null  ]], // CODE C\r\n    [135, [null  , \"\\x62\", null  ]], // SHIFT A\r\n    [135, [\"\\x62\", null  , null  ]], // SHIFT B\r\n]);\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string}>([\r\n    [\"0\", {index:  0, pattern: \"1112212110\"}],\r\n    [\"1\", {index:  1, pattern: \"2112111120\"}],\r\n    [\"2\", {index:  2, pattern: \"1122111120\"}],\r\n    [\"3\", {index:  3, pattern: \"2122111110\"}],\r\n    [\"4\", {index:  4, pattern: \"1112211120\"}],\r\n    [\"5\", {index:  5, pattern: \"2112211110\"}],\r\n    [\"6\", {index:  6, pattern: \"1122211110\"}],\r\n    [\"7\", {index:  7, pattern: \"1112112120\"}],\r\n    [\"8\", {index:  8, pattern: \"2112112110\"}],\r\n    [\"9\", {index:  9, pattern: \"1122112110\"}],\r\n    [\"A\", {index: 10, pattern: \"2111121120\"}],\r\n    [\"B\", {index: 11, pattern: \"1121121120\"}],\r\n    [\"C\", {index: 12, pattern: \"2121121110\"}],\r\n    [\"D\", {index: 13, pattern: \"1111221120\"}],\r\n    [\"E\", {index: 14, pattern: \"2111221110\"}],\r\n    [\"F\", {index: 15, pattern: \"1121221110\"}],\r\n    [\"G\", {index: 16, pattern: \"1111122120\"}],\r\n    [\"H\", {index: 17, pattern: \"2111122110\"}],\r\n    [\"I\", {index: 18, pattern: \"1121122110\"}],\r\n    [\"J\", {index: 19, pattern: \"1111222110\"}],\r\n    [\"K\", {index: 20, pattern: \"2111111220\"}],\r\n    [\"L\", {index: 21, pattern: \"1121111220\"}],\r\n    [\"M\", {index: 22, pattern: \"2121111210\"}],\r\n    [\"N\", {index: 23, pattern: \"1111211220\"}],\r\n    [\"O\", {index: 24, pattern: \"2111211210\"}],\r\n    [\"P\", {index: 25, pattern: \"1121211210\"}],\r\n    [\"Q\", {index: 26, pattern: \"1111112220\"}],\r\n    [\"R\", {index: 27, pattern: \"2111112210\"}],\r\n    [\"S\", {index: 28, pattern: \"1121112210\"}],\r\n    [\"T\", {index: 29, pattern: \"1111212210\"}],\r\n    [\"U\", {index: 30, pattern: \"2211111120\"}],\r\n    [\"V\", {index: 31, pattern: \"1221111120\"}],\r\n    [\"W\", {index: 32, pattern: \"2221111110\"}],\r\n    [\"X\", {index: 33, pattern: \"1211211120\"}],\r\n    [\"Y\", {index: 34, pattern: \"2211211110\"}],\r\n    [\"Z\", {index: 35, pattern: \"1221211110\"}],\r\n    [\"-\", {index: 36, pattern: \"1211112120\"}],\r\n    [\".\", {index: 37, pattern: \"2211112110\"}],\r\n    [\" \", {index: 38, pattern: \"1221112110\"}],\r\n    [\"$\", {index: 39, pattern: \"1212121110\"}],\r\n    [\"/\", {index: 40, pattern: \"1212111210\"}],\r\n    [\"+\", {index: 41, pattern: \"1211121210\"}],\r\n    [\"%\", {index: 42, pattern: \"1112121210\"}],\r\n    [\"*\", {index: 43, pattern: \"1211212110\"}]\r\n]);\r\n\r\n\r\nexport const reverseMap = new Map<number, string>();\r\nfor (const e of charactersMap.entries()) reverseMap.set(e[1].index, e[0]);\r\n\r\n\r\nexport const fullAsciiMap = new Map<number, string>([\r\n    [  0, \"%U\"], // NUL\r\n    [  1, \"$A\"], // SOH\r\n    [  2, \"$B\"], // STX\r\n    [  3, \"$C\"], // ETX\r\n    [  4, \"$D\"], // EOT\r\n    [  5, \"$E\"], // ENQ\r\n    [  6, \"$F\"], // ACK\r\n    [  7, \"$G\"], // BEL\r\n    [  8, \"$H\"], // BS\r\n    [  9, \"$I\"], // HT\r\n    [  0, \"$J\"], // LF\r\n    [ 11, \"$K\"], // VT\r\n    [ 12, \"$L\"], // FF\r\n    [ 13, \"$M\"], // CR\r\n    [ 14, \"$N\"], // SO\r\n    [ 15, \"$O\"], // SI\r\n    [ 16, \"$P\"], // DLE\r\n    [ 17, \"$Q\"], // DC1\r\n    [ 18, \"$R\"], // DC2\r\n    [ 19, \"$S\"], // DC3\r\n    [ 20, \"$T\"], // DC4\r\n    [ 21, \"$U\"], // NAK\r\n    [ 22, \"$V\"], // SYN\r\n    [ 23, \"$W\"], // ETB\r\n    [ 24, \"$X\"], // CAN\r\n    [ 25, \"$Y\"], // EM\r\n    [ 26, \"$Z\"], // SUB\r\n    [ 27, \"%A\"], // ESC\r\n    [ 28, \"%B\"], // FS\r\n    [ 29, \"%C\"], // GS\r\n    [ 30, \"%D\"], // RS\r\n    [ 31, \"%E\"], // US\r\n    [ 32, \" \" ], // SP\r\n    [ 33, \"/A\"], // !\r\n    [ 34, \"/B\"], // \"\r\n    [ 35, \"/C\"], // #\r\n    [ 36, \"/D\"], // $\r\n    [ 37, \"/E\"], // %\r\n    [ 38, \"/F\"], // &\r\n    [ 39, \"/G\"], // '\r\n    [ 40, \"/H\"], // (\r\n    [ 41, \"/I\"], // )\r\n    [ 42, \"/J\"], // *\r\n    [ 43, \"/K\"], // +\r\n    [ 44, \"/L\"], // ,\r\n    [ 45, \"-\" ], // -\r\n    [ 46, \".\" ], // .\r\n    [ 47, \"/\" ], // /\r\n    [ 48, \"0\" ], // 0\r\n    [ 49, \"1\" ], // 1\r\n    [ 50, \"2\" ], // 2\r\n    [ 51, \"3\" ], // 3\r\n    [ 52, \"4\" ], // 4\r\n    [ 53, \"5\" ], // 5\r\n    [ 54, \"6\" ], // 6\r\n    [ 55, \"7\" ], // 7\r\n    [ 56, \"8\" ], // 8\r\n    [ 57, \"9\" ], // 9\r\n    [ 58, \"/Z\"], // :\r\n    [ 59, \"%F\"], // ;\r\n    [ 60, \"%G\"], // <\r\n    [ 61, \"%H\"], // =\r\n    [ 62, \"%I\"], // >\r\n    [ 63, \"%J\"], // ?\r\n    [ 64, \"%V\"], // @\r\n    [ 65, \"A\" ], // A\r\n    [ 66, \"B\" ], // B\r\n    [ 67, \"C\" ], // C\r\n    [ 68, \"D\" ], // D\r\n    [ 69, \"E\" ], // E\r\n    [ 70, \"F\" ], // F\r\n    [ 71, \"G\" ], // G\r\n    [ 72, \"H\" ], // H\r\n    [ 73, \"I\" ], // I\r\n    [ 74, \"J\" ], // J\r\n    [ 75, \"K\" ], // K\r\n    [ 76, \"L\" ], // L\r\n    [ 77, \"M\" ], // M\r\n    [ 78, \"N\" ], // N\r\n    [ 79, \"O\" ], // O\r\n    [ 80, \"P\" ], // P\r\n    [ 81, \"Q\" ], // Q\r\n    [ 82, \"R\" ], // R\r\n    [ 83, \"S\" ], // S\r\n    [ 84, \"T\" ], // T\r\n    [ 85, \"U\" ], // U\r\n    [ 86, \"V\" ], // V\r\n    [ 87, \"W\" ], // W\r\n    [ 88, \"X\" ], // X\r\n    [ 89, \"Y\" ], // Y\r\n    [ 90, \"Z\" ], // Z\r\n    [ 91, \"%K\"], // [\r\n    [ 92, \"%L\"], // backslash\r\n    [ 93, \"%M\"], // ]\r\n    [ 94, \"%N\"], // ^\r\n    [ 95, \"%O\"], // _\r\n    [ 96, \"%W\"], // `\r\n    [ 97, \"+A\"], // a\r\n    [ 98, \"+B\"], // b\r\n    [ 99, \"+C\"], // c\r\n    [100, \"+D\"], // d\r\n    [101, \"+E\"], // e\r\n    [102, \"+F\"], // f\r\n    [103, \"+G\"], // g\r\n    [104, \"+H\"], // h\r\n    [105, \"+I\"], // i\r\n    [106, \"+J\"], // j\r\n    [107, \"+K\"], // k\r\n    [108, \"+L\"], // l\r\n    [109, \"+M\"], // m\r\n    [110, \"+N\"], // n\r\n    [111, \"+O\"], // o\r\n    [112, \"+P\"], // p\r\n    [113, \"+Q\"], // q\r\n    [114, \"+R\"], // r\r\n    [115, \"+S\"], // s\r\n    [116, \"+T\"], // t\r\n    [117, \"+U\"], // u\r\n    [118, \"+V\"], // v\r\n    [119, \"+W\"], // w\r\n    [120, \"+X\"], // x\r\n    [121, \"+Y\"], // y\r\n    [122, \"+Z\"], // z\r\n    [123, \"%P\"], // {\r\n    [124, \"%Q\"], // |\r\n    [125, \"%R\"], // }\r\n    [126, \"%S\"], // ~\r\n    [127, \"%T\"]  // DEL\r\n]);\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string}>([\r\n    // left even(G)\r\n    [\"\\x00\", {index:   0, pattern: \"-1123\"}],\r\n    [\"\\x01\", {index:   1, pattern: \"-1222\"}],\r\n    [\"\\x02\", {index:   2, pattern: \"-2212\"}],\r\n    [\"\\x03\", {index:   3, pattern: \"-1141\"}],\r\n    [\"\\x04\", {index:   4, pattern: \"-2311\"}],\r\n    [\"\\x05\", {index:   5, pattern: \"-1321\"}],\r\n    [\"\\x06\", {index:   6, pattern: \"-4111\"}],\r\n    [\"\\x07\", {index:   7, pattern: \"-2131\"}],\r\n    [\"\\x08\", {index:   8, pattern: \"-3121\"}],\r\n    [\"\\x09\", {index:   9, pattern: \"-2113\"}],\r\n\r\n    // left odd(L)\r\n    [\"\\x10\", {index:  10, pattern: \"-3211\"}],\r\n    [\"\\x11\", {index:  11, pattern: \"-2221\"}],\r\n    [\"\\x12\", {index:  12, pattern: \"-2122\"}],\r\n    [\"\\x13\", {index:  13, pattern: \"-1411\"}],\r\n    [\"\\x14\", {index:  14, pattern: \"-1132\"}],\r\n    [\"\\x15\", {index:  15, pattern: \"-1231\"}],\r\n    [\"\\x16\", {index:  16, pattern: \"-1114\"}],\r\n    [\"\\x17\", {index:  17, pattern: \"-1312\"}],\r\n    [\"\\x18\", {index:  18, pattern: \"-1213\"}],\r\n    [\"\\x19\", {index:  19, pattern: \"-3112\"}],\r\n\r\n    // right even(R)\r\n    [\"\\x20\", {index:  20, pattern: \"3211\"}],\r\n    [\"\\x21\", {index:  21, pattern: \"2221\"}],\r\n    [\"\\x22\", {index:  22, pattern: \"2122\"}],\r\n    [\"\\x23\", {index:  23, pattern: \"1411\"}],\r\n    [\"\\x24\", {index:  24, pattern: \"1132\"}],\r\n    [\"\\x25\", {index:  25, pattern: \"1231\"}],\r\n    [\"\\x26\", {index:  26, pattern: \"1114\"}],\r\n    [\"\\x27\", {index:  27, pattern: \"1312\"}],\r\n    [\"\\x28\", {index:  28, pattern: \"1213\"}],\r\n    [\"\\x29\", {index:  29, pattern: \"3112\"}],\r\n\r\n    // left even-odd (even(G):0, odd(L):1)\r\n    [\"\\x30\", {index:  30, pattern: \"111111\"}],\r\n    [\"\\x31\", {index:  31, pattern: \"110100\"}],\r\n    [\"\\x32\", {index:  32, pattern: \"110010\"}],\r\n    [\"\\x33\", {index:  33, pattern: \"110001\"}],\r\n    [\"\\x34\", {index:  34, pattern: \"101100\"}],\r\n    [\"\\x35\", {index:  35, pattern: \"100110\"}],\r\n    [\"\\x36\", {index:  36, pattern: \"100011\"}],\r\n    [\"\\x37\", {index:  37, pattern: \"101010\"}],\r\n    [\"\\x38\", {index:  38, pattern: \"101001\"}],\r\n    [\"\\x39\", {index:  39, pattern: \"100101\"}],\r\n\r\n    // left guard bar\r\n    [\"\\x40\", {index:  40, pattern: \"111\"}],\r\n    // center bar\r\n    [\"\\x50\", {index:  50, pattern: \"-11111\"}],\r\n    // right guard bar\r\n    [\"\\x60\", {index:  60, pattern: \"111\"}],\r\n\r\n    // EAN-5 checksum (even(G):0, odd(L):1)\r\n    [\"\\x70\", {index:  70, pattern: \"00111\"}],\r\n    [\"\\x71\", {index:  71, pattern: \"01011\"}],\r\n    [\"\\x72\", {index:  72, pattern: \"01101\"}],\r\n    [\"\\x73\", {index:  73, pattern: \"01110\"}],\r\n    [\"\\x74\", {index:  74, pattern: \"10011\"}],\r\n    [\"\\x75\", {index:  75, pattern: \"11001\"}],\r\n    [\"\\x76\", {index:  76, pattern: \"11100\"}],\r\n    [\"\\x77\", {index:  77, pattern: \"10101\"}],\r\n    [\"\\x78\", {index:  78, pattern: \"10110\"}],\r\n    [\"\\x79\", {index:  79, pattern: \"11010\"}],\r\n\r\n    // EAN-2 checksum (even(G):0, odd(L):1)\r\n    [\"\\x80\", {index:  80, pattern: \"11\"}],\r\n    [\"\\x81\", {index:  81, pattern: \"10\"}],\r\n    [\"\\x82\", {index:  82, pattern: \"01\"}],\r\n    [\"\\x83\", {index:  83, pattern: \"00\"}],\r\n\r\n    // EAN-5/2 start\r\n    [\"\\x90\", {index:  90, pattern: \"-1112\"}],\r\n    // EAN-5/2 character separator\r\n    [\"\\x91\", {index:  91, pattern: \"-11\"}],\r\n\r\n    // UPC-E start\r\n    [\"\\x92\", {index:  92, pattern: \"112\"}],\r\n    // UPC-E stop\r\n    [\"\\x93\", {index:  93, pattern: \"-111111\"}],\r\n\r\n    // UPC-E Number system 0 even-odd (even(G):0, odd(L):1)\r\n    [\"\\xA0\", {index: 100, pattern: \"000111\"}],\r\n    [\"\\xA1\", {index: 101, pattern: \"001011\"}],\r\n    [\"\\xA2\", {index: 102, pattern: \"001101\"}],\r\n    [\"\\xA3\", {index: 103, pattern: \"001110\"}],\r\n    [\"\\xA4\", {index: 104, pattern: \"010011\"}],\r\n    [\"\\xA5\", {index: 105, pattern: \"011001\"}],\r\n    [\"\\xA6\", {index: 106, pattern: \"011100\"}],\r\n    [\"\\xA7\", {index: 107, pattern: \"010101\"}],\r\n    [\"\\xA8\", {index: 108, pattern: \"010110\"}],\r\n    [\"\\xA9\", {index: 109, pattern: \"011010\"}],\r\n\r\n    // UPC-E Number system 1 even-odd (even(G):0, odd(L):1)\r\n    [\"\\xB0\", {index: 110, pattern: \"111000\"}],\r\n    [\"\\xB1\", {index: 111, pattern: \"110100\"}],\r\n    [\"\\xB2\", {index: 112, pattern: \"110010\"}],\r\n    [\"\\xB3\", {index: 113, pattern: \"110001\"}],\r\n    [\"\\xB4\", {index: 114, pattern: \"101100\"}],\r\n    [\"\\xB5\", {index: 115, pattern: \"100110\"}],\r\n    [\"\\xB6\", {index: 116, pattern: \"100011\"}],\r\n    [\"\\xB7\", {index: 117, pattern: \"101010\"}],\r\n    [\"\\xB8\", {index: 118, pattern: \"101001\"}],\r\n    [\"\\xB9\", {index: 119, pattern: \"100101\"}],\r\n]);\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nconst characterPatterns = new Map<number, string>([\r\n    [0, \"11221\"],\r\n    [1, \"21112\"],\r\n    [2, \"12112\"],\r\n    [3, \"22111\"],\r\n    [4, \"11212\"],\r\n    [5, \"21211\"],\r\n    [6, \"12211\"],\r\n    [7, \"11122\"],\r\n    [8, \"21121\"],\r\n    [9, \"12121\"]\r\n]);\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string}>();\r\nfor (const a of characterPatterns) {\r\n    for (const b of characterPatterns) {\r\n        const x = a[0] * 10 + b[0];\r\n        const c = String.fromCharCode(x);\r\n        let p = \"\";\r\n        for (let i = 0; i < 5; i++) {\r\n            p += a[1][i] + b[1][i];\r\n        }\r\n        charactersMap.set(c, {index: x, pattern: p});\r\n    }\r\n}\r\ncharactersMap.set(\"\\x64\", {index: 100, pattern: \"1111\"}); // start\r\ncharactersMap.set(\"\\x65\", {index: 101, pattern: \"211\"}); // stop\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string}>([\r\n    [\"0\", {index:  0, pattern: \"144\"}],\r\n    [\"1\", {index:  1, pattern: \"114\"}],\r\n    [\"2\", {index:  2, pattern: \"132\"}],\r\n    [\"3\", {index:  3, pattern: \"312\"}],\r\n    [\"4\", {index:  4, pattern: \"123\"}],\r\n    [\"5\", {index:  5, pattern: \"141\"}],\r\n    [\"6\", {index:  6, pattern: \"321\"}],\r\n    [\"7\", {index:  7, pattern: \"213\"}],\r\n    [\"8\", {index:  8, pattern: \"231\"}],\r\n    [\"9\", {index:  9, pattern: \"411\"}],\r\n    [\"-\", {index: 10, pattern: \"414\"}],\r\n    [\"A\", {index: 11, pattern: \"324\"}], // CC1\r\n    [\"B\", {index: 12, pattern: \"342\"}], // CC2\r\n    [\"C\", {index: 13, pattern: \"234\"}], // CC3\r\n    [\"D\", {index: 14, pattern: \"432\"}], // CC4\r\n    [\"E\", {index: 15, pattern: \"243\"}], // CC5\r\n    [\"F\", {index: 16, pattern: \"423\"}], // CC6\r\n    [\"G\", {index: 17, pattern: \"441\"}], // CC7\r\n    [\"H\", {index: 18, pattern: \"111\"}], // CC8\r\n    [\"[\", {index: 19, pattern: \"13\" }], // start\r\n    [\"]\", {index: 38, pattern: \"31\" }]  // stop\r\n]);\r\n\r\n\r\nexport const reverseMap = new Map<number, string>();\r\nfor (const e of charactersMap.entries()) reverseMap.set(e[1].index, e[0]);\r\n\r\n\r\nexport const fullAsciiMap = new Map<number, string>([\r\n    [ 45, \"-\" ], // -\r\n    [ 48, \"0\" ], // 0\r\n    [ 49, \"1\" ], // 1\r\n    [ 50, \"2\" ], // 2\r\n    [ 51, \"3\" ], // 3\r\n    [ 52, \"4\" ], // 4\r\n    [ 53, \"5\" ], // 5\r\n    [ 54, \"6\" ], // 6\r\n    [ 55, \"7\" ], // 7\r\n    [ 56, \"8\" ], // 8\r\n    [ 57, \"9\" ], // 9\r\n    [ 65, \"A0\" ], // A\r\n    [ 66, \"A1\" ], // B\r\n    [ 67, \"A2\" ], // C\r\n    [ 68, \"A3\" ], // D\r\n    [ 69, \"A4\" ], // E\r\n    [ 70, \"A5\" ], // F\r\n    [ 71, \"A6\" ], // G\r\n    [ 72, \"A7\" ], // H\r\n    [ 73, \"A8\" ], // I\r\n    [ 74, \"A9\" ], // J\r\n    [ 75, \"B0\" ], // K\r\n    [ 76, \"B1\" ], // L\r\n    [ 77, \"B2\" ], // M\r\n    [ 78, \"B3\" ], // N\r\n    [ 79, \"B4\" ], // O\r\n    [ 80, \"B5\" ], // P\r\n    [ 81, \"B6\" ], // Q\r\n    [ 82, \"B7\" ], // R\r\n    [ 83, \"B8\" ], // S\r\n    [ 84, \"B9\" ], // T\r\n    [ 85, \"C0\" ], // U\r\n    [ 86, \"C1\" ], // V\r\n    [ 87, \"C2\" ], // W\r\n    [ 88, \"C3\" ], // X\r\n    [ 89, \"C4\" ], // Y\r\n    [ 90, \"C5\" ], // Z\r\n]);\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport const charactersMap = new Map<string, {index: number, pattern: string, width: number}>([\r\n    [\"0\", {index:  0, pattern: \"11111220\", width:  9}],\r\n    [\"1\", {index:  1, pattern: \"11112210\", width:  9}],\r\n    [\"2\", {index:  2, pattern: \"11121120\", width:  9}],\r\n    [\"3\", {index:  3, pattern: \"22111110\", width:  9}],\r\n    [\"4\", {index:  4, pattern: \"11211210\", width:  9}],\r\n    [\"5\", {index:  5, pattern: \"21111210\", width:  9}],\r\n    [\"6\", {index:  6, pattern: \"12111120\", width:  9}],\r\n    [\"7\", {index:  7, pattern: \"12112110\", width:  9}],\r\n    [\"8\", {index:  8, pattern: \"12211110\", width:  9}],\r\n    [\"9\", {index:  9, pattern: \"21121110\", width:  9}],\r\n    [\"-\", {index: 10, pattern: \"11122110\", width:  9}],\r\n    [\"$\", {index: 11, pattern: \"11221110\", width:  9}],\r\n    [\":\", {index: 12, pattern: \"21112120\", width: 10}],\r\n    [\"/\", {index: 13, pattern: \"21211120\", width: 10}],\r\n    [\".\", {index: 14, pattern: \"21212110\", width: 10}],\r\n    [\"+\", {index: 15, pattern: \"11212120\", width: 10}],\r\n    [\"A\", {index: 16, pattern: \"11221210\", width: 10}],\r\n    [\"B\", {index: 17, pattern: \"12121120\", width: 10}],\r\n    [\"C\", {index: 18, pattern: \"11121220\", width: 10}],\r\n    [\"D\", {index: 19, pattern: \"11122210\", width: 10}]\r\n]);\r\n\r\n\r\nexport const reverseMap = new Map<number, string>();\r\nfor (const e of charactersMap.entries()) reverseMap.set(e[1].index, e[0]);\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { QrCodewords } from '../Qr.defs';\r\n\r\n\r\n\r\n// tslint:disable:whitespace\r\n\r\n\r\n\r\nexport const matrixSize = [\r\n    0,\r\n   21,  25,  29,  33,  37,  41,  45,  49,  53,  57,\r\n   61,  65,  69,  73,  77,  81,  85,  89,  93,  97,\r\n  101, 105, 109, 113, 117, 121, 125, 129, 133, 137,\r\n  141, 145, 149, 153, 157, 161, 165, 169, 173, 177\r\n];\r\n\r\n\r\nexport const dataCodewords: QrCodewords = {\r\n  L: [\r\n         0,\r\n        19,   34,   55,   80,  108,  136,  156,  194,  232,  274,\r\n       324,  370,  428,  461,  523,  589,  647,  721,  795,  861,\r\n       932, 1006, 1094, 1174, 1276, 1370, 1468, 1531, 1631, 1735,\r\n      1843, 1955, 2071, 2191, 2306, 2434, 2566, 2702, 2812, 2956\r\n  ],\r\n  M: [\r\n         0,\r\n        16,   28,   44,   64,   86,  108,  124,  154,  182,  216,\r\n       254,  290,  334,  365,  415,  453,  507,  563,  627,  669,\r\n       714,  782,  860,  914, 1000, 1062, 1128, 1193, 1267, 1373,\r\n      1455, 1541, 1631, 1725, 1812, 1914, 1992, 2102, 2216, 2334\r\n  ],\r\n  Q: [\r\n         0,\r\n        13,   22,   34,   48,   62,   76,   88,  110,  132,  154,\r\n       180,  206,  244,  261,  295,  325,  367,  397,  445,  485,\r\n       512,  568,  614,  664,  718,  754,  808,  871,  911,  985,\r\n      1033, 1115, 1171, 1231, 1286, 1354, 1426, 1502, 1582, 1666\r\n  ],\r\n  H: [\r\n         0,\r\n         9,   16,   26,   36,   46,   60,   66,   86,  100,  122,\r\n       140,  158,  180,  197,  223,  253,  283,  313,  341,  385,\r\n       406,  442,  464,  514,  538,  596,  628,  661,  701,  745,\r\n       793,  845,  901,  961,  986, 1054, 1096, 1142, 1222, 1276\r\n  ]\r\n};\r\n\r\n\r\nexport const segments = [\r\n  // [[repeat, totalCodewords, dataCodewords, correctableCodewords], ...]\r\n{ L: [[  0,  0,  0,  0]],\r\n  M: [[  0,  0,  0,  0]],\r\n  Q: [[  0,  0,  0,  0]],\r\n  H: [[  0,  0,  0,  0]] }, // 0\r\n\r\n{ L: [[  1, 26, 19,  2]],\r\n  M: [[  1, 26, 16,  4]],\r\n  Q: [[  1, 26, 13,  6]],\r\n  H: [[  1, 26,  9,  8]] }, // 1\r\n\r\n{ L: [[  1, 44, 34,  4]],\r\n  M: [[  1, 44, 28,  8]],\r\n  Q: [[  1, 44, 22, 11]],\r\n  H: [[  1, 44, 16, 14]] }, // 2\r\n\r\n{ L: [[  1, 70, 55,  7]],\r\n  M: [[  1, 70, 44, 13]],\r\n  Q: [[  2, 35, 17,  9]],\r\n  H: [[  2, 35, 13, 11]] }, // 3\r\n\r\n{ L: [[  1,100, 80, 10]],\r\n  M: [[  2, 50, 32,  9]],\r\n  Q: [[  2, 50, 24, 13]],\r\n  H: [[  4, 25,  9,  8]] }, // 4\r\n\r\n{ L: [[  1,134,108, 13]],\r\n  M: [[  2, 67, 43, 12]],\r\n  Q: [[  2, 33, 15,  9],\r\n      [  2, 34, 16,  9]],\r\n  H: [[  2, 33, 11, 11],\r\n      [  2, 34, 12, 11]] }, // 5\r\n\r\n{ L: [[  2, 86, 68,  9]],\r\n  M: [[  4, 43, 27,  8]],\r\n  Q: [[  4, 43, 19, 12]],\r\n  H: [[  4, 43, 15, 14]] }, // 6\r\n\r\n{ L: [[  2, 98, 78, 10]],\r\n  M: [[  4, 49, 31,  9]],\r\n  Q: [[  2, 32, 14,  9],\r\n      [  4, 33, 15,  9]],\r\n  H: [[  4, 39, 13, 13],\r\n      [  1, 40, 14, 13]] }, // 7\r\n\r\n{ L: [[  2,121, 97, 12]],\r\n  M: [[  2, 60, 38, 11],\r\n      [  2, 61, 39, 11]],\r\n  Q: [[  4, 40, 18, 11],\r\n      [  2, 41, 19, 11]],\r\n  H: [[  4, 40, 14, 13],\r\n      [  2, 41, 15, 13]] }, // 8\r\n\r\n{ L: [[  2,146,116, 15]],\r\n  M: [[  3, 58, 36, 11],\r\n      [  2, 59, 37, 11]],\r\n  Q: [[  4, 36, 16, 10],\r\n      [  4, 37, 17, 10]],\r\n  H: [[  4, 36, 12, 12],\r\n      [  4, 37, 13, 12]] }, // 9\r\n\r\n{ L: [[  2, 86, 68,  9],\r\n      [  2, 87, 69,  9]],\r\n  M: [[  4, 69, 43, 13],\r\n      [  1, 70, 44, 13]],\r\n  Q: [[  6, 43, 19, 12],\r\n      [  2, 44, 20, 12]],\r\n  H: [[  6, 43, 15, 14],\r\n      [  2, 44, 16, 14]] }, // 10\r\n\r\n{ L: [[  4,101, 81, 10]],\r\n  M: [[  1, 80, 50, 15],\r\n      [  4, 81, 51, 15]],\r\n  Q: [[  4, 50, 22, 14],\r\n      [  4, 51, 23, 14]],\r\n  H: [[  3, 36, 12, 12],\r\n      [  8, 37, 13, 12]] }, // 11\r\n\r\n{ L: [[  2,116, 92, 12],\r\n      [  2,117, 93, 12]],\r\n  M: [[  6, 58, 36, 11],\r\n      [  2, 59, 37, 11]],\r\n  Q: [[  4, 46, 20, 13],\r\n      [  6, 47, 21, 13]],\r\n  H: [[  7, 42, 14, 14],\r\n      [  4, 43, 15, 14]] }, // 12\r\n\r\n{ L:[[  4,133,107, 13]],\r\n  M:[[  8, 59, 37, 11],\r\n     [  1, 60, 38, 11]],\r\n  Q:[[  8, 44, 20, 13],\r\n     [  4, 45, 21, 13]],\r\n  H:[[ 12, 33, 11, 14],\r\n     [  4, 34, 12, 14]] }, // 13\r\n\r\n{ L:[[  3,145,115, 15],\r\n     [  1,146,116, 15]],\r\n  M:[[  4, 64, 40, 12],\r\n     [  5, 65, 41, 12]],\r\n  Q:[[ 11, 36, 16, 10],\r\n     [  5, 37, 17, 10]],\r\n  H:[[ 11, 36, 12, 12],\r\n     [  5, 37, 13, 12]] }, // 14\r\n\r\n{ L:[[  5,109, 87, 11],\r\n     [  1,110, 88, 11]],\r\n  M:[[  5, 65, 41, 12],\r\n     [  5, 66, 42, 12]],\r\n  Q:[[  5, 54, 24, 15],\r\n     [  7, 55, 25, 15]],\r\n  H:[[ 11, 36, 12, 12],\r\n     [  7, 37, 13, 12]] }, // 15\r\n\r\n{ L:[[  5,122, 98, 12],\r\n     [  1,123, 99, 12]],\r\n  M:[[  7, 73, 45, 14],\r\n     [  3, 74, 46, 14]],\r\n  Q:[[ 15, 43, 19, 12],\r\n     [  2, 44, 20, 12]],\r\n  H:[[  3, 45, 15, 15],\r\n     [ 13, 46, 16, 15]] }, // 16\r\n\r\n{ L:[[  1,135,107, 14],\r\n     [  5,136,108, 14]],\r\n  M:[[ 10, 74, 46, 14],\r\n     [  1, 75, 47, 14]],\r\n  Q:[[  1, 50, 22, 14],\r\n     [ 15, 51, 23, 14]],\r\n  H:[[  2, 42, 14, 14],\r\n     [ 17, 43, 15, 14]] }, // 17\r\n\r\n{ L:[[  5,150,120, 15],\r\n     [  1,151,121, 15]],\r\n  M:[[  9, 69, 43, 13],\r\n     [  4, 70, 44, 13]],\r\n  Q:[[ 17, 50, 22, 14],\r\n     [  1, 51, 23, 14]],\r\n  H:[[  2, 42, 14, 14],\r\n     [ 19, 43, 15, 14]] }, // 18\r\n\r\n{ L:[[  3,141,113, 14],\r\n     [  4,142,114, 14]],\r\n  M:[[  3, 70, 44, 13],\r\n     [ 11, 71, 45, 13]],\r\n  Q:[[ 17, 47, 21, 13],\r\n     [  4, 48, 22, 13]],\r\n  H:[[  9, 39, 13, 13],\r\n     [ 16, 40, 14, 13]] }, // 19\r\n\r\n{ L:[[  3,135,107, 14],\r\n     [  5,136,108, 14]],\r\n  M:[[  3, 67, 41, 13],\r\n     [ 13, 68, 42, 13]],\r\n  Q:[[ 15, 54, 24, 15],\r\n     [  5, 55, 25, 15]],\r\n  H:[[ 15, 43, 15, 14],\r\n     [ 10, 44, 16, 14]] }, // 20\r\n\r\n{ L:[[  4,144,116, 14],\r\n     [  4,145,117, 14]],\r\n  M:[[ 17, 68, 42, 13]],\r\n  Q:[[ 17, 50, 22, 14],\r\n     [  6, 51, 23, 14]],\r\n  H:[[ 19, 46, 16, 15],\r\n     [  6, 47, 17, 15]] }, // 21\r\n\r\n{ L:[[  2,139,111, 14],\r\n     [  7,140,112, 14]],\r\n  M:[[ 17, 74, 46, 14]],\r\n  Q:[[  7, 54, 24, 15],\r\n     [ 16, 55, 25, 15]],\r\n  H:[[ 34, 37, 13, 12]] }, // 22\r\n\r\n{ L:[[  4,151,121, 15],\r\n     [  5,152,122, 15]],\r\n  M:[[  4, 75, 47, 14],\r\n     [ 14, 76, 48, 14]],\r\n  Q:[[ 11, 54, 24, 15],\r\n     [ 14, 55, 25, 15]],\r\n  H:[[ 16, 45, 15, 15],\r\n     [ 14, 46, 16, 15]] }, // 23\r\n\r\n{ L:[[  6,147,117, 15],\r\n     [  4,148,118, 15]],\r\n  M:[[  6, 73, 45, 14],\r\n     [ 14, 74, 46, 14]],\r\n  Q:[[ 11, 54, 24, 15],\r\n     [ 16, 55, 25, 15]],\r\n  H:[[ 30, 46, 16, 15],\r\n     [  2, 47, 17, 15]] }, // 24\r\n\r\n{ L:[[  8,132,106, 13],\r\n     [  4,133,107, 13]],\r\n  M:[[  8, 75, 47, 14],\r\n     [ 13, 76, 48, 14]],\r\n  Q:[[  7, 54, 24, 15],\r\n     [ 22, 55, 25, 15]],\r\n  H:[[ 22, 45, 15, 15],\r\n     [ 13, 46, 16, 15]] }, // 25\r\n\r\n{ L:[[ 10,142,114, 14],\r\n     [  2,143,115, 14]],\r\n  M:[[ 19, 74, 46, 14],\r\n     [  4, 75, 47, 14]],\r\n  Q:[[ 28, 50, 22, 14],\r\n     [  6, 51, 23, 14]],\r\n  H:[[ 33, 46, 16, 15],\r\n     [  4, 47, 17, 15]] }, // 26\r\n\r\n{ L:[[  8,152,122, 15],\r\n     [  4,153,123, 15]],\r\n  M:[[ 22, 73, 45, 14],\r\n     [  3, 74, 46, 14]],\r\n  Q:[[  8, 53, 23, 15],\r\n     [ 26, 54, 24, 15]],\r\n  H:[[ 12, 45, 15, 15],\r\n     [ 28, 46, 16, 15]] }, // 27\r\n\r\n{ L:[[  3,147,117, 15],\r\n     [ 10,148,118, 15]],\r\n  M:[[  3, 73, 45, 14],\r\n     [ 23, 74, 46, 14]],\r\n  Q:[[  4, 54, 24, 15],\r\n     [ 31, 55, 25, 15]],\r\n  H:[[ 11, 45, 15, 15],\r\n     [ 31, 46, 16, 15]] }, // 28\r\n\r\n{ L:[[  7,146,116, 15],\r\n     [  7,147,117, 15]],\r\n  M:[[ 21, 73, 45, 14],\r\n     [  7, 74, 46, 14]],\r\n  Q:[[  1, 53, 23, 15],\r\n     [ 37, 54, 24, 15]],\r\n  H:[[ 19, 45, 15, 15],\r\n     [ 26, 46, 16, 15]] }, // 29\r\n\r\n{ L:[[  5,145,115, 15],\r\n     [ 10,146,116, 15]],\r\n  M:[[ 19, 75, 47, 14],\r\n     [ 10, 76, 48, 14]],\r\n  Q:[[ 15, 54, 24, 15],\r\n     [ 25, 55, 25, 15]],\r\n  H:[[ 23, 45, 15, 15],\r\n     [ 25, 46, 16, 15]] }, // 30\r\n\r\n{ L:[[ 13,145,115, 15],\r\n     [  3,146,116, 15]],\r\n  M:[[  2, 74, 46, 14],\r\n     [ 29, 75, 47, 14]],\r\n  Q:[[ 42, 54, 24, 15],\r\n     [  1, 55, 25, 15]],\r\n  H:[[ 23, 45, 15, 15],\r\n     [ 28, 46, 16, 15]] }, // 31\r\n\r\n{ L:[[ 17,145,115, 15]],\r\n  M:[[ 10, 74, 46, 14],\r\n     [ 23, 75, 47, 14]],\r\n  Q:[[ 10, 54, 24, 15],\r\n     [ 35, 55, 25, 15]],\r\n  H:[[ 19, 45, 15, 15],\r\n     [ 35, 46, 16, 15]] }, // 32\r\n\r\n{ L:[[ 17,145,115, 15],\r\n     [  1,146,116, 15]],\r\n  M:[[ 14, 74, 46, 14],\r\n     [ 21, 75, 47, 14]],\r\n  Q:[[ 29, 54, 24, 15],\r\n     [ 19, 55, 25, 15]],\r\n  H:[[ 11, 44, 15, 15],\r\n     [ 46, 45, 16, 15]] }, // 33\r\n\r\n{ L:[[ 13,145,115, 15],\r\n     [  6,146,116, 15]],\r\n  M:[[ 14, 74, 46, 14],\r\n     [ 23, 75, 47, 14]],\r\n  Q:[[ 44, 54, 24, 15],\r\n     [  7, 55, 25, 15]],\r\n  H:[[ 59, 46, 16, 15],\r\n     [  1, 47, 17, 15]] }, // 34\r\n\r\n{ L:[[ 12,151,121, 15],\r\n     [  7,152,122, 15]],\r\n  M:[[ 12, 75, 47, 14],\r\n     [ 26, 76, 48, 14]],\r\n  Q:[[ 39, 54, 24, 15],\r\n     [ 14, 55, 25, 15]],\r\n  H:[[ 22, 45, 15, 15],\r\n     [ 41, 46, 16, 15]] }, // 35\r\n\r\n{ L:[[  6,151,121, 15],\r\n     [ 14,152,122, 15]],\r\n  M:[[  6, 75, 47, 14],\r\n     [ 34, 76, 48, 14]],\r\n  Q:[[ 46, 54, 24, 15],\r\n     [ 10, 55, 25, 15]],\r\n  H:[[  2, 45, 15, 15],\r\n     [ 64, 46, 16, 15]] }, // 36\r\n\r\n{ L:[[ 17,152,122, 15],\r\n     [  4,153,123, 15]],\r\n  M:[[ 29, 74, 46, 14],\r\n     [ 14, 75, 47, 14]],\r\n  Q:[[ 49, 54, 24, 15],\r\n     [ 10, 55, 25, 15]],\r\n  H:[[ 24, 45, 15, 15],\r\n     [ 46, 46, 16, 15]] }, // 37\r\n\r\n{ L:[[  4,152,122, 15],\r\n     [ 18,153,123, 15]],\r\n  M:[[ 13, 74, 46, 14],\r\n     [ 32, 75, 47, 14]],\r\n  Q:[[ 48, 54, 24, 15],\r\n     [ 14, 55, 25, 15]],\r\n  H:[[ 42, 45, 15, 15],\r\n     [ 32, 46, 16, 15]] }, // 38\r\n\r\n{ L:[[ 20,147,117, 15],\r\n     [  4,148,118, 15]],\r\n  M:[[ 40, 75, 47, 14],\r\n     [  7, 76, 48, 14]],\r\n  Q:[[ 43, 54, 24, 15],\r\n     [ 22, 55, 25, 15]],\r\n  H:[[ 10, 45, 15, 15],\r\n     [ 67, 46, 16, 15]] }, // 39\r\n\r\n{ L:[[ 19,148,118, 15],\r\n     [  6,149,119, 15]],\r\n  M:[[ 18, 75, 47, 14],\r\n     [ 31, 76, 48, 14]],\r\n  Q:[[ 34, 54, 24, 15],\r\n     [ 34, 55, 25, 15]],\r\n  H:[[ 20, 45, 15, 15],\r\n     [ 61, 46, 16, 15]] } // 40\r\n];\r\n\r\n\r\nexport const alignmentPatterns = [\r\n  [], // 0\r\n  [], // 1\r\n  [6,18], // 2 (12)\r\n  [6,22], // 3 (16)\r\n  [6,26], // 4 (20)\r\n  [6,30], // 5 (24)\r\n  [6,34], // 6 (28)\r\n  [6,22,38], //  7 (16)\r\n  [6,24,42], //  8 (18)\r\n  [6,26,46], //  9 (20)\r\n  [6,28,50], // 10 (22)\r\n  [6,30,54], // 11 (24)\r\n  [6,32,58], // 12 (26)\r\n  [6,34,62], // 13 (28)\r\n  [6,26,46,66], // 14 (20)\r\n  [6,26,48,70], // 15 (20,22)\r\n  [6,26,50,74], // 16 (20,24)\r\n  [6,30,54,78], // 17 (24)\r\n  [6,30,56,82], // 18 (24,26)\r\n  [6,30,58,86], // 19 (24,28)\r\n  [6,34,62,90], // 20 (28)\r\n  [6,28,50,72, 94], // 21 (22)\r\n  [6,26,50,74, 98], // 22 (20,24)\r\n  [6,30,54,78,102], // 23 (24)\r\n  [6,28,54,80,106], // 24 (22,26)\r\n  [6,32,58,84,110], // 25 (26)\r\n  [6,30,58,86,114], // 26 (24,28)\r\n  [6,34,62,90,118], // 27 (28)\r\n  [6,26,50,74, 98,122], // 28 (20,24)\r\n  [6,30,54,78,102,126], // 29 (24)\r\n  [6,26,52,78,104,130], // 30 (20,26)\r\n  [6,30,56,82,108,134], // 31 (24,26)\r\n  [6,34,60,86,112,138], // 32 (28,26)\r\n  [6,30,58,86,114,142], // 33 (24,28)\r\n  [6,34,62,90,118,146], // 34 (28)\r\n  [6,30,54,78,102,126,150], // 35 (24)\r\n  [6,24,50,76,102,128,154], // 36 (18,26)\r\n  [6,28,54,80,106,132,158], // 37 (22,26)\r\n  [6,32,58,84,110,136,162], // 38 (26)\r\n  [6,26,54,82,110,138,166], // 39 (20,28)\r\n  [6,30,58,86,114,142,170]  // 40 (24,28)\r\n];\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './barcode/BarcodeBase';\r\n\r\nexport * from './barcode/Code39';\r\nexport * from './barcode/Code128';\r\nexport * from './barcode/Ean';\r\nexport * from './barcode/Itf';\r\nexport * from './barcode/JapanPostal';\r\nexport * from './barcode/Nw7';\r\n\r\nexport * from './barcode/Qr';\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { Integer53 }           from 'red-agate-util/modules/types/Integer53';\r\nimport { ArrayPolynomialRing } from \"../math/ArrayPolynomialRing\";\r\nimport { Gf2Ext }              from \"../math/Gf2Ext\";\r\nimport { Gf2PrimeFieldHelper } from \"../math/Gf2PrimeHelper\";\r\nimport { Equation }            from \"../math/Equation\";\r\n\r\n\r\n/**\r\n * BCH code encoder / decoder.\r\n *\r\n * Generate error correction redundant code, Correct errors from redundant code.\r\n */\r\nexport class BCH {\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(public field: Gf2Ext, gx: number, public aDegree: number = 1) {\r\n        this.gx = gx;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _gx: number;\r\n\r\n    /**\r\n     *\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _gxLength: number;\r\n\r\n    /**\r\n     *\r\n     */\r\n    public set gx(fx: number) {\r\n        this._gx = fx;\r\n        this._gxLength = Integer53.highestBit(fx) + 1;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get gx(): number {\r\n        return this._gx;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get gxLength(): number {\r\n        return this._gxLength;\r\n    }\r\n\r\n\r\n    /**\r\n     * list generator polynomials.\r\n     *\r\n     * generator polynominal that correct t places of error is:\r\n     * G(X) = (x-a^1)(x-a^2) ... (x-a^2t)F(x)\r\n     *      = P_i1(x)P_i2(x) ... P_iq(x)\r\n     *\r\n     * a      : generator element of GF(2^m)\r\n     * P_i(x) : one of GF(2) m_th or lower order minimal prime polynomials\r\n     *\r\n     * -> substitute a^j for each P_i(x) and get roots of P_i(x).\r\n     * -> P_i(x) = (x-a^j_1)(x-a^j_2)...(x-a^j_n) = 0\r\n     */\r\n    public static getGx(field: Gf2Ext, numCorrect: number, aDegree: number = 1): number {\r\n        const nth = Math.log2(field.MODULO);\r\n        const pxs = Gf2PrimeFieldHelper.listPx(nth, true);\r\n        const roots: number[] = [];\r\n\r\n        const c = Math.min(2 * numCorrect, field.MODULO - 1);\r\n        for (let i = 0; i < field.MODULO - 1; i++) {\r\n            for (let j = 0; j < pxs.length; j++) {\r\n                const px = pxs[j];\r\n                let v = px & 1;\r\n                for (let k = 1; k <= nth; k++) {\r\n                    v = field.add(v, (Integer53.bitRShift(px, k) & 1) ? field.exp(k * i) : 0);\r\n                }\r\n                if (v === 0) {\r\n                    roots[i] = px;\r\n                }\r\n            }\r\n        }\r\n\r\n        let gx = roots[aDegree];\r\n        for (let i = 1; i < c; i++) {\r\n            let d = false;\r\n            const r = roots[i + aDegree];\r\n            for (let j = i - 1; j >= 0; j--) {\r\n                if (r === roots[j + aDegree]) {\r\n                    d = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (d) continue;\r\n            gx = Gf2PrimeFieldHelper.bitPolyMul(gx, r);\r\n        }\r\n        return gx;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public encode(message: number): number {\r\n        return Gf2PrimeFieldHelper.bitPolyDiv(message, this._gx, this._gxLength - 1).r;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public decode(received: number, maxErrors: number): number {\r\n        // calculate syndromes\r\n        const receivedLength = this.field.MODULO - 1;\r\n        let hasError = false;\r\n        const ss: number[] = [];\r\n        ss.length = maxErrors * 2;\r\n\r\n        for (let i = 0; i < ss.length; i++) {\r\n            let v = (received & 1) * this.field.ONE;\r\n            for (let j = 1; j < receivedLength; j++) {\r\n                const a = this.field.exp((this.aDegree + i) * j);\r\n                v = this.field.add((Integer53.bitRShift(received, j) & 1) * a, v);\r\n            }\r\n            ss[i] = v;\r\n            hasError = hasError || this.field.noteq(v, this.field.ZERO);\r\n        }\r\n        if (! hasError)\r\n            return Integer53.bitRShift(received, this._gxLength - 1);\r\n\r\n        const equ = new Equation<number[], number>(new ArrayPolynomialRing(this.field));\r\n\r\n        // calculate number of errors\r\n        // det|S_(k-1)| = 0;\r\n        //\r\n        //                 [k-1]     [k-2]            [0]\r\n        //\r\n        //             |ss_(k-1)  ss_(k-2)   ... ss_0    |\r\n        // |S_(k-1)| = | ...                             |\r\n        //             |ss_(2k-2) ss_(2k-3)  ... ss_(k-1)|\r\n        //\r\n        // number of errors = k-1\r\n        let errors = Math.floor(ss.length / 2);\r\n        const mat: number[][] = [];\r\n        for (; errors > 0; errors--) {\r\n            mat.length = 0;\r\n            for (let i = 0; i < errors; i++) {\r\n                mat[i] = ss.slice(i, i + errors);\r\n            }\r\n            if (this.field.noteq(equ.det(mat, 0, 0, mat.length), this.field.ZERO)) break;\r\n        }\r\n        if (errors === 0) return Integer53.bitRShift(received, this._gxLength - 1);\r\n\r\n        // calculate error locations\r\n        //\r\n        //       [k]     [k-1]            [1]              negate([0])\r\n        //\r\n        // |ss_(k-1)  ss_(k-2)   ... ss_0    | |l_0    |   |ss_k     |\r\n        // | ...                             | |       | = |         |\r\n        // |ss_(2k-2) ss_(2k-3)  ... ss_(k-1)| |l_(k-1)|   |ss_(2k-1)|\r\n        //\r\n        // error locations polynominal is:\r\n        // l(x) = 1 + l_0*x^1 + l_1*x^2 + ... + l_(k-1)*x^k\r\n        //\r\n        // error locations are where   l(a^(-(m_i))) = 0 ; (0 <= i <= k-1).\r\n        for (let i = 0; i < errors; i++) {\r\n            mat[i] = [this.field.neg(ss[errors + i])].concat(mat[i]);\r\n        }\r\n\r\n        const lx: number[] = [this.field.ONE].concat(equ.solve(mat, 0, 0, errors).reverse());\r\n        const locations: number[] = [];\r\n        for (let i = 0; i < this.field.MODULO - 1; i++) {\r\n            let v: number = lx[0];\r\n            for (let j = 1; j < lx.length; j++) {\r\n                const a = this.field.exp((this.aDegree + i) * j);\r\n                v = this.field.add(this.field.mul(lx[j], a), v);\r\n            }\r\n            if (this.field.eq(this.field.ZERO, v)) {\r\n                locations.push(this.field.MODULO - 1 - i - this.aDegree);\r\n            }\r\n        }\r\n\r\n        // correct errors\r\n        // solve equation to let syndromes zero.\r\n        // reverse bit of error locations.\r\n        //\r\n        // corrected(x) = received(x) + e(x)\r\n        let ex = 0;\r\n        for (let i = 0; i < errors; i++) {\r\n            ex += 2 ** locations[i];\r\n        }\r\n        received = Integer53.bitXor(received, ex);\r\n\r\n        return Integer53.bitRShift(received, this._gxLength - 1);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class CRC32 {\r\n    private table: number[] = [];\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(public reversedGx: number = 0x0edb88320) {\r\n        for (let i = 0; i < 256; i++) {\r\n            let c = i;\r\n            for (let j = 0; j < 8; j++) {\r\n                c = (c & 1) ? (reversedGx ^ (c >>> 1)) : (c >>> 1);\r\n            }\r\n            this.table[i] = c;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public calc(message: ArrayLike<number>): number {\r\n        let c = 0x0ffffffff;\r\n        for (let i = 0; i < message.length; i++) {\r\n            c = this.table[(c ^ message[i]) & 0x00ff] ^ (c >>> 8);\r\n        }\r\n        return c ^ 0x0ffffffff;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { WritableArrayLike }   from \"red-agate-util/modules/types/WritableArrayLike\";\r\nimport { FiniteField }         from \"../math/Field\";\r\nimport { ArrayPolynomialRing } from \"../math/ArrayPolynomialRing\";\r\nimport { Gf2Ext }              from \"../math/Gf2Ext\";\r\nimport { Equation }            from \"../math/Equation\";\r\n\r\n\r\n\r\n/**\r\n * Reed-Solomon code encoder / decoder.\r\n *\r\n * Generate error correction redundant code, Correct errors from redundant code.\r\n */\r\nexport class ReedSolomon<U> {\r\n\r\n    /**\r\n     *\r\n     */\r\n    private poly: ArrayPolynomialRing<U>;\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(public field: FiniteField<U>, public gx: U[], public aDegree: number = 0) {\r\n        this.poly = new ArrayPolynomialRing(field);\r\n    }\r\n\r\n\r\n    /**\r\n     * list generator polynomials.\r\n     *\r\n     * generator polynominal that correct (n-1)/2 places of error is:\r\n     * G(X) = (x-a^0)(x-a^1) ... (x-a^n)\r\n     */\r\n    public static listGx<F>(field: FiniteField<F>, gxList: F[][] | undefined, nth: number, aDegree: number = 0): F[][] {\r\n        const poly = new ArrayPolynomialRing(field);\r\n        const gxs: F[][] = gxList || [];\r\n        let   u: F[] = [field.exp(aDegree), field.ONE];\r\n        const v: F[] = [field.exp(aDegree + 1), field.ONE];\r\n\r\n        if (gxs.length === 0) {\r\n            gxs.push(u);\r\n        } else {\r\n            u = gxs[gxs.length - 1];\r\n            v[0] = field.exp(aDegree + gxs.length);\r\n        }\r\n\r\n        for (let i = gxs.length + 1; i <= nth; i++) {\r\n            u = poly.mul(u, v);\r\n            gxs.push(u);\r\n            v[0] = field.exp(aDegree + i);\r\n        }\r\n        return gxs;\r\n    }\r\n\r\n\r\n    /**\r\n     * list generator polynomials.\r\n     *\r\n     * generator polynominal that correct (n-1)/2 places of error is:\r\n     * G(X) = (x-a^0)(x-a^1) ... (x-a^n)\r\n     */\r\n    public static getGx<F>(field: FiniteField<F>, nth: number, aDegree: number = 0): F[] {\r\n        const poly = new ArrayPolynomialRing(field);\r\n        let   u: F[] = [field.exp(aDegree), field.ONE];\r\n        const v: F[] = [field.exp(aDegree + 1), field.ONE];\r\n\r\n        for (let i = 2; i <= nth; i++) {\r\n            u = poly.mul(u, v);\r\n            v[0] = field.exp(aDegree + i);\r\n        }\r\n        return u;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public encode(message: ArrayLike<U>): U[] {\r\n        return this.poly.divmod(message, this.gx, this.gx.length - 1).r;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public decode(received: WritableArrayLike<U>, maxErrors: number = 0): U[] {\r\n        // calculate syndromes\r\n        let hasError = false;\r\n        const ss: U[] = [];\r\n        ss.length = this.gx.length - 1;\r\n        if (ss.length <= maxErrors * 2) ss.length = maxErrors * 2;\r\n\r\n        for (let i = 0; i < ss.length; i++) {\r\n            let v = received[0];\r\n            for (let j = 1; j < received.length; j++) {\r\n                const a = this.field.exp((this.aDegree + i) * j);\r\n                v = this.field.add(this.field.mul(received[j], a), v);\r\n            }\r\n            ss[i] = v;\r\n            hasError = hasError || this.field.noteq(v, this.field.ZERO);\r\n        }\r\n        if (! hasError)\r\n            return Array.prototype.slice.call(received, this.gx.length - 1);\r\n\r\n        const field = this.poly.field as FiniteField<U>;\r\n        const equ = new Equation<U[], U>(this.poly);\r\n\r\n        // calculate number of errors\r\n        // det|S_(k-1)| = 0;\r\n        //\r\n        //                 [k-1]     [k-2]            [0]\r\n        //\r\n        //             |ss_(k-1)  ss_(k-2)   ... ss_0    |\r\n        // |S_(k-1)| = | ...                             |\r\n        //             |ss_(2k-2) ss_(2k-3)  ... ss_(k-1)|\r\n        //\r\n        // number of errors = k-1\r\n        let errors = Math.floor(ss.length / 2);\r\n        let mat: U[][] = [];\r\n        for (; errors > 0; errors--) {\r\n            mat.length = 0;\r\n            for (let i = 0; i < errors; i++) {\r\n                mat[i] = ss.slice(i, i + errors);\r\n            }\r\n            if (field.noteq(equ.det(mat, 0, 0, mat.length), field.ZERO)) break;\r\n        }\r\n        if (errors === 0) return Array.prototype.slice.call(received, this.gx.length - 1);\r\n\r\n        // calculate error locations\r\n        //\r\n        //       [k]     [k-1]            [1]              negate([0])\r\n        //\r\n        // |ss_(k-1)  ss_(k-2)   ... ss_0    | |l_0    |   |ss_k     |\r\n        // | ...                             | |       | = |         |\r\n        // |ss_(2k-2) ss_(2k-3)  ... ss_(k-1)| |l_(k-1)|   |ss_(2k-1)|\r\n        //\r\n        // error locations polynominal is:\r\n        // l(x) = 1 + l_0*x^1 + l_1*x^2 + ... + l_(k-1)*x^k\r\n        //\r\n        // error locations are where   l(a^(-(m_i))) = 0 ; (0 <= i <= k-1).\r\n        for (let i = 0; i < errors; i++) {\r\n            mat[i] = [field.neg(ss[errors + i])].concat(mat[i]);\r\n        }\r\n\r\n        const lx: U[] = [field.ONE].concat(equ.solve(mat, 0, 0, errors).reverse());\r\n        const locations: number[] = [];\r\n        for (let i = 0; i < field.MODULO - 1; i++) {\r\n            let v: U = lx[0];\r\n            for (let j = 1; j < lx.length; j++) {\r\n                const a = field.exp((this.aDegree + i) * j);\r\n                v = field.add(field.mul(lx[j], a), v);\r\n            }\r\n            if (field.eq(field.ZERO, v)) {\r\n                locations.push(field.MODULO - 1 - i - this.aDegree);\r\n            }\r\n        }\r\n\r\n        // correct errors\r\n        // solve equation to let syndromes zero.\r\n        //\r\n        //                [k]               [k-1]                [1]              negate([0])\r\n        //\r\n        // |a^(m_(k-1)*   0 )  a^(m_k-2) *    0 )  ... a^(m_0*   0 )| |e_(k-1)|   |ss_0    |\r\n        // | ...                                                    | |       | = |        |\r\n        // |a^(m_(k-1)*(k-1))  a^(m_k-2) * (k-1))  ... a^(m_0*(k-1))| |e_0    |   |ss_(k-1)|\r\n        //\r\n        // errors polynominal is:\r\n        // e(x) = e_0*x^m_0 + e_1*x^m_1 + e_(k-1)*x^m(k-1)\r\n        //\r\n        // corrected(x) = received(x) + e(x)\r\n        mat = [];\r\n        for (let i = 0; i < errors; i++) {\r\n            mat[i] = [field.neg(ss[i])];\r\n            for (let j = 0; j < locations.length; j++) {\r\n                mat[i].push(field.exp((this.aDegree + i) * locations[j]));\r\n            }\r\n        }\r\n        const ex = equ.solve(mat, 0, 0, errors);\r\n        for (let i = 0; i < errors; i++) {\r\n            received[locations[i]] = field.add(received[locations[i]], ex[i]);\r\n        }\r\n\r\n        return Array.prototype.slice.call(received, this.gx.length - 1);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './math/ArrayPolynomialRing';\r\nexport * from './math/Equation';\r\nexport * from './math/Field';\r\nexport * from './math/Gf2Ext';\r\nexport * from './math/Gf2PrimeHelper';\r\nexport * from './math/GfPrime';\r\nexport * from './math/RealField';\r\n\r\nexport * from './error-correction/BCH';\r\nexport * from './error-correction/CRC32';\r\nexport * from './error-correction/ReedSolomon';\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { PolynomialRing, Field } from \"./Field\";\r\nimport { WritableArrayLike }     from \"red-agate-util/modules/types/WritableArrayLike\";\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class ArrayPolynomialRing<U> implements PolynomialRing<U[], U> {\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private _zero: any[];\r\n    // tslint:disable-next-line:variable-name\r\n    private _one: any[];\r\n    // tslint:disable-next-line:variable-name\r\n    private _nan: any[];\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(public field: Field<U>) {\r\n        this._zero = [field.ZERO];\r\n        this._one = [field.ONE];\r\n        this._nan = [field.NaN];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public listPx(nth: number): U[][] {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n\r\n\r\n    public getAt(x: ArrayLike<U>, index: number): U {\r\n        return x[index];\r\n    }\r\n\r\n    public setAt(x: U[], index: number, v: U): U[] {\r\n        x[index] = v;\r\n        return x;\r\n    }\r\n\r\n    public slice(x: U[], start: number, end: number): U[] {\r\n        return x.slice(start, end);\r\n    }\r\n\r\n    public map(x: ArrayLike<U>, fn: (x: U) => U): U[] {\r\n        return this.mapToSelf(Array.from(x), fn);\r\n    }\r\n\r\n    public mapToSelf(x: U[], fn: (x: U) => U): U[] {\r\n        for (let i = 0; i < x.length; i++) x[i] = fn(x[i]);\r\n        return x;\r\n    }\r\n\r\n    public newNthPolynomial(n: number): U[] {\r\n        const r: U[] = [];\r\n        r.length = n + 1;\r\n        r.fill(this.field.ZERO);\r\n        return r;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ZERO(): U[] {\r\n        return Array.from(this._zero);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ONE(): U[] {\r\n        return Array.from(this._one);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get NaN(): U[] {\r\n        return this._nan;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public normalize(x: ArrayLike<U>): U[] {\r\n        return (Array.isArray(x) ? x : Array.from(x)).map(v => this.field.normalize(v));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public isNaN(x: ArrayLike<U>): boolean {\r\n        if (x !== this.NaN) {\r\n            if (x.length === 1 && x[0] === this.field.NaN) return true;\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public eq(x: ArrayLike<U>, y: ArrayLike<U>): boolean {\r\n        if (this.isNaN(x) || this.isNaN(y)) return false;\r\n        const zero = this.field.ZERO;\r\n        const len = Math.max(x.length, y.length);\r\n        for (let i = 0; i < len; i++) {\r\n            if (! this.field.eq(\r\n                x[i] !== void(0) ? x[i] : zero,\r\n                y[i] !== void(0) ? y[i] : zero)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public noteq(x: ArrayLike<U>, y: ArrayLike<U>): boolean {\r\n        return !this.eq(x, y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public neg(x: ArrayLike<U>): U[] {\r\n        const r: U[] = [];\r\n        for (let i = 0; i < x.length; i++) {\r\n            r[i] = this.field.neg(x[i]);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public add(x: ArrayLike<U>, y: ArrayLike<U>): U[] {\r\n        const r: U[] = [];\r\n        const zero = this.field.ZERO;\r\n        r.length = Math.max(x.length, y.length);\r\n        for (let i = 0; i < r.length; i++) {\r\n            r[i] = this.field.add(\r\n                x[i] !== void(0) ? x[i] : zero,\r\n                y[i] !== void(0) ? y[i] : zero);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public sub(x: ArrayLike<U>, y: ArrayLike<U>): U[] {\r\n        const r: U[] = [];\r\n        const zero = this.field.ZERO;\r\n        r.length = Math.max(x.length, y.length);\r\n        for (let i = 0; i < r.length; i++) {\r\n            r[i] = this.field.sub(\r\n                x[i] !== void(0) ? x[i] : zero,\r\n                y[i] !== void(0) ? y[i] : zero);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mul(x: ArrayLike<U>, y: ArrayLike<U>): U[] {\r\n        const r: U[] = [];\r\n        const zero = this.field.ZERO;\r\n        r.length = x.length + y.length - 1;\r\n        for (let i = 0; i < r.length; i++) {\r\n            r[i] = zero;\r\n        }\r\n        for (let i = 0; i < y.length; i++) {\r\n            for (let j = 0; j < x.length; j++) {\r\n                r[j + i] = this.field.add(r[j + i], this.field.mul(x[j], y[i]));\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mod(x: WritableArrayLike<U>, y: ArrayLike<U>, extendDividendLength: number = 0): U[] {\r\n        return this.divmod(x, y, extendDividendLength).r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public divmod(x: WritableArrayLike<U>, y: ArrayLike<U>, extendDividendLength: number = 0):\r\n                 {q: U[], r: U[], divisible: boolean} {\r\n        x = Array.from(x);\r\n        const zero = this.field.ZERO;\r\n\r\n        if (extendDividendLength > 0) {\r\n            const ext: U[] = [];\r\n            ext.length = extendDividendLength;\r\n            for (let i = 0; i < extendDividendLength; i++) {\r\n                ext[i] = zero;\r\n            }\r\n            x = ext.concat(x as U[]);\r\n        }\r\n\r\n        let ylen = y.length;\r\n        for (let i = 0; i < ylen; i++, ylen--) {\r\n            if (y[ylen - 1] !== void(0) &&\r\n                this.field.noteq(y[ylen - 1], zero)) break;\r\n        }\r\n        if (ylen === 0) return {q: this.NaN, r: this.NaN, divisible: false};\r\n\r\n        const n: number = x.length - ylen + 1;\r\n        const q: U[] = [];\r\n        q.length = n;\r\n        for (let i = 0; i < n; i++) {\r\n            if (this.field.noteq(x[x.length - 1 - i], zero)) {\r\n                const c = this.field.divmod(x[x.length - 1 - i], y[ylen - 1]);\r\n                q[n - 1 - i] = c.q;\r\n                for (let j = 0; j < ylen - 1; j++) {\r\n                    x[n - 1 - i + j] = this.field.sub(x[n - 1 - i + j], this.field.mul(y[j], c.q));\r\n                }\r\n                x[x.length - 1 - i] = c.r;\r\n            } else {\r\n                x[x.length - 1 - i] = zero;\r\n            }\r\n        }\r\n\r\n        let divisible = true;\r\n        const r: U[] = [];\r\n        r.length = ylen - 1;\r\n        for (let i = 0; i < r.length; i++) {\r\n            if (x[i]) divisible = false;\r\n            r[i] = x[i];\r\n        }\r\n        return {q, r, divisible};\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public pow(a: ArrayLike<U>, x: number): U[] {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public exp(x: number): U[] {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n}\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class NumberArrayPolynomialRing extends ArrayPolynomialRing<number> {\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { PolynomialRing } from \"./Field\";\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class Equation<T, V> {\r\n\r\n    constructor(public ring: PolynomialRing<T, V>) {\r\n    }\r\n\r\n    /**\r\n     * solve a equation.\r\n     *\r\n     *                  [0]             [1]                   [n]\r\n     *\r\n     *   S0     =     S_0_0 +     S_0_1*x_1 + ... +     S_0_n*x_n = 0\r\n     *   S1     =     S_1_0 +     S_1_1*x_1 + ... +     S_1_n*x_n = 0\r\n     *     ...\r\n     *   S(n-1) = S_(n-1)_0 + S_(n-1)_1*x_1 + ... + S_(n-1)_n*x_n = 0\r\n     *\r\n     *\r\n     * matrix expression:\r\n     *        [n]          [n-1]            [1]           negate([0])\r\n     *\r\n     * |S_0_n      S_0_(n-1)      ...  S_0_1    | |x_n|   |S_0_0    |\r\n     * | ...                                    | |   | = |         |\r\n     * |S_(n-1)_n  S_(n-1)_(n-1)  ...  S_(n-1)_1| |x_1|   |S_(n-1)_0|\r\n     *\r\n     *\r\n     * equation[n][n+1: coefficient of x^0,...,x^n]\r\n     * equation is stored into n+1 x n matrix\r\n     * [offsetY <=  <= offsetY + n - 1][offsetX <=  <= offsetX + n]\r\n     *\r\n     * returns [x_1, x_2, ... , x_n]\r\n     */\r\n    public solve(equation: T[], offsetX: number, offsetY: number, n: number): T {\r\n        const field = this.ring.field;\r\n\r\n        for (let i = 0; i < n; i++) {\r\n            let c = this.ring.getAt(equation[i], n - i);\r\n            if (field.eq(c, field.ZERO)) {\r\n                for (let j = i + 1; j < n; j++) {\r\n                    if (field.noteq(this.ring.getAt(equation[j], n - i), field.ZERO)) {\r\n                        const r = equation[i];\r\n                        equation[i] = equation[j];\r\n                        equation[j] = r;\r\n                        break;\r\n                    }\r\n                }\r\n                c = this.ring.getAt(equation[i], n - i);\r\n            }\r\n            if (field.eq(c, field.ZERO)) continue;\r\n\r\n            equation[i] = this.ring.mapToSelf(equation[i], v => field.div(v, c));\r\n            for (let j = i + 1; j < n; j++) {\r\n                const m = this.ring.getAt(equation[j], n - i);\r\n                const r = this.ring.map(equation[i], v => field.mul(v, m));\r\n                equation[j] = this.ring.sub(equation[j], r);\r\n            }\r\n        }\r\n\r\n        for (let i = n - 1; i >= 0; i--) {\r\n            const c = this.ring.getAt(equation[i], n - i);\r\n            if (field.eq(c, field.ZERO)) continue;\r\n\r\n            for (let j = 0; j < i; j++) {\r\n                const m = this.ring.getAt(equation[j], n - i);\r\n                const r = this.ring.map(equation[i], v => field.mul(v, m));\r\n                equation[j] = this.ring.sub(equation[j], r);\r\n            }\r\n        }\r\n\r\n        const ss = this.ring.newNthPolynomial(n - 1);\r\n        for (let i = 0; i < n; i++) {\r\n            if (field.eq(this.ring.getAt(equation[i], n - i), field.ZERO))\r\n                this.ring.setAt(ss, n - 1 - i, field.NaN);\r\n            else\r\n                this.ring.setAt(ss, n - 1 - i, field.neg(this.ring.getAt(equation[i], 0)));\r\n        }\r\n        return ss;\r\n    }\r\n\r\n    /**\r\n     * get determinant of n x n matrix.\r\n     * the determinant of matrix A is:\r\n     *\r\n     *               [n-1]           [n-2]                 [0]\r\n     *\r\n     *             | S_0_(n-1)       S_0_(n-2)       ...   S_0_0     |\r\n     *   det(A)  = | S_1_(n-1)       S_1_(n-2)       ...   S_1_0     |\r\n     *               ...\r\n     *             | S_(n-1)_(n-1)   S_(n-1)_(n-2)   ...   S_(n-1)_0 |\r\n     *\r\n     * argument matrix layout is:\r\n     *\r\n     *   | a  b |  = [[b, a], [d, c]]\r\n     *   | c  d |\r\n     *\r\n     * return value of 2x2 matrix's determinant is (ad - bc)\r\n     */\r\n    public det(matrix: T[], offsetX: number, offsetY: number, n: number): V {\r\n        const field = this.ring.field;\r\n        if (n <= 0) return field.NaN;\r\n\r\n        const fn: (mat: T[], len: number) => V = (mat: T[], len: number) => {\r\n            if (len < 2) {\r\n                return this.ring.getAt(mat[0], 0);\r\n            }\r\n            if (len === 2) {\r\n                // ad - bc\r\n                return field.sub(\r\n                    field.mul(this.ring.getAt(mat[0], 1), this.ring.getAt(mat[1], 0)),\r\n                    field.mul(this.ring.getAt(mat[1], 1), this.ring.getAt(mat[0], 0)));\r\n            }\r\n            let v = field.ZERO;\r\n            for (let i = 0; i < len; i++) {\r\n                const m2: T[] = [];\r\n                for (let j = 0; j < len; j++) {\r\n                    if (i === j) continue;\r\n                    m2.push(this.ring.slice(mat[j], 0, len - 1));\r\n                }\r\n                const sign = (len - 1 + len - i) % 2 ? 1 : -1;\r\n                const d = fn(m2, len - 1);\r\n                v = field.add(v, field.mul(\r\n                    this.ring.getAt(mat[i], len - 1),\r\n                    sign >= 0 ? d : field.neg(d)));\r\n            }\r\n            return v;\r\n        };\r\n\r\n        if (offsetX === 0) {\r\n            if (offsetY === 0) return fn(matrix, n);\r\n            else return fn(matrix.slice(offsetY), n);\r\n        }\r\n\r\n        const matr: T[] = [];\r\n        for (let i = 0; i < n; i++) {\r\n            matr.push(this.ring.slice(matrix[offsetY + i], offsetX, offsetX + n));\r\n        }\r\n        return fn(matr, n);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { FiniteField } from \"./Field\";\r\n\r\n\r\n/**\r\n * GF(2^n) ; Extension Finite Field\r\n */\r\nexport class Gf2Ext implements FiniteField<number> {\r\n    private expDict: number[] = [];\r\n    private  lnDict: number[] = [this.NaN];\r\n    private numElements: number;\r\n    private        mask: number;\r\n    private      maskLo: number;\r\n    private      maskHi: number;\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(private nth: number = 8, private px: number = 0x011d) {\r\n        let v: number = 1;\r\n        this.numElements = 2 ** nth; // 1 << nth\r\n        this.mask = this.numElements - 1;\r\n\r\n        this.expDict.length = this.mask;\r\n        this.lnDict.length  = this.numElements;\r\n\r\n        for (let i = 0; i < this.mask; i++) {\r\n            this.expDict[i] = v;\r\n            this.lnDict [v] = i;\r\n            v *= 2;                                 // left shift 1. polynomial multipy by alpha(=2).\r\n            if (v > this.mask) {                    // (v & ~this.mask)\r\n                v = ((v ^ px) & this.mask) >>> 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 53bits x & this.mask\r\n     */\r\n    private bitMask(x: number): number {\r\n        x = Math.abs(x);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n        return ((hiX & this.maskHi) >>> 0) * 4294967296 + ((loX & this.maskLo) >>> 0);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public checkGenerationResult(): boolean {\r\n        for (let i = 1; i < this.numElements; i++) {\r\n            if (this.lnDict[i] === void(0)) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * order of this field\r\n     */\r\n    public get MODULO(): number {\r\n        return this.numElements;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ZERO(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ONE(): number {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ALPHA(): number {\r\n        return 2;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get NaN(): number {\r\n        return Number.NaN;\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     */\r\n    public normalize(x: number): number {\r\n        return (x & this.mask) >>> 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public isNaN(x: number): boolean {\r\n        return Number.isNaN(x);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public eq(x: number, y: number): boolean {\r\n        return ((x & this.mask) >>> 0) === ((y & this.mask) >>> 0);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public noteq(x: number, y: number): boolean {\r\n        return ((x & this.mask) >>> 0) !== ((y & this.mask) >>> 0);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public neg(x: number): number {\r\n        return (x & this.mask) >>> 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public inv(x: number): number {\r\n        x = (x & this.mask) >>> 0;\r\n        return  (x === 0) ? this.NaN :\r\n            this.expDict[(this.mask - this.lnDict[x]) % this.mask];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public add(x: number, y: number): number {\r\n        return ((x ^ y) & this.mask) >>> 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public sub(x: number, y: number): number {\r\n        return ((x ^ y) & this.mask) >>> 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mul(x: number, y: number): number {\r\n        x = (x & this.mask) >>> 0;\r\n        y = (y & this.mask) >>> 0;\r\n        if (x === 0 || y === 0) return 0;\r\n        return this.expDict[(this.lnDict[x] + this.lnDict[y]) % this.mask];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public div(x: number, y: number): number {\r\n        x = (x & this.mask) >>> 0;\r\n        y = (y & this.mask) >>> 0;\r\n        if (y === 0) return this.NaN;\r\n        if (x === 0) return 0;\r\n        return this.expDict[\r\n            (this.lnDict[x] + ((this.mask - this.lnDict[y]) % this.mask))\r\n            % this.mask];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mod(x: number, y: number): number {\r\n        return (((y & this.mask) >>> 0) === 0) ? this.NaN : 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public divmod(x: number, y: number): {q: number, r: number, divisible: boolean} {\r\n        return (((y & this.mask) >>> 0) === 0) ? {\r\n            q: this.NaN,\r\n            r: this.NaN,\r\n            divisible: false\r\n        } : {\r\n            q: this.div(x, y),\r\n            r: 0,\r\n            divisible: true\r\n        };\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public pow(a: number, x: number): number {\r\n        a = this.normalize(a);\r\n        x = x % this.mask;\r\n        if (a === 0) {\r\n            return (x === 0) ? 1 : 0;\r\n        }\r\n        return (x >= 0)\r\n            ? this.exp(this.ln(a) * x)\r\n            : this.inv(this.exp(this.ln(a) * -x));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public log(a: number, x: number): number {\r\n        // y = log(a,pow(a,y))\r\n\r\n//        // log(a,x) = ln(x) / ln(a)\r\n//        let p = this.ln(x);\r\n//        let q = this.ln(a);\r\n//        return this.div(p, q); // don't work\r\n\r\n        const logDict: number[] = [this.NaN];\r\n        for (let y = 0; y < this.mask; y++) {\r\n            const v = this.pow(a, y);\r\n            if (logDict[v] === void(0)) logDict[v] = y;\r\n        }\r\n        const r = logDict[(x & this.mask) >>> 0];\r\n        return r !== void(0) ? r : this.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public exp(x: number): number {\r\n        return (x >= 0)\r\n            ? this.expDict[x % this.mask]\r\n            : this.inv(this.expDict[-x % this.mask]);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public ln(x: number): number {\r\n        return this.lnDict[(x & this.mask) >>> 0];\r\n    }\r\n}\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class Gf2e8Field extends Gf2Ext {\r\n    /**\r\n     *\r\n     */\r\n    constructor(px: number = 0x011d) {\r\n        super(8, px);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class Gf2e6Field extends Gf2Ext {\r\n    /**\r\n     *\r\n     */\r\n    constructor(px: number = 0x0043) {\r\n        super(6, px);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { PolynomialRing }    from \"./Field\";\r\nimport { Integer53 }         from \"red-agate-util/modules/types/Integer53\";\r\nimport { Gf2Ext }            from \"./Gf2Ext\";\r\nimport { GfPrime }           from \"./GfPrime\";\r\nimport { WritableArrayLike } from \"red-agate-util/modules/types/WritableArrayLike\";\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class Gf2PrimeFieldHelper {\r\n\r\n    public static listPx(nth: number, listAll: boolean = false): number[] {\r\n        // GF(p^m)      's primitive polynomials P(X) are:\r\n        // x^(p^m-1)-1  's factor that degree of m irreducible polynomial\r\n        // (p:prime, m:degree of field extension)\r\n        const numElements = 2 ** nth; // 1 << nth\r\n        const mask = numElements - 1;\r\n\r\n        const zx: number[] = [];\r\n        const pxs: number[] = [];\r\n        zx[mask] = 1;\r\n        zx[0] = 1;\r\n\r\n        const n = 2 ** (nth + 1);\r\n        for (let i = 2; i < n; i++) {\r\n            const result = Gf2PrimeFieldHelper.polyDiv(zx, Gf2PrimeFieldHelper.bitToPoly(i));\r\n            if (result.divisible && (pxs.length === 0 ||\r\n                    pxs.every((px) => ! Gf2PrimeFieldHelper.bitPolyDiv(i, px).divisible)))\r\n                pxs.push(i);\r\n        }\r\n\r\n        if (listAll) return pxs;\r\n        else return pxs.filter(v => Boolean(Integer53.bitRShift(v, nth) & 1)).filter((v) => {\r\n            const gf = new Gf2Ext(nth, v);\r\n            return gf.checkGenerationResult();\r\n        });\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static bitToPoly(x: number): number[] {\r\n        const r: number[] = [];\r\n        x = Math.abs(x);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n\r\n        for (let i = 0; i < 32; i++) {\r\n            r[i] = ((loX & (1 << i)) >>> 0) ? 1 : 0;\r\n        }\r\n        for (let i = 0; i < 21; i++) {\r\n            r[32 + i] = ((hiX & (1 << i)) >>> 0) ? 1 : 0;\r\n        }\r\n        for (let i = 52; i > 0; i--) {\r\n            if (r[i]) {\r\n                r.length = i + 1;\r\n                return r;\r\n            }\r\n        }\r\n        r.length = 1;\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polyToBit(x: ArrayLike<number>): number {\r\n        let r: number = 0;\r\n        const n: number = Math.min(53, x.length);\r\n        for (let i = 0; i < n; i++) {\r\n            if (x[i]) r += 2 ** i;\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polyAdd(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        // GF2 prime finite field's calculation.\r\n        const r: number[] = [];\r\n        r.length = Math.max(x.length, y.length);\r\n        for (let i = 0; i < r.length; i++) {\r\n            r[i] = (x[i] !== void(0) ? x[i] : 0) ^ (y[i] !== void(0) ? y[i] : 0);\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polySub(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        // GF2 prime finite field's calculation.\r\n        return this.polyAdd(x, y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static bitPolyAdd(x: number, y: number): number {\r\n        // GF2 prime finite field's calculation.\r\n        return Integer53.bitXor(x, y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static bitPolySub(x: number, y: number): number {\r\n        // GF2 prime finite field's calculation.\r\n        return Integer53.bitXor(x, y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polyMul(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        // GF2 prime finite field's calculation.\r\n        const r: number[] = [];\r\n        r.length = x.length + y.length - 1;\r\n        for (let i = 0; i < y.length; i++) {\r\n            for (let j = 0; j < x.length; j++) {\r\n                // r[j + i] is undefined but bitwise operators implicitly cast NaN as 0.\r\n                r[j + i] ^= x[j] & y[i];\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static bitPolyMul(x: number, y: number): number {\r\n        // GF2 prime finite field's calculation.\r\n        let r = 0;\r\n        for (let i = 0; i < 53; i++) {\r\n            r = Integer53.bitXor(r, x * (Integer53.bitRShift(y, i) & 1) * (2 ** i));\r\n        }\r\n        return r;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polyDiv(\r\n            x: WritableArrayLike<number>, y: ArrayLike<number>, extendDividendLength: number = 0):\r\n            {q: number[], r: number[], divisible: boolean} {\r\n        // GF2 prime finite field's calculation.\r\n        x = Array.from(x);\r\n        if (extendDividendLength > 0) {\r\n            const ext: number[] = [];\r\n            ext.length = extendDividendLength;\r\n            for (let i = 0; i < extendDividendLength; i++) {\r\n                ext[i] = 0;\r\n            }\r\n            x = ext.concat(x as number[]);\r\n        }\r\n\r\n        let ylen = y.length;\r\n        for (let i = 0; i < ylen; i++, ylen--) {\r\n            if (y[ylen - 1]) break;\r\n        }\r\n        if (ylen === 0) return {q: [Number.NaN], r: [Number.NaN], divisible: false};\r\n\r\n        const n: number = x.length - ylen + 1;\r\n        const q: number[] = [];\r\n        q.length = n;\r\n        for (let i = 0; i < n; i++) {\r\n            if (x[x.length - 1 - i]) {\r\n                q[n - 1 - i] = 1;\r\n                for (let j = 0; j < ylen; j++) {\r\n                    x[n - 1 - i + j] ^= y[j];\r\n                }\r\n            } else {\r\n                x[x.length - 1 - i] = 0;\r\n            }\r\n        }\r\n\r\n        let divisible = true;\r\n        const r: number[] = [];\r\n        r.length = ylen - 1;\r\n        for (let i = 0; i < r.length; i++) {\r\n            if (x[i]) divisible = false;\r\n            r[i] = x[i];\r\n        }\r\n        return {q, r, divisible};\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static bitPolyDiv(x: number, y: number, extendDividendLength: number = 0):\r\n            {q: number, r: number, divisible: boolean} {\r\n        // GF2 prime finite field's calculation.\r\n        if (extendDividendLength)\r\n            x = Integer53.bitLShift(x, extendDividendLength);\r\n        let ylen = 53;\r\n        for (let i = 0; i < 53; i++, ylen--) {\r\n            if (Integer53.bitRShift(y, 52 - i)) break;\r\n        }\r\n        if (ylen === 0) return {q: Number.NaN, r: Number.NaN, divisible: false};\r\n\r\n        const n: number = 53 - ylen + 1;\r\n        let q: number = 0;\r\n\r\n        for (let i = 0, m = 2 ** 52; i < n; i++, m /= 2) {\r\n            if (Math.trunc(x / m) & 1) {\r\n                const w = 2 ** (n - 1 - i);\r\n                q += w;\r\n                x = Integer53.bitXor(x, y * w);\r\n            }\r\n        }\r\n        return {q, r: x, divisible: x === 0};\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public static polyIsZero(x: ArrayLike<number>): boolean {\r\n        const n: number = Math.min(52, x.length);\r\n        for (let i = 0; i < n; i++) {\r\n            if (x[i]) return true;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n\r\n\r\nexport class Gf2PrimeBitPolynomialRing implements PolynomialRing<number, number> {\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private _field: GfPrime;\r\n\r\n\r\n    public get field(): GfPrime {\r\n        if (this._field) return this._field;\r\n        this._field = new GfPrime(2);\r\n        return this._field;\r\n    }\r\n\r\n\r\n    public listPx(nth: number, listAll: boolean = false): number[] {\r\n        return Gf2PrimeFieldHelper.listPx(nth, listAll);\r\n    }\r\n\r\n\r\n    public getAt(x: number, index: number): number {\r\n        return Integer53.bitRShift(x, index) & 1;\r\n    }\r\n\r\n    public setAt(x: number, index: number, v: number): number {\r\n        return Integer53.bitNot(Integer53.bitLShift((v & 1) ? 0 : 1, index));\r\n    }\r\n\r\n    public slice(x: number, start: number, end: number): number {\r\n        return Integer53.bitAnd(\r\n            Integer53.bitRShift(Integer53.MAX_INT, end - start),\r\n            Integer53.bitRShift(x, start));\r\n    }\r\n\r\n    public map(x: number, fn: (x: number) => number): number {\r\n        return this.mapToSelf(x, fn);\r\n    }\r\n\r\n    public mapToSelf(x: number, fn: (x: number) => number): number {\r\n        for (let i = 0; i < 53; i++) x = this.setAt(x, i, fn(this.getAt(x, i)));\r\n        return x;\r\n    }\r\n\r\n    public newNthPolynomial(n: number): number {\r\n        return 0;\r\n    }\r\n\r\n\r\n    /**\r\n     * additive identity element\r\n     */\r\n    public get ZERO(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     * multiplicative identity element\r\n     */\r\n    public get ONE(): number {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     * NaN value\r\n     */\r\n    public get NaN(): number {\r\n        return Number.NaN;\r\n    }\r\n\r\n\r\n    /**\r\n     * normalize a value\r\n     */\r\n    public normalize(x: number): number {\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     * check value is NaN\r\n     */\r\n    public isNaN(x: number): boolean {\r\n        return Number.isNaN(x);\r\n    }\r\n\r\n\r\n    /**\r\n     * compare element and return true if x equals to y\r\n     * eq(v,v)     -> true\r\n     * eq(NaN,NaN) -> false\r\n     */\r\n    public eq(x: number, y: number): boolean {\r\n        return x === y;\r\n    }\r\n\r\n    /**\r\n     * compare element and return false if x equals to y\r\n     */\r\n    public noteq(x: number, y: number): boolean {\r\n        return x !== y;\r\n    }\r\n\r\n\r\n    /**\r\n     * negate; additive inverse (-x)\r\n     */\r\n    public neg(x: number): number {\r\n        return x;\r\n    }\r\n\r\n\r\n    /**\r\n     * addition (x+y)\r\n     */\r\n    public add(x: number, y: number): number {\r\n        return Integer53.bitXor(x, y);\r\n    }\r\n\r\n    /**\r\n     * subtraction (x-y)\r\n     */\r\n    public sub(x: number, y: number): number {\r\n        return Integer53.bitXor(x, y);\r\n    }\r\n\r\n    /**\r\n     * multiplication (x*y)\r\n     */\r\n    public mul(x: number, y: number): number {\r\n        return Gf2PrimeFieldHelper.bitPolyMul(x, y);\r\n    }\r\n\r\n    /**\r\n     * modulation (x%y)\r\n     */\r\n    public mod(x: number, y: number, extendDividendLength: number = 0): number {\r\n        return Gf2PrimeFieldHelper.bitPolyDiv(x, y, extendDividendLength).r;\r\n    }\r\n\r\n    /**\r\n     * division (x/y)\r\n     *             ? = div(x,ZERO) ; depends on field definition\r\n     * mul(x,inv(y)) = div(x,y)    ;  when  y != ZERO\r\n     */\r\n    public divmod(x: number, y: number, extendDividendLength: number = 0):\r\n            {q: number, r: number, divisible: boolean} {\r\n        return Gf2PrimeFieldHelper.bitPolyDiv(x, y, extendDividendLength);\r\n    }\r\n\r\n\r\n    /**\r\n     * exponentiation (a^x)\r\n     *   y = pow(a,x)\r\n     *   x = log(a,y)\r\n     * ONE = pow(a,0)\r\n     *   a = pow(a,1)\r\n     */\r\n    public pow(a: number, x: number): number {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n\r\n    /**\r\n     * pow(ALPHA,x) = exp(x)\r\n     *          ONE = exp(0)\r\n     *        ALPHA = exp(1)\r\n     */\r\n    public exp(x: number): number {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n}\r\n\r\n\r\nexport class Gf2PrimeArrayPolynomialRing implements PolynomialRing<number[], number> {\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private _field: GfPrime;\r\n    // tslint:disable-next-line:variable-name\r\n    private _nan: number[];\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor() {\r\n        this._nan = [Number.NaN];\r\n    }\r\n\r\n\r\n    public get field(): GfPrime {\r\n        if (this._field) return this._field;\r\n        this._field = new GfPrime(2);\r\n        return this._field;\r\n    }\r\n\r\n\r\n    public listPx(nth: number, listAll: boolean = false): number[][] {\r\n        return Gf2PrimeFieldHelper.listPx(nth, listAll).map(x => Gf2PrimeFieldHelper.bitToPoly(x));\r\n    }\r\n\r\n\r\n    public getAt(x: ArrayLike<number>, index: number): number {\r\n        return x[index];\r\n    }\r\n\r\n    public setAt(x: number[], index: number, v: number): number[] {\r\n        x[index] = v;\r\n        return x;\r\n    }\r\n\r\n    public slice(x: number[], start: number, end: number): number[] {\r\n        return x.slice(start, end);\r\n    }\r\n\r\n    public map(x: ArrayLike<number>, fn: (x: number) => number): number[] {\r\n        return this.mapToSelf(Array.from(x), fn);\r\n    }\r\n\r\n    public mapToSelf(x: number[], fn: (x: number) => number): number[] {\r\n        for (let i = 0; i < x.length; i++) x[i] = fn(x[i]);\r\n        return x;\r\n    }\r\n\r\n    public newNthPolynomial(n: number): number[] {\r\n        const r: number[] = [];\r\n        r.length = n + 1;\r\n        r.fill(0);\r\n        return r;\r\n    }\r\n\r\n\r\n    /**\r\n     * additive identity element\r\n     */\r\n    public get ZERO(): number[] {\r\n        return [0];\r\n    }\r\n\r\n    /**\r\n     * multiplicative identity element\r\n     */\r\n    public get ONE(): number[] {\r\n        throw [1];\r\n    }\r\n\r\n    /**\r\n     * NaN value\r\n     */\r\n    public get NaN(): number[] {\r\n        return this._nan;\r\n    }\r\n\r\n\r\n    /**\r\n     * normalize a value\r\n     */\r\n    public normalize(x: ArrayLike<number>): number[] {\r\n        return (Array.isArray(x) ? x : Array.from(x)).map(v => Boolean(v & 1) ? 1 : 0);\r\n    }\r\n\r\n    /**\r\n     * check value is NaN\r\n     */\r\n    public isNaN(x: ArrayLike<number>): boolean {\r\n        if (x !== this.NaN) {\r\n            if (x.length === 1 && x[0] === Number.NaN) return true;\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * compare element and return true if x equals to y\r\n     * eq(v,v)     -> true\r\n     * eq(NaN,NaN) -> false\r\n     */\r\n    public eq(x: ArrayLike<number>, y: ArrayLike<number>): boolean {\r\n        if (this.isNaN(x) || this.isNaN(y)) return false;\r\n        const len = Math.max(x.length, y.length);\r\n        for (let i = 0; i < len; i++) {\r\n            if ((x[i] !== void(0) ? (Boolean(x[i] & 1) ? 1 : 0) : 0) !==\r\n                (y[i] !== void(0) ? (Boolean(y[i] & 1) ? 1 : 0) : 0)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * compare element and return false if x equals to y\r\n     */\r\n    public noteq(x: ArrayLike<number>, y: ArrayLike<number>): boolean {\r\n        return !this.eq(x, y);\r\n    }\r\n\r\n\r\n    /**\r\n     * negate; additive inverse (-x)\r\n     */\r\n    public neg(x: ArrayLike<number>): number[] {\r\n        return Array.from(x);\r\n    }\r\n\r\n\r\n    /**\r\n     * addition (x+y)\r\n     */\r\n    public add(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        return Gf2PrimeFieldHelper.polyAdd(x, y);\r\n    }\r\n\r\n    /**\r\n     * subtraction (x-y)\r\n     */\r\n    public sub(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        return Gf2PrimeFieldHelper.polySub(x, y);\r\n    }\r\n\r\n    /**\r\n     * multiplication (x*y)\r\n     */\r\n    public mul(x: ArrayLike<number>, y: ArrayLike<number>): number[] {\r\n        return Gf2PrimeFieldHelper.polyMul(x, y);\r\n    }\r\n\r\n    /**\r\n     * modulation (x%y)\r\n     */\r\n    public mod(x: WritableArrayLike<number>, y: ArrayLike<number>, extendDividendLength: number = 0): number[] {\r\n        return Gf2PrimeFieldHelper.polyDiv(x, y, extendDividendLength).r;\r\n    }\r\n\r\n    /**\r\n     * division (x/y)\r\n     *             ? = div(x,ZERO) ; depends on field definition\r\n     * mul(x,inv(y)) = div(x,y)    ;  when  y != ZERO\r\n     */\r\n    public divmod(x: WritableArrayLike<number>, y: ArrayLike<number>, extendDividendLength: number = 0):\r\n            {q: number[], r: number[], divisible: boolean} {\r\n        return Gf2PrimeFieldHelper.polyDiv(x, y, extendDividendLength);\r\n    }\r\n\r\n\r\n    /**\r\n     * exponentiation (a^x)\r\n     *   y = pow(a,x)\r\n     *   x = log(a,y)\r\n     * ONE = pow(a,0)\r\n     *   a = pow(a,1)\r\n     */\r\n    public pow(a: ArrayLike<number>, x: number): number[] {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n\r\n    /**\r\n     * pow(ALPHA,x) = exp(x)\r\n     *          ONE = exp(0)\r\n     *        ALPHA = exp(1)\r\n     */\r\n    public exp(x: number): number[] {\r\n        throw new Error(\"not supported operation\");\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { FiniteField } from \"./Field\";\r\n\r\n\r\n/**\r\n * GF(p) ; Prime Finite Field\r\n */\r\nexport class GfPrime implements FiniteField<number> {\r\n    private expDict: number[] = [];\r\n    private  lnDict: number[] = [this.NaN];\r\n\r\n    /**\r\n     *\r\n     */\r\n    constructor(private prime: number, private alpha: number = 3) {\r\n        let v: number = 1;\r\n        for (let i = 0; i < prime - 1; i++) {\r\n            this.expDict[i] = v;\r\n            this.lnDict [v] = i;\r\n            v = (v * alpha) % prime;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public checkGenerationResult(): boolean {\r\n        for (let i = 1; i < this.prime; i++) {\r\n            if (this.lnDict[i] === void(0)) return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n\r\n    /**\r\n     * order of this field\r\n     */\r\n    public get MODULO(): number {\r\n        return this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ZERO(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ONE(): number {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ALPHA(): number {\r\n        return this.alpha;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get NaN(): number {\r\n        return Number.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public normalize(x: number): number {\r\n        return (x < 0 ? this.prime - (-x % this.prime) : x) % this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public isNaN(x: number): boolean {\r\n        return Number.isNaN(x);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public eq(x: number, y: number): boolean {\r\n        return this.normalize(x) === this.normalize(y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public noteq(x: number, y: number): boolean {\r\n        return this.normalize(x) !== this.normalize(y);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public neg(x: number): number {\r\n        return (this.prime - (x % this.prime)) % this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public inv(x: number): number {\r\n        x = this.normalize(x);\r\n        return (x === 0) ? this.NaN\r\n          : this.expDict[(this.prime - 1 - this.ln(x)) % (this.prime - 1)];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public inv_withoutTable(x: number): number {\r\n        x = this.normalize(x);\r\n        if (x === 0) return this.NaN;\r\n        let v: number = 1; // make  1/x (mod P)\r\n        for (let i = 0; i < this.prime; i++) {\r\n            if ((v % x) === 0) return (v / x) % this.prime;\r\n            v = v + this.prime;\r\n        }\r\n        return this.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public add(x: number, y: number): number {\r\n        return (this.normalize(x) + this.normalize(y)) % this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public sub(x: number, y: number): number {\r\n        return this.normalize(this.normalize(x) - this.normalize(y));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mul(x: number, y: number): number {\r\n        return (this.normalize(x) * this.normalize(y)) % this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public div(x: number, y: number): number {\r\n        return (this.normalize(x) * this.inv(y)) % this.prime;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mod(x: number, y: number): number {\r\n        return ((y % this.prime) === 0) ? this.NaN : 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public divmod(x: number, y: number): {q: number, r: number, divisible: boolean} {\r\n        return ((y % this.prime) === 0) ? {\r\n            q: this.NaN,\r\n            r: this.NaN,\r\n            divisible: false\r\n        } : {\r\n            q: this.div(x, y),\r\n            r: 0,\r\n            divisible: true\r\n        };\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public pow(a: number, x: number): number {\r\n        a = this.normalize(a);\r\n        x = x % (this.prime - 1);\r\n        if (a === 0) {\r\n            return (x === 0) ? 1 : 0;\r\n        }\r\n        return (x >= 0)\r\n            ? this.exp(this.ln(a) * x)\r\n            : this.inv(this.exp(this.ln(a) * -x));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public pow_withoutTable(a: number, x: number): number {\r\n        a = this.normalize(a);\r\n        x = x % (this.prime - 1);\r\n        if (a === 0) {\r\n            return (x === 0) ? 1 : 0;\r\n        }\r\n        return (x >= 0)\r\n            ? this.exp_withoutTable(this.ln_withoutTable(a) * x)\r\n            : this.inv_withoutTable(this.exp_withoutTable(this.ln(a) * -x));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public log(a: number, x: number): number {\r\n        // y = log(a,pow(a,y))\r\n        const logDict: number[] = [this.NaN];\r\n        for (let y = 0; y < this.prime - 1; y++) {\r\n            const v = this.pow(a, y);\r\n            if (logDict[v] === void(0)) logDict[v] = y;\r\n        }\r\n\r\n        const r = logDict[this.normalize(x)];\r\n        return r !== void(0) ? r : this.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public log_withoutTable(a: number, x: number): number {\r\n        // log(a,x) = ln(x) / ln(a)\r\n        let p = this.ln_withoutTable(x);\r\n        const q = this.ln_withoutTable(a);\r\n        if (this.isNaN(p) || this.isNaN(q)) return this.NaN;\r\n        for (let i = 0; i < this.prime; i++) {\r\n            if ((p % q) === 0) return (p / q) % this.prime;\r\n            p = p + this.prime - 1; // on GF(P):  alpha^x = alpha^(x + P - 1)\r\n        }\r\n        return this.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public exp(x: number): number {\r\n        return (x >= 0)\r\n            ? this.expDict[x % (this.prime - 1)]\r\n            : this.inv(this.expDict[-x % (this.prime - 1)]);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public exp_withoutTable(x: number): number {\r\n        return (x >= 0)\r\n            ? Math.pow(this.alpha, x % (this.prime - 1)) % this.prime\r\n            : this.inv_withoutTable(Math.pow(this.alpha, -x % (this.prime - 1)));\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public ln(x: number): number {\r\n        return this.lnDict[this.normalize(x)];\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public ln_withoutTable(x: number): number {\r\n        x = this.normalize(x);\r\n        if (x === 0) return this.NaN;\r\n        let v: number = 1;\r\n        for (let i = 0; i < this.prime - 1; i++) {\r\n            if (x === v) return i;\r\n            v = (v * this.alpha) % this.prime;\r\n        }\r\n        return this.NaN;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { Field } from \"./Field\";\r\n\r\n\r\n/**\r\n * GF(p) ; Real Number Field\r\n */\r\nexport class RealField implements Field<number> {\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ZERO(): number {\r\n        return 0;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ONE(): number {\r\n        return 1;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get ALPHA(): number {\r\n        return Math.E;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public get NaN(): number {\r\n        return Number.NaN;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public normalize(x: number): number {\r\n        return x;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public isNaN(x: number): boolean {\r\n        return Number.isNaN(x);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public eq(x: number, y: number): boolean {\r\n        return x === y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public noteq(x: number, y: number): boolean {\r\n        return x !== y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public neg(x: number): number {\r\n        return -x;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public inv(x: number): number {\r\n        return 1 / x;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public add(x: number, y: number): number {\r\n        return x + y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public sub(x: number, y: number): number {\r\n        return x - y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mul(x: number, y: number): number {\r\n        return x * y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public div(x: number, y: number): number {\r\n        return x / y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public mod(x: number, y: number): number {\r\n        return x % y;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public divmod(x: number, y: number): {q: number, r: number, divisible: boolean} {\r\n        return (y === 0) ? {\r\n            q: this.NaN,\r\n            r: this.NaN,\r\n            divisible: false\r\n        } : {\r\n            q: Math.sign(x) * (Math.abs(x) - Math.abs(x % y)) / y,\r\n            r: x % y,\r\n            divisible: (x % y) === 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public pow(a: number, x: number): number {\r\n        return a ** x;\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public log(a: number, x: number): number {\r\n        return Math.log(x) / Math.log(a);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public exp(x: number): number {\r\n        return Math.exp(x);\r\n    }\r\n\r\n    /**\r\n     *\r\n     */\r\n    public ln(x: number): number {\r\n        return Math.log(x);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport * from './react-host';\r\n","\r\nimport * as RedAgate from 'red-agate/modules/red-agate';\r\nimport * as React from 'react';\r\nimport * as ReactDOMServer from 'react-dom/server';\r\n\r\n\r\n\r\nexport interface ReactHostProps<P> extends RedAgate.ComponentProps {\r\n    element: React.ReactElement<P>;\r\n}\r\n\r\nexport class ReactHost<P> extends RedAgate.RedAgateComponent<ReactHostProps<P>> {\r\n    public constructor(props: ReactHostProps<P>) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        return [];\r\n    }\r\n\r\n    public render() {\r\n        return ReactDOMServer.renderToStaticMarkup(this.props.element);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { TextEncoding }          from \"red-agate-util/modules/convert/TextEncoding\";\r\nimport { Base64 }                from \"red-agate-util/modules/convert/Base64\";\r\nimport { Escape }                from \"red-agate-util/modules/convert/Escape\";\r\nimport { WordWrap }              from \"red-agate-util/modules/convert/WordWrap\";\r\nimport { WebColor }              from \"./WebColor\";\r\nimport { VectorCanvas2DGradient,\r\n         VectorCanvas2DPattern,\r\n         VectorCanvas2D }        from \"./VectorCanvas2D\";\r\nimport { Point2D,\r\n         Vector2D,\r\n         Rect2D,\r\n         TransferMatrix2D }      from \"./TransferMatrix2D\";\r\n\r\n\r\nexport interface SvgCanvas2DAsset {\r\n    toDef(): string;\r\n}\r\n\r\n\r\nexport interface SvgTextAttributes {\r\n    /**\r\n     * author's computation of the total sum of all of the advance values\r\n     *  that correspond to character data within this element,\r\n     *  including the advance value on the glyph\r\n     */\r\n    textLength?: number;\r\n    /** 'spacing' | 'spacingAndGlyphs' */\r\n    lengthAdjust?: \"spacing\" | \"spacingAndGlyphs\";\r\n    /** line break on newline(0x0a) */\r\n    multiline?: boolean;\r\n    /**\r\n     * length from baseline to next baseline.\r\n     *  if writingMode is horizontal then add y coodinate.\r\n     *  if writingMode is vertical then add x coodinate.\r\n     */\r\n    lineHeight?: number;\r\n    /** rotation about the current text position (degree) */\r\n    rotate?: number;\r\n    /** 'lr-tb' | 'rl-tb' | 'tb-rl' | 'lr' | 'rl' | 'tb' */\r\n    writingMode?: \"lr-tb\" | \"rl-tb\" | \"tb-rl\" | \"lr\" | \"rl\" | \"tb\";\r\n    /** 'auto' | 0 | 90 | 180 | 270 */\r\n    glyphOrientationVertical?: \"auto\" | number;\r\n    /** 0 | 90 | 180 | 270 */\r\n    glyphOrientationHorizontal?: number;\r\n    /** 'ltr' | 'rtl'  */\r\n    direction?: \"ltr\" | \"rtl\";\r\n    /** 'normal' | 'embed' | 'bidi-override' */\r\n    unicodeBidi?: \"normal\" | \"embed\" | \"bidi-override\";\r\n    /** 'none' | [ 'underline' || 'overline' || 'line-through' ] */\r\n    textDecoration?: string;\r\n    /** use textPath */\r\n    textPath?: boolean;\r\n    /**  */\r\n    textPathOffset?: number;\r\n    /** 'auto' | length */\r\n    kerning?: \"auto\" | number;\r\n    /** 'normal' | length */\r\n    letterSpacing?: \"normal\" | number;\r\n    /** 'normal' | length */\r\n    wordSpacing?: \"normal\" | number;\r\n}\r\n\r\n\r\nexport class SvgCanvasImageData {\r\n    constructor(\r\n        public url: string,\r\n        public x: number, public y: number,\r\n        public width: number, public height: number) {\r\n    }\r\n}\r\n\r\n\r\nexport abstract class SvgCanvas2DGradient {\r\n}\r\n\r\n\r\nexport class SvgCanvas2DLinerGradient extends SvgCanvas2DGradient implements VectorCanvas2DGradient, SvgCanvas2DAsset {\r\n    private content: string;\r\n    constructor(\r\n        private id: string,\r\n        private x0: number, private y0: number, private x1: number, private y1: number) {\r\n        super();\r\n        this.content = `<linearGradient id=\"${id}\" gradientUnits=\"userSpaceOnUse\" x1=\"${x0}\" y1=\"${y0}\" x2=\"${x1}\" y2=\"${y1}\" >\\n`;\r\n    }\r\n    public addColorStop(offset: number, color: string, opacity: number = 1): void {\r\n        this.content += `<stop offset=\"${offset}\" stop-color=\"${color}\" stop-opacity=\"${opacity}\" />\\n`;\r\n    }\r\n    public toDef(): string {\r\n        return this.content + \"</linearGradient>\";\r\n    }\r\n    public toString(): string {\r\n        return `url(#${this.id})`;\r\n    }\r\n}\r\n\r\n\r\nexport class SvgCanvas2DRadialGradient extends SvgCanvas2DGradient implements VectorCanvas2DGradient, SvgCanvas2DAsset {\r\n    private content: string;\r\n    /** fr is ignored. fr is always 0. */\r\n    constructor(\r\n        private id: string,\r\n        private cx: number, private cy: number, private r: number,\r\n        private fx: number, private fy: number) {\r\n        super();\r\n        this.content = `<radialGradient id=\"${id}\" gradientUnits=\"userSpaceOnUse\" cx=\"${cx}\" cy=\"${cy}\" r=\"${r}\" fx=\"${fx}\" fy=\"${fy}\" >\\n`;\r\n    }\r\n    public addColorStop(offset: number, color: string, opacity: number = 1): void {\r\n        this.content += `<stop offset=\"${offset}\" stop-color=\"${color}\" stop-opacity=\"${opacity}\" />\\n`;\r\n    }\r\n    public toDef() {\r\n        return this.content + \"</radialGradient>\";\r\n    }\r\n    public toString() {\r\n        return `url(#${this.id})`;\r\n    }\r\n}\r\n\r\n\r\nexport class SvgCanvas2DPattern implements VectorCanvas2DPattern, SvgCanvas2DAsset {\r\n    constructor(\r\n        private id: string,\r\n        private imageData: SvgCanvasImageData) {\r\n    }\r\n    public toDef() {\r\n        const content =\r\n            `<image x=\"0\" y=\"0\" width=\"${this.imageData.width}\" height=\"${this.imageData.height}\" \\n` +\r\n            `xlink:href=\"${this.imageData.url}\" />`;\r\n        return `<pattern id=\"${this.id}\"  patternUnits=\"userSpaceOnUse\" patternContentUnits=\"userSpaceOnUse\" ` +\r\n            `x=\"${this.imageData.x}\" y=\"${this.imageData.y}\" ` +\r\n            `width=\"${this.imageData.width}\" height=\"${this.imageData.height}\">${content}</pattern>`;\r\n    }\r\n    public toString() {\r\n        return `url(#${this.id})`;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * canvas: source-over|source-in|source-out|source-atop|\r\n *         destination-over|destination-in|destination-out|destination-atop|\r\n *         lighter|copy|xor\r\n *    svg: over|in|out|atop|xor|arithmetic\r\n */\r\nexport type GlobalCompositeOperationValue =\r\n    \"source-over\" | \"source-in\" | \"source-out\" | \"source-atop\" |\r\n    \"destination-over\" | \"destination-in\" | \"destination-out\" | \"destination-atop\" |\r\n    \"lighter\" | \"copy\" | \"xor\" |\r\n    \"over\" | \"in\" | \"out\" | \"atop\" | \"arithmetic\";\r\n\r\n/**\r\n * text-anchor\r\n * canvas:start|end|left|right|center\r\n *    svg:start|middle|end\r\n */\r\nexport type TextAlignValue =\r\n    \"start\" | \"end\" | \"left\" | \"right\" | \"center\" | \"middle\";\r\n\r\n/**\r\n * dominant-baseline\r\n * canvas:top|hanging|middle|alphabetic|ideographic|bottom\r\n *    svg:auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\r\n *        ('auto' is default. 'auto's effective value is depends on writing mode. if mode is horizontal then it is alphabetic. else then it is central)\r\n *\r\n * --------------------  text-before-edge (em square's edge)\r\n * --                --  hanging\r\n * --  X        X    --  mathematical\r\n *     X\r\n *     X        X\r\n * --  XXXX     X    --  central (em square's central), nearby of x-height(alphabetic lower case height)\r\n * --  X   X    X    --  middle (1/2 x-height)\r\n * --  X   X    X    --  alphabetic\r\n *            pp\r\n * -----------^^-------  ideographic, text-after-edge (em square's edge)\r\n */\r\nexport type TextBaselineValue =\r\n    \"top\" | \"hanging\" | \"middle\" | \"alphabetic\" | \"ideographic\" | \"bottom\" |\r\n    \"auto\" | \"use-script\" | \"no-change\" | \"reset-size\" |\r\n    \"mathematical\" | \"central\" | \"text-after-edge\" | \"text-before-edge\";\r\n\r\n/**\r\n * stroke-linecap\r\n * butt|round|square\r\n */\r\nexport type LineCapValue = \"butt\" | \"round\" | \"square\";\r\n\r\n/**\r\n * stroke-linejoin\r\n * miter|round|bevel\r\n */\r\nexport type LineJoinValue = \"miter\" | \"round\" | \"bevel\";\r\n\r\n\r\nclass SvgCanvasGraphicState {\r\n    public globalAlpha: number = 1;\r\n\r\n    /**\r\n     * canvas: source-over|source-in|source-out|source-atop|\r\n     *         destination-over|destination-in|destination-out|destination-atop|\r\n     *         lighter|copy|xor\r\n     *    svg: over|in|out|atop|xor|arithmetic\r\n     */\r\n    public globalCompositeOperation: GlobalCompositeOperationValue = \"source-over\";\r\n\r\n    public shadowBlur: number = 0;\r\n    /**\r\n     * canvas   : <'web-color'>|#000|#000000|rgb(0,0,0)|rgba(0,0,0,0)\r\n     * SvgCanvas: rgb(0,0,0)|rgba(0,0,0,0)\r\n     */\r\n    public shadowColor: string = \"rgba(0,0,0,1)\";\r\n    public shadowOffsetX: number = 0;\r\n    public shadowOffsetY: number = 0;\r\n\r\n    public filterIdUrl: string | null = null;\r\n\r\n    /**\r\n     * canvas: \"italic bold 26px 'Times New Roman'\"\r\n     *    svg: font-family =\"Times New Roman\"\r\n     *         font-style  =normal|italic|oblique\r\n     *         font-variant=normal|small-caps\r\n     *         font-weight =normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900\r\n     *         font-stretch=normal|wider|narrower|ultra-condensed|extra-condensed|condensed|\r\n     *                      semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded\r\n     *         font-size   =<absolute-size>|<relative-size>|<length>|<percentage>\r\n     *         font-size-adjust=<number>|none\r\n     *         font        =[[<'font-style'>||<'font-variant'>||<'font-weight'>]?<'font-size'>[/<'line-height'>]?<'font-family'>]\r\n     */\r\n    public font: string = \"normal 12px 'Times New Roman'\";\r\n    /**\r\n     * text-anchor\r\n     * canvas:start|end|left|right|center\r\n     *    svg:start|middle|end\r\n     */\r\n    public textAlign: TextAlignValue = \"start\";\r\n    /**\r\n     * dominant-baseline\r\n     * default is 'auto'.\r\n     * canvas:top|hanging|middle|alphabetic|ideographic|bottom\r\n     *        ('alphabetic' is default)\r\n     *    svg:auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\r\n     *        ('auto' is default. 'auto's effective value is depends on writing mode. if mode is horizontal then it is alphabetic. else then it is central)\r\n     */\r\n    public textBaseline: TextBaselineValue = \"auto\";\r\n\r\n    /**\r\n     * stroke-linecap\r\n     * butt|round|square\r\n     */\r\n    public lineCap: LineCapValue = \"butt\";\r\n    public lineDashOffset: number = 0;\r\n    /**\r\n     * stroke-linejoin\r\n     * miter|round|bevel\r\n     */\r\n    public lineJoin: LineJoinValue = \"miter\";\r\n    public lineWidth: number = 1;\r\n    public miterLimit: number = 4;\r\n\r\n    public strokeStyle: string = \"black\";\r\n    public fillStyle: string = \"black\";\r\n\r\n    public ctm: TransferMatrix2D = new TransferMatrix2D();\r\n    public currentPoint: Point2D | null = null;\r\n    public currentPointOnCtm: Point2D | null = null;\r\n    public subpath: Array<string | number | Point2D> = [];\r\n\r\n    public lineDash: number[] = [];\r\n    public clipPath: string = \"\";\r\n\r\n    constructor(src?: SvgCanvasGraphicState) {\r\n        if (! src) return;\r\n        for (const key in this) {\r\n            if (this.hasOwnProperty(key) && src.hasOwnProperty(key)) {\r\n                (this as any)[key] = (src as any)[key];\r\n            }\r\n        }\r\n        this.subpath = Array.from(this.subpath);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * subset of CanvasRenderingContext2D\r\n */\r\nexport class SvgCanvas implements VectorCanvas2D {\r\n    public get globalAlpha(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].globalAlpha;\r\n    }\r\n    public set globalAlpha(value: number) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].globalAlpha = value;\r\n    }\r\n\r\n    public get globalCompositeOperation(): GlobalCompositeOperationValue {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].globalCompositeOperation;\r\n    }\r\n    public set globalCompositeOperation(value: GlobalCompositeOperationValue) {\r\n        this.filterIdUrl = null;\r\n        this.graphicsStack[this.graphicsStack.length - 1].globalCompositeOperation = value;\r\n    }\r\n\r\n    public get shadowBlur(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].shadowBlur;\r\n    }\r\n    public set shadowBlur(value: number) {\r\n        this.filterIdUrl = null;\r\n        this.graphicsStack[this.graphicsStack.length - 1].shadowBlur = value;\r\n    }\r\n    public get shadowColor(): string {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].shadowColor;\r\n    }\r\n    public set shadowColor(value: string) {\r\n        this.filterIdUrl = null;\r\n        this.graphicsStack[this.graphicsStack.length - 1].shadowColor = value;\r\n    }\r\n    public get shadowOffsetX(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].shadowOffsetX;\r\n    }\r\n    public set shadowOffsetX(value: number) {\r\n        this.filterIdUrl = null;\r\n        this.graphicsStack[this.graphicsStack.length - 1].shadowOffsetX = value;\r\n    }\r\n    public get shadowOffsetY(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].shadowOffsetY;\r\n    }\r\n    public set shadowOffsetY(value: number) {\r\n        this.filterIdUrl = null;\r\n        this.graphicsStack[this.graphicsStack.length - 1].shadowOffsetY = value;\r\n    }\r\n    private get filterIdUrl(): string | null {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].filterIdUrl;\r\n    }\r\n    private set filterIdUrl(value: string | null) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].filterIdUrl = value;\r\n    }\r\n\r\n    /**\r\n     * canvas: \"italic bold 26px 'Times New Roman'\"\r\n     *    svg: font-family =\"Times New Roman\"\r\n     *         font-style  =normal|italic|oblique\r\n     *         font-variant=normal|small-caps\r\n     *         font-weight =normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900\r\n     *         font-stretch=normal|wider|narrower|ultra-condensed|extra-condensed|condensed|\r\n     *                      semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded\r\n     *         font-size   =<absolute-size>|<relative-size>|<length>|<percentage>\r\n     *         font-size-adjust=<number>|none\r\n     *         font        =[[<'font-style'>||<'font-variant'>||<'font-weight'>]?<'font-size'>[/<'line-height'>]?<'font-family'>]\r\n     */\r\n    public get font(): string {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].font;\r\n    }\r\n    /**\r\n     * canvas: \"italic bold 26px 'Times New Roman'\"\r\n     *         [<‘font-style’>||<font-variant>||<‘font-weight’>||<‘font-stretch’>]?<‘font-size’>[/<‘line-height’>]?<‘font-family’>\r\n     *\r\n     *    svg: font-family =\"Times New Roman\"\r\n     *         font-style  =normal|italic|oblique\r\n     *         font-variant=normal|small-caps\r\n     *         font-weight =normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900\r\n     *         font-stretch=normal|wider|narrower|ultra-condensed|extra-condensed|condensed|\r\n     *                      semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded\r\n     *         font-size   =<absolute-size>|<relative-size>|<length>|<percentage>\r\n     *         font-size-adjust=<number>|none\r\n     *         font        =[<'font-style'>||<'font-variant'>||<'font-weight'>]?<'font-size'>[/<'line-height'>]?<'font-family'>\r\n     */\r\n    public set font(value: string) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].font = value;\r\n    }\r\n    /**\r\n     * text-anchor\r\n     * canvas:start|end|left|right|center\r\n     *    svg:start|middle|end\r\n     */\r\n    public get textAlign(): TextAlignValue {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].textAlign;\r\n    }\r\n    /**\r\n     * text-anchor\r\n     * canvas:start|end|left|right|center\r\n     *    svg:start|middle|end\r\n     */\r\n    public set textAlign(value: TextAlignValue) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].textAlign = value;\r\n    }\r\n    /**\r\n     * dominant-baseline\r\n     * canvas:top|hanging|middle|alphabetic|ideographic|bottom\r\n     *    svg:auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\r\n     */\r\n    public get textBaseline(): TextBaselineValue {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].textBaseline;\r\n    }\r\n    /**\r\n     * dominant-baseline\r\n     * canvas:top|hanging|middle|alphabetic|ideographic|bottom\r\n     *    svg:auto|use-script|no-change|reset-size|ideographic|alphabetic|hanging|mathematical|central|middle|text-after-edge|text-before-edge\r\n     */\r\n    public set textBaseline(value: TextBaselineValue) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].textBaseline = value;\r\n    }\r\n\r\n    /**\r\n     * stroke-linecap\r\n     * butt|round|square\r\n     */\r\n    public get lineCap(): LineCapValue {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].lineCap;\r\n    }\r\n    /**\r\n     * stroke-linecap\r\n     * butt|round|square\r\n     */\r\n    public set lineCap(value: LineCapValue) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].lineCap = value;\r\n    }\r\n    public get lineDashOffset(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].lineDashOffset;\r\n    }\r\n    public set lineDashOffset(value: number) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].lineDashOffset = value;\r\n    }\r\n    /**\r\n     * stroke-linejoin\r\n     * miter|round|bevel\r\n     */\r\n    public get lineJoin(): LineJoinValue {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].lineJoin;\r\n    }\r\n    /**\r\n     * stroke-linejoin\r\n     * miter|round|bevel\r\n     */\r\n    public set lineJoin(value: LineJoinValue) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].lineJoin = value;\r\n    }\r\n    public get lineWidth(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].lineWidth;\r\n    }\r\n    public set lineWidth(value: number) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].lineWidth = value;\r\n    }\r\n    public get miterLimit(): number {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].miterLimit;\r\n    }\r\n    public set miterLimit(value: number) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].miterLimit = value;\r\n    }\r\n\r\n    public get strokeStyle(): string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].strokeStyle;\r\n    }\r\n    public set strokeStyle(value: string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].strokeStyle = value.toString();\r\n    }\r\n    public get fillStyle(): string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].fillStyle;\r\n    }\r\n    public set fillStyle(value: string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].fillStyle = value.toString();\r\n    }\r\n\r\n    private get ctm(): TransferMatrix2D {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].ctm;\r\n    }\r\n    private set ctm(value: TransferMatrix2D) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].ctm = value;\r\n    }\r\n    private get currentPoint(): Point2D | null {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].currentPoint;\r\n    }\r\n    private set currentPoint(value: Point2D | null) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].currentPoint = value;\r\n    }\r\n    private get currentPointOnCtm(): Point2D | null {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].currentPointOnCtm;\r\n    }\r\n    private set currentPointOnCtm(value: Point2D | null) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].currentPointOnCtm = value;\r\n    }\r\n    private get subpath(): Array<string | number | Point2D> {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].subpath;\r\n    }\r\n    private set subpath(value: Array<string | number | Point2D>) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].subpath = value;\r\n    }\r\n\r\n    private get lineDash(): number[] {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].lineDash;\r\n    }\r\n    private set lineDash(value: number[]) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].lineDash = value;\r\n    }\r\n    private get clipPath(): string {\r\n        return this.graphicsStack[this.graphicsStack.length - 1].clipPath;\r\n    }\r\n    private set clipPath(value: string) {\r\n        this.graphicsStack[this.graphicsStack.length - 1].clipPath = value;\r\n    }\r\n\r\n    private get subpathIsEmptyOrClosed(): boolean {\r\n        return this.subpath.length === 0 || this.subpath[this.subpath.length - 1] === \"Z\";\r\n    }\r\n\r\n    private graphicsStack: SvgCanvasGraphicState[] = [];\r\n    private assets: Array<SvgCanvas2DAsset | string> = [];\r\n    private content = \"\";\r\n    private contentSaved = \"\";\r\n    private idCount = 0;\r\n    private template: string | null = null;\r\n\r\n    constructor() {\r\n        this.graphicsStack.push(new SvgCanvasGraphicState());\r\n    }\r\n\r\n    public static fromTemplate(template: string): SvgCanvas {\r\n        const c = new SvgCanvas();\r\n        c.template = template;\r\n        c.idCount = new Date().getTime();\r\n        return c;\r\n    }\r\n\r\n    public render(viewbox: Rect2D, unit: string = \"mm\"): string {\r\n        const svgns = `xmlns=\"http://www.w3.org/2000/svg\"`;\r\n        const xlinkns = `xmlns:xlink=\"http://www.w3.org/1999/xlink\"`;\r\n        const vbox = `viewBox=\"${viewbox.x} ${viewbox.y} ${viewbox.w} ${viewbox.h}\"`;\r\n        const defs = `<defs>\\n${\r\n                this.assets.map(x => typeof x === \"string\" ? x : x.toDef()).join(\"\\n\")\r\n            }</defs>`;\r\n\r\n        if (! this.template) {\r\n            return `<svg ${svgns} ${xlinkns} version=\"1.1\" width=\"${viewbox.w}${unit}\" height=\"${viewbox.h}${unit}\" ${vbox}>\\n${\r\n                defs}\\n${this.contentSaved}${this.content}</svg>`;\r\n        } else {\r\n            let tmpl = this.template.replace(/<\\/svg>\\s*$/, '');\r\n\r\n            {\r\n                const re = /(<svg[^>]*?)\\s+?width\\s*?=\\s*?[\"'](?:[^\"'>]+?)[\"']([^>]*?>)/;\r\n                if (re.test(tmpl)) {\r\n                    tmpl = tmpl.replace(re, `$1 width=\"${viewbox.w}${unit}\"$2`);\r\n                } else {\r\n                    tmpl = tmpl.replace(/<svg\\s/, `<svg width=\"${viewbox.w}${unit}\" `);\r\n                }\r\n            }\r\n            {\r\n                const re = /(<svg[^>]*?)\\s+?height\\s*?=\\s*?[\"'](?:[^\"'>]+?)[\"']([^>]*?>)/;\r\n                if (re.test(tmpl)) {\r\n                    tmpl = tmpl.replace(re, `$1 height=\"${viewbox.h}${unit}\"$2`);\r\n                } else {\r\n                    tmpl = tmpl.replace(/<svg\\s/, `<svg height=\"${viewbox.h}${unit}\" `);\r\n                }\r\n            }\r\n            {\r\n                const re = /(<svg[^>]*?)\\s+?viewBox\\s*?=\\s*?[\"'](?:[^\"'>]+?)[\"']([^>]*?>)/;\r\n                if (re.test(tmpl)) {\r\n                    tmpl = tmpl.replace(re, `$1 ${vbox}$2`);\r\n                } else {\r\n                    tmpl = tmpl.replace(/<svg\\s/, `<svg ${vbox} `);\r\n                }\r\n            }\r\n\r\n            if (! tmpl.match(/<svg[^>]*?\\s+?xmlns:xlink\\s*?=/)) {\r\n                tmpl = tmpl.replace(/<svg\\s/, `<svg ${xlinkns} `);\r\n            }\r\n            if (! tmpl.match(/<svg[^>]*?\\s+?xmlns\\s*?=/)) {\r\n                tmpl = tmpl.replace(/<svg\\s/, `<svg ${svgns} `);\r\n            }\r\n\r\n            return `${tmpl}\\n${defs}\\n${this.contentSaved}${this.content}</svg>`;\r\n        }\r\n    }\r\n\r\n    public toDataUrl(viewbox: Rect2D, unit: string = \"mm\", lineLength: number = 120): string {\r\n        return \"data:image/svg+xml;base64,\" +\r\n            Base64.encode(TextEncoding.encodeToUtf8(this.render(viewbox, unit)), lineLength);\r\n    }\r\n\r\n    /** postscript gsave */\r\n    public save(): void {\r\n        const s = new SvgCanvasGraphicState(this.graphicsStack[this.graphicsStack.length - 1]);\r\n        this.graphicsStack.push(s);\r\n    }\r\n    /** postscript grestore */\r\n    public restore(restorePath: boolean = false): void {\r\n        if (restorePath) {\r\n            if (0 < this.graphicsStack.length) this.graphicsStack.pop();\r\n        } else {\r\n            if (0 < this.graphicsStack.length) {\r\n                const subpath = this.subpath;\r\n                const cpt = this.currentPoint;\r\n                const cptoctm = this.currentPointOnCtm;\r\n\r\n                this.graphicsStack.pop();\r\n\r\n                this.subpath = subpath;\r\n                this.currentPoint = cpt;\r\n                this.currentPointOnCtm = cptoctm;\r\n            }\r\n        }\r\n    }\r\n\r\n    /** postscript x y scale */\r\n    public scale(x: number, y: number): void {\r\n        if (this.currentPointOnCtm !== null) {\r\n            const tm = new TransferMatrix2D().scale(x, y);\r\n            this.currentPointOnCtm = tm.transfer(this.currentPointOnCtm);\r\n        }\r\n        this.ctm = this.ctm.scale(x, y);\r\n    }\r\n    /** postscript x y translate */\r\n    public translate(x: number, y: number): void {\r\n        if (this.currentPointOnCtm !== null) {\r\n            const tm = new TransferMatrix2D().translate(x, y);\r\n            this.currentPointOnCtm = tm.transfer(this.currentPointOnCtm);\r\n        }\r\n        this.ctm = this.ctm.translate(x, y);\r\n    }\r\n    /** postscript (angle*180/PI) rotate */\r\n    public rotate(angle: number): void {\r\n        if (this.currentPointOnCtm !== null) {\r\n            const tm = new TransferMatrix2D().rotate(angle);\r\n            this.currentPointOnCtm = tm.transfer(this.currentPointOnCtm);\r\n        }\r\n        this.ctm = this.ctm.rotate(angle);\r\n    }\r\n    /** postscript [m11 m12 m21 m22 dx dy] concat */\r\n    public transform(m11: number, m12: number, m21: number, m22: number, dx: number, dy: number): void {\r\n        const tm = new TransferMatrix2D(m11, m12, m21, m22, dx, dy);\r\n        if (this.currentPointOnCtm !== null)\r\n            this.currentPointOnCtm = tm.transfer(this.currentPointOnCtm);\r\n        this.ctm = this.ctm.concat(tm);\r\n    }\r\n    /** postscript [m11 m12 m21 m22 dx dy] setmatrix */\r\n    public setTransform(m11: number, m12: number, m21: number, m22: number, dx: number, dy: number): void {\r\n        this.currentPointOnCtm = null;\r\n        this.ctm = new TransferMatrix2D(m11, m12, m21, m22, dx, dy);\r\n    }\r\n\r\n    /** postscript newpath */\r\n    public beginPath(): void {\r\n        this.subpath = [];\r\n        this.currentPoint = null;\r\n        this.currentPointOnCtm = null;\r\n    }\r\n    /** postscript closepath */\r\n    public closePath(): void {\r\n        this.subpath.push(\"Z\");\r\n        this.currentPoint = null;\r\n        this.currentPointOnCtm = null;\r\n    }\r\n\r\n    /** postscript x y moveto */\r\n    public moveTo(x: number, y: number): void {\r\n        const p = new Point2D(x, y);\r\n        this.subpath.push(\"M\", this.ctm.transfer(p));\r\n        this.currentPoint = this.subpath[this.subpath.length - 1] as Point2D;\r\n        this.currentPointOnCtm = p;\r\n    }\r\n    /** postscript x y lineto */\r\n    public lineTo(x: number, y: number, ...extra: number[]): void {\r\n        let p = new Point2D(x, y);\r\n        this.subpath.push(\"L\", this.ctm.transfer(p));\r\n        if (extra && extra.length % 4 === 0) {\r\n            for (let i = 0; i < extra.length; i += 2) {\r\n                if (extra.length <= (i + 1)) break;\r\n                p = new Point2D(extra[i], extra[i + 1]);\r\n                this.subpath.push(this.ctm.transfer(p));\r\n            }\r\n        }\r\n        this.currentPoint = this.subpath[this.subpath.length - 1] as Point2D;\r\n        this.currentPointOnCtm = p;\r\n    }\r\n    public quadraticCurveTo(cpx: number, cpy: number, x: number, y: number, ...extra: number[]): void {\r\n        let p = new Point2D(x, y);\r\n        this.subpath.push(\"Q\",\r\n            this.ctm.transfer(new Point2D(cpx, cpy)),\r\n            this.ctm.transfer(p));\r\n        if (extra && extra.length % 4 === 0) {\r\n            for (let i = 0; i < extra.length; i += 2) {\r\n                if (extra.length <= (i + 1)) break;\r\n                p = new Point2D(extra[i], extra[i + 1]);\r\n                this.subpath.push(this.ctm.transfer(p));\r\n            }\r\n        }\r\n        this.currentPoint = this.subpath[this.subpath.length - 1] as Point2D;\r\n        this.currentPointOnCtm = p;\r\n    }\r\n    /** postscript cp1x cp1y cp2x cp2y x y curveto */\r\n    public bezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number, ...extra: number[]): void {\r\n        let p = new Point2D(x, y);\r\n        this.subpath.push(\"C\",\r\n            this.ctm.transfer(new Point2D(cp1x, cp1y)),\r\n            this.ctm.transfer(new Point2D(cp2x, cp2y)),\r\n            this.ctm.transfer(p));\r\n        if (extra && extra.length % 6 === 0) {\r\n            for (let i = 0; i < extra.length; i += 2) {\r\n                p = new Point2D(extra[i], extra[i + 1]);\r\n                this.subpath.push(this.ctm.transfer(p));\r\n            }\r\n        }\r\n        this.currentPoint = this.subpath[this.subpath.length - 1] as Point2D;\r\n        this.currentPointOnCtm = p;\r\n    }\r\n\r\n    /**\r\n     * postscript arc / arcn\r\n     * anticlockwise= true: x y startAngle endAngle arc\r\n     * anticlockwise=false: x y startAngle endAngle arcn\r\n     * center: (x,y)\r\n     */\r\n    public arc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise: boolean = false): void {\r\n        const entired = Math.abs(endAngle - startAngle) >= (2 * Math.PI);\r\n\r\n        if (Math.abs(startAngle) > (2 * Math.PI)) startAngle = startAngle % (2 * Math.PI);\r\n        if (startAngle < 0)                       startAngle = (2 * Math.PI) + startAngle;\r\n        if (Math.abs(endAngle)   > (2 * Math.PI)) endAngle   = endAngle   % (2 * Math.PI);\r\n        if (endAngle   < 0)                       endAngle   = (2 * Math.PI) + endAngle  ;\r\n\r\n        if (entired) {\r\n            endAngle = startAngle + (2 * Math.PI);\r\n        } else {\r\n            if (anticlockwise) {\r\n                [startAngle, endAngle] = [endAngle, startAngle];\r\n            }\r\n            if (endAngle < startAngle) {\r\n                endAngle = endAngle + (2 * Math.PI);\r\n            }\r\n        }\r\n        let angle = endAngle - startAngle;\r\n        let r = 0;\r\n        const PI_2 = Math.PI / 2;\r\n\r\n        // approximate the arc by a Bezier curve.\r\n        const k0 = (4 * (Math.sqrt(2) - 1)) / 3; // 0.55228474983...\r\n        const tm0 = new TransferMatrix2D().translate(x, y).scale(radius, radius);\r\n\r\n        let points: Point2D[] = [];\r\n\r\n        // tslint:disable-next-line:ban-comma-operator\r\n        for (; PI_2 < angle; r += PI_2, angle -= PI_2) {\r\n            const tm = tm0.rotate(startAngle + r);\r\n\r\n            if (points.length === 0)\r\n                points.push(tm.transfer(new Point2D(1, 0)));\r\n\r\n            points.push(tm.transfer(new Point2D( 1, k0)));\r\n            points.push(tm.transfer(new Point2D(k0,  1)));\r\n            points.push(tm.transfer(new Point2D( 0,  1)));\r\n        }\r\n\r\n        const k1 = (4 * Math.tan(angle / 4)) / 3;\r\n        {\r\n            const tm = tm0.rotate(startAngle + r);\r\n\r\n            if (points.length === 0)\r\n                points.push(tm.transfer(new Point2D(1, 0)));\r\n\r\n            points.push(tm.transfer(new Point2D(1, k1)));\r\n            points.push(tm.transfer(\r\n                new Point2D(\r\n                    Math.cos(angle) + k1 * Math.sin(angle),\r\n                    Math.sin(angle) - k1 * Math.cos(angle))));\r\n            points.push(tm.transfer(\r\n                new Point2D(\r\n                    Math.cos(angle),\r\n                    Math.sin(angle))));\r\n        }\r\n        if (anticlockwise) points = points.reverse();\r\n\r\n        const p = points[points.length - 1];\r\n        points = points.map(pt => this.ctm.transfer(pt));\r\n        this.subpath.push(this.subpathIsEmptyOrClosed ? \"M\" : \"L\", points.shift() as Point2D, \"C\");\r\n        this.subpath.push(...points);\r\n        this.currentPoint = this.subpath[this.subpath.length - 1] as Point2D;\r\n        this.currentPointOnCtm = p;\r\n    }\r\n\r\n    /** postscript x1 y1 x2 y2 arcto */\r\n    public arcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void {\r\n        const p0 = this.currentPointOnCtm;\r\n        if (p0 === null) {\r\n            return;\r\n        }\r\n\r\n        const p1 = new Point2D(x1, y1);\r\n        const p2 = new Point2D(x2, y2);\r\n\r\n        const v1 = Vector2D.fromPoints(p0, p1);\r\n        const v2 = Vector2D.fromPoints(p1, p2);\r\n\r\n        if ((v1.x === 0 && v2.x === 0) || (v1.y === 0 && v2.y === 0) ||\r\n            v1.isZero() || v2.isZero()) {\r\n            this.subpath.push(\"L\", this.ctm.transfer(p1), this.ctm.transfer(p2));\r\n            this.currentPointOnCtm = p2;\r\n            return;\r\n        }\r\n\r\n        const arcAngle = Vector2D.getAngle(v1, v2);\r\n        if (arcAngle === 0 || arcAngle === Math.PI) {\r\n            this.subpath.push(\"L\", this.ctm.transfer(p1), this.ctm.transfer(p2));\r\n            this.currentPointOnCtm = p2;\r\n            return;\r\n        }\r\n        const linesAngle = Math.PI - arcAngle;\r\n\r\n        const a = radius / Math.sin(linesAngle / 2);\r\n        const b = Math.abs(Math.cos(linesAngle / 2) * a);\r\n\r\n        let vang1 = Vector2D.fromPoints(p1, p0).getAngle();\r\n        let vang2 = v2.getAngle();\r\n\r\n        const cp1 = new Point2D(\r\n            b * Math.cos(vang1) + p1.x,\r\n            b * Math.sin(vang1) + p1.y);\r\n        const cp2 = new Point2D(\r\n            b * Math.cos(vang2) + p1.x,\r\n            b * Math.sin(vang2) + p1.y);\r\n        if (Math.abs(vang2 - vang1) > Math.PI) {\r\n            if (vang2 > vang1) vang1 += Math.PI * 2;\r\n            else               vang2 += Math.PI * 2;\r\n        }\r\n        const center = new Point2D(\r\n            a * Math.cos((vang1 + vang2) / 2) + p1.x,\r\n            a * Math.sin((vang1 + vang2) / 2) + p1.y);\r\n\r\n        const vcp1 = Vector2D.fromPoints(center, cp1);\r\n        const vcp2 = Vector2D.fromPoints(center, cp2);\r\n        let angcp1 = vcp1.getAngle();\r\n        let angcp2 = vcp2.getAngle();\r\n        if (Math.abs(angcp2 - angcp1) > Math.PI) {\r\n            if (angcp2 > angcp1) angcp1 += Math.PI * 2;\r\n            else                 angcp2 += Math.PI * 2;\r\n        }\r\n\r\n        // this.subpath.push(\"L\", this.ctm.transfer(cp1), this.ctm.transfer(center), this.ctm.transfer(cp2)); // debug\r\n        this.arc(center.x, center.y, radius, angcp1, angcp2, angcp1 >= angcp2);\r\n        this.lineTo(x2, y2);\r\n    }\r\n\r\n    public circle(x: number, y: number, radius: number, anticlockwise: boolean = true): void {\r\n        if (! this.subpathIsEmptyOrClosed) this.closePath();\r\n        this.arc(x, y, radius, 0, 2 * Math.PI, anticlockwise);\r\n        this.closePath();\r\n    }\r\n\r\n    public rect(x: number, y: number, w: number, h: number, anticlockwise: boolean = true): void {\r\n        if (anticlockwise) {\r\n            this.subpath.push(\r\n                \"M\", this.ctm.transfer(new Point2D(x, y)), \"L\",\r\n                this.ctm.transfer(new Point2D(x, y + h)), this.ctm.transfer(new Point2D(x + w, y + h)),\r\n                this.ctm.transfer(new Point2D(x + w, y)), \"Z\"\r\n                );\r\n        } else {\r\n            this.subpath.push(\r\n                \"M\", this.ctm.transfer(new Point2D(x, y)), \"L\",\r\n                this.ctm.transfer(new Point2D(x + w, y)), this.ctm.transfer(new Point2D(x + w, y + h)),\r\n                this.ctm.transfer(new Point2D(x, y + h)), \"Z\"\r\n                );\r\n        }\r\n        this.currentPoint = null;\r\n        this.currentPointOnCtm = null;\r\n    }\r\n\r\n    public roundRect(x: number, y: number, w: number, h: number, radius: number, anticlockwise: boolean = true): void {\r\n        if (anticlockwise) {\r\n            this.moveTo(x        , y + h / 2);\r\n            this. arcTo(x        , y + h    , x + w / 2, y + h    , radius);\r\n            this. arcTo(x + w    , y + h    , x + w    , y + h / 2, radius);\r\n            this. arcTo(x + w    , y        , x + w / 2, y        , radius);\r\n            this. arcTo(x        , y        , x        , y + h / 2, radius);\r\n        } else {\r\n            this.moveTo(x + w / 2, y        );\r\n            this. arcTo(x + w    , y        , x + w    , y + h / 2, radius);\r\n            this. arcTo(x + w    , y + h    , x + w / 2, y + h    , radius);\r\n            this. arcTo(x        , y + h    , x        , y + h / 2, radius);\r\n            this. arcTo(x        , y        , x + w / 2, y        , radius);\r\n        }\r\n        this.closePath();\r\n    }\r\n\r\n    private getInheritedStyle(style: string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern):\r\n            {style: string | SvgCanvas2DLinerGradient | SvgCanvas2DRadialGradient | SvgCanvas2DPattern, alpha: number} {\r\n\r\n        let found: RegExpMatchArray | null;\r\n        const styleStr = style.toString();\r\n        let alpha = this.globalAlpha;\r\n\r\n        let color: {r: number, g: number, b: number, a: number} | {h: number, s: number, l: number, a: number} | boolean;\r\n\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        if (color = WebColor.isRgb(styleStr)) {\r\n            const rgba = color as {r: number, g: number, b: number, a: number};\r\n            alpha *= rgba.a;\r\n            style = `rgb(${rgba.r},${rgba.g},${rgba.b})`;\r\n        }\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        else if (color = WebColor.isHsl(styleStr)) {\r\n            const hsla = color as {h: number, s: number, l: number, a: number};\r\n            alpha *= hsla.a;\r\n            style = `hsl(${hsla.h},${hsla.s * 100}%,${hsla.l * 100}%)`;\r\n        }\r\n        else if (! this.ctm.isIdentity()) {\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            if (found = styleStr.match(/^url\\(\\#lgrad-(.+)\\)$/)) {\r\n                this.assets.push(\r\n                    `<linearGradient id=\"lgrad-${++this.idCount}\" xlink:href=\"#lgrad-${found[1]}\" ` +\r\n                    `gradientTransform=\"matrix(${this.ctm.toString()})\" />`);\r\n                style = `url(#lgrad-${this.idCount})`;\r\n            }\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            else if (found = styleStr.match(/^url\\(\\#rgrad-(.+)\\)$/)) {\r\n                this.assets.push(\r\n                    `<radialGradient id=\"rgrad-${++this.idCount}\" xlink:href=\"#rgrad-${found[1]}\" ` +\r\n                    `gradientTransform=\"matrix(${this.ctm.toString()})\" />`);\r\n                style = `url(#rgrad-${this.idCount})`;\r\n            }\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            else if (found = styleStr.match(/^url\\(\\#pat-(.+)\\)$/)) {\r\n                this.assets.push(\r\n                    `<pattern id=\"pat-${++this.idCount}\" xlink:href=\"#pat-${found[1]}\" ` +\r\n                    `patternTransform=\"matrix(${this.ctm.toString()})\" />`);\r\n                style = `url(#pat-${this.idCount})`;\r\n            }\r\n        }\r\n        return {style, alpha};\r\n    }\r\n\r\n    private getStrokeAttrs(): string {\r\n        const styleAndAlpha = this.getInheritedStyle(this.strokeStyle);\r\n        return `stroke=\"${styleAndAlpha.style}\" stroke-width=\"${this.lineWidth}\" ` +\r\n            `stroke-linecap=\"${this.lineCap}\" stroke-linejoin=\"${this.lineJoin}\" stroke-miterlimit=\"${this.miterLimit}\" ` +\r\n            (this.getLineDash().length > 0 ?\r\n                `stroke-dasharray=\"${this.getLineDash().join(\",\")}\" stroke-dashoffset=\"${this.lineDashOffset}\" ` : \"\") +\r\n            `stroke-opacity=\"${styleAndAlpha.alpha}\" `;\r\n    }\r\n    private getFillAttrs(fillRule: string): string {\r\n        const styleAndAlpha = this.getInheritedStyle(this.fillStyle);\r\n        return `fill=\"${styleAndAlpha.style}\" fill-rule=\"${fillRule}\" fill-opacity=\"${styleAndAlpha.alpha}\" `;\r\n    }\r\n\r\n    private getFilterAttrs(): string {\r\n        if (this.filterIdUrl === \"\") {\r\n            // do nothing.\r\n        } else if (this.filterIdUrl === null) {\r\n            if (0 < this.shadowBlur || (\r\n                this.globalCompositeOperation &&\r\n                this.globalCompositeOperation !== \"source-over\")) {\r\n\r\n                let content = \"\";\r\n                let merge   = \"\";\r\n\r\n                if (0 < this.shadowBlur) {\r\n                    content +=\r\n                        `<feGaussianBlur stdDeviation=\"${this.shadowBlur}\" result=\"blur\" />\\n` +\r\n                        `<feOffset in=\"blur\" dx=\"${this.shadowOffsetX}\" dy=\"${this.shadowOffsetY}\" result=\"offsetBlur\" />\\n`;\r\n                    if (this.shadowColor === null) {\r\n                        merge +=\r\n                            `<feMergeNode in=\"offsetBlur\" />`;\r\n                    } else {\r\n                        const c = new WebColor(this.shadowColor);\r\n                        content +=\r\n                            `<feColorMatrix in=\"offsetBlur\" type=\"matrix\" values=\"` +\r\n                            ` 1 1 1 0 0 ` +\r\n                            ` 1 1 1 0 0 ` +\r\n                            ` 1 1 1 0 0 ` +\r\n                            ` 0 0 0 1 0 \" result=\"color1\" />\\n` +\r\n                            `<feColorMatrix in=\"color1\" type=\"matrix\" values=\"` +\r\n                            ` ${c.r / 255} 0 0 0 0 ` +\r\n                            ` 0 ${c.g / 255} 0 0 0 ` +\r\n                            ` 0 0 ${c.b / 255} 0 0 ` +\r\n                            ` 0 0 0 ${c.a} 0 \" result=\"color2\" />\\n`;\r\n                        merge +=\r\n                            `<feMergeNode in=\"color2\" />\\n`;\r\n                    }\r\n                }\r\n                if (this.globalCompositeOperation && this.globalCompositeOperation !== \"source-over\") {\r\n                    let op = this.globalCompositeOperation;\r\n                    let reverse = false;\r\n                    switch (op) {\r\n                        case \"destination-in\":\r\n                            reverse = true;\r\n                        case \"source-in\":\r\n                            op = \"in\";\r\n                            break;\r\n                        case \"destination-out\":\r\n                            reverse = true;\r\n                        case \"source-out\":\r\n                            op = \"out\";\r\n                            break;\r\n                        case \"destination-atop\":\r\n                            reverse = true;\r\n                        case \"source-atop\":\r\n                            op = \"atop\";\r\n                            break;\r\n                        case \"xor\":\r\n                            op = \"xor\";\r\n                            break;\r\n                        case \"destination-over\":\r\n                            reverse = true;\r\n                        default: // lighter|copy|arithmetic\r\n                            op = \"over\";\r\n                            break;\r\n                    }\r\n                    content +=\r\n                        `<feComposite in${reverse ? \"2\" : \"\"}=\"SourceGraphic\" ` +\r\n                        `in${reverse ? \"\" : \"2\"}=\"BackgroundImage\" operator=\"${op}\" result=\"comp\"/>\\n`;\r\n                    merge   += `<feMergeNode in=\"comp\" />\\n`;\r\n                } else {\r\n                    merge   += `<feMergeNode in=\"SourceGraphic\" />\\n`;\r\n                }\r\n\r\n                this.assets.push(\r\n                    `<filter id=\"filter-${++this.idCount}\" filterUnits=\"userSpaceOnUse\">\\n` +\r\n                    `${content}<feMerge>\\n${merge}</feMerge>\\n</filter>`);\r\n\r\n                this.filterIdUrl = `url(#filter-${this.idCount})`;\r\n                return `filter=\"${this.filterIdUrl}\" `;\r\n            } else {\r\n                this.filterIdUrl = \"\";\r\n            }\r\n        } else if (this.filterIdUrl !== \"\") {\r\n            return `filter=\"${this.filterIdUrl}\" `;\r\n        }\r\n        return \"\";\r\n    }\r\n\r\n    private getMultilineTextHeight(c: SvgTextAttributes) {\r\n        if ((c.multiline) &&\r\n            typeof this.font === 'string' &&\r\n            (c.lineHeight === void 0 || c.lineHeight === null)) {\r\n\r\n            const re = new RegExp(\r\n                '^\\\\s*(?:normal|italic|oblique)?\\s*' +\r\n                '(?:normal|small-caps)?\\\\s*' +\r\n                '(?:normal|bold|lighter|bolder|100|200|300|400|500|600|700|800|900)??\\\\s*' +\r\n                '(?:([0-9.]+)(px|pt|mm|cm|in|pc)?)(?:\\\\/(?:([0-9.]+|normal)(px|pt|mm|cm|in|em|%)?))?');\r\n\r\n            const x = re.exec(this.font);\r\n            if (x) {\r\n                // px\r\n                let fontSizePx = Number(x[1]);\r\n                switch (x[2]) {\r\n                    case 'pt':\r\n                        // 1pt === 1/72in === (1/72)*96px\r\n                        fontSizePx = (fontSizePx / 72.0) * 96.0;\r\n                        break;\r\n                    case 'pc':\r\n                        fontSizePx = (fontSizePx / 72.0) * 96.0 / 12.0;\r\n                        break;\r\n                    case 'mm':\r\n                        // 1mm === 1/25.4in === (1/25.4)*96px\r\n                        fontSizePx = (fontSizePx / 25.4) * 96.0;\r\n                        break;\r\n                    case 'cm':\r\n                        fontSizePx = (fontSizePx / 25.4) * 96.0 * 100.0;\r\n                        break;\r\n                    case 'in':\r\n                        // 1in === 96px\r\n                        fontSizePx = fontSizePx * 96.0;\r\n                        break;\r\n                }\r\n\r\n                let lineHeight = fontSizePx;\r\n                if (x[3]) {\r\n                    lineHeight = Number(x[3]) || 1.3;\r\n                    switch (x[4]) {\r\n                        case 'px':\r\n                            break;\r\n                        case 'pt':\r\n                            // 1pt === 1/72in === (1/72)*96px\r\n                            lineHeight = (lineHeight / 72.0) * 96.0;\r\n                            break;\r\n                        case 'pc':\r\n                            lineHeight = (lineHeight / 72.0) * 96.0 / 12.0;\r\n                            break;\r\n                        case 'mm':\r\n                            // 1mm === 1/25.4in === (1/25.4)*96px\r\n                            lineHeight = (lineHeight / 25.4) * 96.0;\r\n                            break;\r\n                        case 'cm':\r\n                            lineHeight = (lineHeight / 25.4) * 96.0 * 100.0;\r\n                            break;\r\n                        case 'in':\r\n                            // 1in === 96px\r\n                            lineHeight = lineHeight * 96.0;\r\n                            break;\r\n                        case '%':\r\n                            lineHeight = lineHeight / 100 * fontSizePx;\r\n                            break;\r\n                        default:\r\n                            lineHeight = lineHeight * fontSizePx;\r\n                            break;\r\n                    }\r\n                }\r\n                c.lineHeight = lineHeight;\r\n            }\r\n        }\r\n        return c;\r\n    }\r\n\r\n    private getTextAttributes(maxWidthOrExtraAttrs: number | SvgTextAttributes | null | undefined): string {\r\n        let textAlign: TextAlignValue;\r\n        switch (this.textAlign) {\r\n        case \"left\":\r\n            textAlign = \"start\";\r\n            break;\r\n        case \"right\":\r\n            textAlign = \"end\";\r\n            break;\r\n        case \"center\":\r\n            textAlign = \"middle\";\r\n            break;\r\n        default:\r\n            textAlign = this.textAlign;\r\n            break;\r\n        }\r\n\r\n        let textBaseline: TextBaselineValue;\r\n        switch (this.textBaseline) {\r\n        case \"top\":\r\n            textBaseline = \"text-before-edge\";\r\n            break;\r\n        case \"bottom\":\r\n            textBaseline = \"text-after-edge\";\r\n            break;\r\n        default:\r\n            textBaseline = this.textBaseline;\r\n            break;\r\n        }\r\n\r\n        let a = ` style=\"font:${Escape.xml(this.font)};\" text-anchor=\"${textAlign}\" dominant-baseline=\"${textBaseline}\"`;\r\n\r\n        if (maxWidthOrExtraAttrs === void 0 || maxWidthOrExtraAttrs === null) {\r\n            return a;\r\n        } else if (typeof maxWidthOrExtraAttrs === \"number\") {\r\n            a += ` textLength=\"${maxWidthOrExtraAttrs}\"`;\r\n            return a;\r\n        }\r\n\r\n        const c = this.getMultilineTextHeight(maxWidthOrExtraAttrs);\r\n\r\n        if (c.textLength                 !== void 0 && c.textLength                 !== null) a += ` textLength=\"${c.textLength}\"`;\r\n        if (c.lengthAdjust               !== void 0 && c.lengthAdjust               !== null) a += ` lengthAdjust=\"${c.lengthAdjust}\"`;\r\n        if (c.rotate                     !== void 0 && c.rotate                     !== null) a += ` rotate=\"${c.rotate}\"`;\r\n        if (c.writingMode                !== void 0 && c.writingMode                !== null) a += ` writing-mode=\"${c.writingMode}\"`;\r\n        if (c.glyphOrientationVertical   !== void 0 && c.glyphOrientationVertical   !== null) a += ` glyph-orientation-vertical=\"${c.glyphOrientationVertical}\"`;\r\n        if (c.glyphOrientationHorizontal !== void 0 && c.glyphOrientationHorizontal !== null) a += ` glyph-orientation-horizontal=\"${c.glyphOrientationHorizontal}\"`;\r\n        if (c.direction                  !== void 0 && c.direction                  !== null) a += ` direction=\"${c.direction}\"`;\r\n        if (c.unicodeBidi                !== void 0 && c.unicodeBidi                !== null) a += ` unicode-bidi=\"${c.unicodeBidi}\"`;\r\n        if (c.textDecoration             !== void 0 && c.textDecoration             !== null) a += ` text-decoration=\"${c.textDecoration}\"`;\r\n        if (c.kerning                    !== void 0 && c.kerning                    !== null) a += ` kerning=\"${c.kerning}\"`;\r\n        if (c.letterSpacing              !== void 0 && c.letterSpacing              !== null) a += ` letter-spacing=\"${c.letterSpacing}\"`;\r\n        if (c.wordSpacing                !== void 0 && c.wordSpacing                !== null) a += ` word-spacing=\"${c.wordSpacing}\"`;\r\n\r\n        return a;\r\n    }\r\n    private getTextPath(maxWidthOrExtraAttrs: number | SvgTextAttributes | null | undefined): {id: string, offset?: number} | null {\r\n        if (maxWidthOrExtraAttrs !== void 0 && maxWidthOrExtraAttrs !== null && typeof maxWidthOrExtraAttrs === \"object\") {\r\n            if (maxWidthOrExtraAttrs.textPath) {\r\n                const inv = this.ctm.getInverse();\r\n                const subpath: Array<string | number | Point2D> = [];\r\n                for (const v of this.subpath) {\r\n                    if (v instanceof Point2D) {\r\n                        subpath.push(inv.transfer(v));\r\n                    } else {\r\n                        subpath.push(v);\r\n                    }\r\n                }\r\n\r\n                const id = `path-${++this.idCount}`;\r\n                this.assets.push(`<path id=\"${id}\" d=\"${WordWrap.loose(subpath.join(\" \"))}\" />\\n`);\r\n                this.subpath = [];\r\n                this.currentPoint = null;\r\n                this.currentPointOnCtm = null;\r\n\r\n                const r: {id: string, offset?: number} = {id: `#${id}`};\r\n\r\n                if (maxWidthOrExtraAttrs.textPathOffset !== void 0 && maxWidthOrExtraAttrs.textPathOffset !== null) {\r\n                    r.offset = maxWidthOrExtraAttrs.textPathOffset;\r\n                }\r\n                return r;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    private convertToMultiline(text: string, x: number, y: number, maxWidthOrExtraAttrs: number | SvgTextAttributes | null | undefined): string {\r\n        if (maxWidthOrExtraAttrs !== void 0 && maxWidthOrExtraAttrs !== null && typeof maxWidthOrExtraAttrs === \"object\") {\r\n            if (maxWidthOrExtraAttrs.multiline && !maxWidthOrExtraAttrs.textPath) {\r\n                const h = maxWidthOrExtraAttrs.lineHeight || 12;\r\n                const s = text.replace(/\\r\\n/g, \"\\n\").replace(/\\r/g, \"\\n\");\r\n                const a = Escape.xml(s).split(\"\\n\");\r\n                switch (maxWidthOrExtraAttrs.writingMode) {\r\n                    case \"tb\": case \"tb-rl\":\r\n                        return `<tspan>${a.join(`</tspan><tspan dx=\"${-h}\" y=\"${y}\">`)}</tspan>`;\r\n                    default:\r\n                        return `<tspan>${a.join(`</tspan><tspan x=\"${x}\" dy=\"${h}\">`)}</tspan>`;\r\n                }\r\n            }\r\n        }\r\n        return `<tspan x=\"${x}\" y=\"${y}\">${Escape.xml(text)}</tspan>`;\r\n    }\r\n\r\n    public stroke(): void {\r\n        this.content +=\r\n            `<g ${this.getStrokeAttrs()}fill=\"none\"${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<path d=\"${WordWrap.loose(this.subpath.join(\" \"))}\" />\\n</g>\\n`;\r\n    }\r\n    public strokeRect(x: number, y: number, w: number, h: number): void {\r\n        this.content +=\r\n            `<g ${this.getStrokeAttrs()}fill=\"none\"${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<rect x=\"${x}\" y=\"${y}\" width=\"${w}\" height=\"${h}\" ` +\r\n            `transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            \"/></g>\\n\";\r\n    }\r\n    public strokeText(text: string, x: number, y: number, maxWidthOrExtraAttrs?: number | SvgTextAttributes): void {\r\n        const path = this.getTextPath(maxWidthOrExtraAttrs);\r\n        this.content +=\r\n            `<g ${this.getStrokeAttrs()}fill=\"none\"${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<text` +\r\n            `${this.getTextAttributes(maxWidthOrExtraAttrs)} transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            `\\n>${path !== null ? `<textPath xlink:href=\"${path.id}\"${path.offset !== void 0 ? ` startOffset=\"${path.offset}\"` : \"\"}\\n>` : \"\"}` +\r\n            this.convertToMultiline(text, x, y, maxWidthOrExtraAttrs) +\r\n            `${path !== null ? \"</textPath>\" : \"\"}</text></g>\\n`;\r\n    }\r\n\r\n    /**\r\n     * fillRule: nonzero|evenodd\r\n     */\r\n    public fill(fillRule: string = \"nonzero\"): void {\r\n        this.content +=\r\n            `<g stroke=\"none\" ${this.getFillAttrs(fillRule)}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<path d=\"${WordWrap.loose(this.subpath.join(\" \"))}\" />\\n</g>\\n`;\r\n    }\r\n    public fillRect(x: number, y: number, w: number, h: number): void {\r\n        this.content +=\r\n            `<g stroke=\"none\" ${this.getFillAttrs(\"nonzero\")}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<rect x=\"${x}\" y=\"${y}\" width=\"${w}\" height=\"${h}\" ` +\r\n            `transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            \"/></g>\\n\";\r\n    }\r\n    public fillText(text: string, x: number, y: number, maxWidthOrExtraAttrs?: number | SvgTextAttributes): void {\r\n        const path = this.getTextPath(maxWidthOrExtraAttrs);\r\n        this.content +=\r\n            `<g stroke=\"none\" ${this.getFillAttrs(\"nonzero\")}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<text` +\r\n            `${this.getTextAttributes(maxWidthOrExtraAttrs)} transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            `\\n>${path !== null ? `<textPath xlink:href=\"${path.id}\"${path.offset !== void 0 ? ` startOffset=\"${path.offset}\"` : \"\"}\\n>` : \"\"}` +\r\n            this.convertToMultiline(text, x, y, maxWidthOrExtraAttrs) +\r\n            `${path !== null ? \"</textPath>\" : \"\"}</text></g>\\n`;\r\n    }\r\n\r\n    /**\r\n     * fillRule: nonzero|evenodd\r\n     */\r\n    public fillStroke(fillRule: string = \"nonzero\"): void {\r\n        this.content +=\r\n            `<g ${this.getFillAttrs(fillRule)}${this.getStrokeAttrs()}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<path d=\"${WordWrap.loose(this.subpath.join(\" \"))}\" />\\n</g>\\n`;\r\n    }\r\n    public fillStrokeRect(x: number, y: number, w: number, h: number): void {\r\n        this.content +=\r\n            `<g ${this.getFillAttrs(\"nonzero\")}${this.getStrokeAttrs()}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<rect x=\"${x}\" y=\"${y}\" width=\"${w}\" height=\"${h}\" ` +\r\n            `transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            \"/></g>\\n\";\r\n    }\r\n    public fillStrokeText(text: string, x: number, y: number, maxWidthOrExtraAttrs?: number | SvgTextAttributes): void {\r\n        const path = this.getTextPath(maxWidthOrExtraAttrs);\r\n        this.content +=\r\n            `<g ${this.getFillAttrs(\"nonzero\")}${this.getStrokeAttrs()}${this.getFilterAttrs()}` +\r\n            (this.clipPath.length > 0 ? ` clip-path=\"${this.clipPath}\" ` : \"\") +\r\n            `>\\n<text` +\r\n            `${this.getTextAttributes(maxWidthOrExtraAttrs)} transform=\"matrix(${this.ctm.toString()})\" ` +\r\n            `\\n>${path !== null ? `<textPath xlink:href=\"${path.id}\"${path.offset !== void 0 ? ` startOffset=\"${path.offset}\"` : \"\"}\\n>` : \"\"}` +\r\n            this.convertToMultiline(text, x, y, maxWidthOrExtraAttrs) +\r\n            `${path !== null ? \"</textPath>\" : \"\"}</text></g>\\n`;\r\n    }\r\n\r\n    public getLineDash(): number[] {\r\n        return this.lineDash;\r\n    }\r\n    public setLineDash(segments: number[]): void {\r\n        this.lineDash = segments;\r\n    }\r\n\r\n    /**\r\n     * fillRule: nonzero|evenodd\r\n     */\r\n    public clip(fillRule: string = \"nonzero\"): void {\r\n        const a =\r\n            `<clipPath id=\"clip-${++this.idCount}\" fill-rule=\"${fillRule}\" >` +\r\n            `<path d=\"${WordWrap.loose(this.subpath.join(\" \"))}\" /></clipPath>`;\r\n        this.assets.push(a);\r\n        this.clipPath = `url(#clip-${this.idCount})`;\r\n    }\r\n\r\n    public registerImage(imageData: HTMLImageElement | HTMLCanvasElement | SvgCanvasImageData, id?: string): string {\r\n        const img = imageData = this.convertImageToSvgImageData(imageData);\r\n        const imgId = (id === null || id === void 0) ? `img-${++this.idCount}_w${img.width}_h${img.height}` : id;\r\n        const a =\r\n            `<image id=\"${imgId}\" \\n` +\r\n            `x=\"${0}\" y=\"${0}\" width=\"${1}\" height=\"${1}\" ` +\r\n            `preserveAspectRatio=\"none\" ` +\r\n            `xlink:href=\"${img.url}\" />`;\r\n        this.assets.push(a);\r\n        return `#${imgId}`;\r\n    }\r\n\r\n    public registerCustomFilter(id: string, markup: string): void {\r\n        this.assets.push(markup);\r\n        this.filterIdUrl = `url(#${id})`;\r\n    }\r\n\r\n    public registerCustomAsset(markup: string | SvgCanvas2DAsset): void {\r\n        this.assets.push(markup);\r\n    }\r\n    public appendCustomContent(markup: string): void {\r\n        this.content += `<g transform=\"matrix(${this.ctm.toString()})\">${markup}</g>\\n`;\r\n    }\r\n\r\n    public createLinearGradient(x0: number, y0: number, x1: number, y1: number): SvgCanvas2DLinerGradient {\r\n        const a = new SvgCanvas2DLinerGradient(`lgrad-${++this.idCount}`, x0, y0, x1, y1);\r\n        this.assets.push(a);\r\n        return a;\r\n    }\r\n    /** fr is ignored. fr is always 0. */\r\n    public createRadialGradient(cx: number, cy: number, r: number, fx: number, fy: number, fr?: number): SvgCanvas2DRadialGradient {\r\n        const a = new SvgCanvas2DRadialGradient(`rgrad-${++this.idCount}`, cx, cy, r, fx, fy);\r\n        this.assets.push(a);\r\n        return a;\r\n    }\r\n\r\n    public createPattern(imageData: HTMLImageElement | HTMLCanvasElement | SvgCanvasImageData, repetition?: string): SvgCanvas2DPattern {\r\n        const a = new SvgCanvas2DPattern(`pat-${++this.idCount}`, this.convertImageToSvgImageData(imageData));\r\n        this.assets.push(a);\r\n        return a;\r\n    }\r\n    public beginPattern(): void {\r\n        this.contentSaved = this.content;\r\n        this.content = \"\";\r\n        const s = new SvgCanvasGraphicState();\r\n        this.graphicsStack.push(s);\r\n    }\r\n    public endPattern(x: number, y: number, width: number, height: number): string {\r\n        const id = ++this.idCount;\r\n        const a =\r\n            `<pattern id=\"pat-${id}\" patternUnits=\"userSpaceOnUse\" patternContentUnits=\"userSpaceOnUse\" ` +\r\n            `x=\"${x}\" y=\"${y}\" width=\"${width}\" height=\"${height}\">\\n${this.content}</pattern>`;\r\n        this.assets.push(a);\r\n        this.content = this.contentSaved;\r\n        this.contentSaved = \"\";\r\n        this.restore();\r\n        return `url(#pat-${id})`;\r\n    }\r\n\r\n    private convertImageToSvgImageData(imageData: HTMLImageElement | HTMLCanvasElement | SvgCanvasImageData): SvgCanvasImageData {\r\n        let img: SvgCanvasImageData;\r\n        if (typeof HTMLImageElement !== \"undefined\" && imageData instanceof HTMLImageElement) {\r\n            const c = document.createElement(\"canvas\");\r\n            c.width = imageData.width;\r\n            c.height = imageData.height;\r\n            const ctx = c.getContext(\"2d\");\r\n            if (ctx === null) {\r\n                throw new Error(\"SvgCanvas#convertImageToSvgImageData: Can't get context from Canvas.\");\r\n            }\r\n            ctx.drawImage(imageData, 0, 0);\r\n            img = new SvgCanvasImageData(c.toDataURL(), 0, 0, c.width, c.height);\r\n        } else if (typeof HTMLCanvasElement !== \"undefined\" && imageData instanceof HTMLCanvasElement) {\r\n            img = new SvgCanvasImageData(imageData.toDataURL(), 0, 0, imageData.width, imageData.height);\r\n        } else {\r\n            img = imageData as SvgCanvasImageData;\r\n        }\r\n        return img;\r\n    }\r\n\r\n    public drawImage(imageData: HTMLImageElement | HTMLCanvasElement | SvgCanvasImageData | string,\r\n                     canvasOffsetX: number, canvasOffsetY: number,\r\n                     canvasImageWidth: number, canvasImageHeight: number): void {\r\n        let img: SvgCanvasImageData;\r\n        if (typeof imageData === \"string\")\r\n            img = new SvgCanvasImageData(imageData, 0, 0, canvasImageWidth, canvasImageHeight);\r\n        else\r\n            img = this.convertImageToSvgImageData(imageData);\r\n\r\n        if (img.url.startsWith(\"#\")) {\r\n            const tm = this.ctm.translate(canvasOffsetX, canvasOffsetY).scale(canvasImageWidth, canvasImageHeight);\r\n            this.content +=\r\n                `<g><use x=\"0\" y=\"0\" ` +\r\n                `transform=\"matrix(${tm.toString()})\" ` +\r\n                `\\nxlink:href=\"${img.url}\" /></g>\\n`;\r\n        } else {\r\n            this.content +=\r\n                `<g><image x=\"${canvasOffsetX}\" y=\"${canvasOffsetY}\" ` +\r\n                `width=\"${canvasImageWidth}\" height=\"${canvasImageHeight}\" ` +\r\n                `preserveAspectRatio=\"none\" ` +\r\n                `transform=\"matrix(${this.ctm.toString()})\" ` +\r\n                `\\nxlink:href=\"${img.url}\" /></g>\\n`;\r\n        }\r\n    }\r\n\r\n    public beginGroup(): void {\r\n        this.content += \"<g>\";\r\n    }\r\n    public endGroup(): void {\r\n        this.content += \"</g>\";\r\n    }\r\n\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private _fontHeightRatio = 1.25;\r\n    public get fontHeightRatio(): number {\r\n        return this._fontHeightRatio;\r\n    }\r\n    public set fontHeightRatio(value: number) {\r\n        this._fontHeightRatio = value;\r\n    }\r\n    public measureText(text: string): { width: number; } {\r\n        const re = this.font.match(/(\\d+(?:.\\d+)?)(px|pt|in|mm|em|rem|%)/);\r\n        let scale = 1;\r\n        let size = 12;\r\n        if (re) {\r\n            // 96px === 1in (not 72px === 1in)\r\n            // 72pt === 1in\r\n            //  1mm === 1/25.4in\r\n            switch (re[2]) {\r\n            case \"pt\": // pt -> px\r\n                scale = 96 / 72;\r\n                break;\r\n            case \"in\": // in -> px\r\n                scale = 96;\r\n                break;\r\n            case \"mm\": // mm -> px\r\n                scale = 96 * (1 / 25.4);\r\n                break;\r\n            case \"em\": case \"rem\":\r\n                scale = 12;\r\n                break;\r\n            case \"%\":\r\n                scale = 1 / 100;\r\n                break;\r\n            }\r\n            size = Number.parseFloat(re[1]);\r\n        }\r\n        return { width: Math.round(scale * size * Array.from(text\r\n            .replace(/[\\u200B-\\u200D\\uFEFF\\u200E\\u200F]/g, '')\r\n            .normalize('NFKC')).length / this.fontHeightRatio)\r\n        };\r\n    }\r\n\r\n    public clearRect(x: number, y: number, w: number, h: number): void {\r\n        this.save();\r\n        this.fillStyle = 'white';\r\n        this.fillRect(x, y, w, h);\r\n        this.restore();\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { NumberPrecision } from \"red-agate-util/modules/convert/NumberPrecision\";\r\n\r\n\r\nconst dp = NumberPrecision.decimalPlaces(6);\r\n\r\n\r\nexport class Point2D {\r\n    constructor(public x: number, public y: number) {\r\n    }\r\n    public toString(): string {\r\n        return `${this.x},${this.y}`;\r\n    }\r\n}\r\n\r\n\r\nexport class Vector2D {\r\n    constructor(public x: number, public y: number) {\r\n    }\r\n    public static fromPoints(p1: Point2D, p2: Point2D): Vector2D {\r\n        return new Vector2D(p2.x - p1.x, p2.y - p1.y);\r\n    }\r\n    public isZero(): boolean {\r\n        return this.x === 0 && this.y === 0;\r\n    }\r\n    public getLength(): number {\r\n        return Math.sqrt(this.x ** 2 + this.y ** 2);\r\n    }\r\n    /** returns 0..2*PI */\r\n    public getAngle(): number {\r\n        let angle = Math.acos(this.x / Math.sqrt(this.x ** 2 + this.y ** 2)); // returns 0..PI\r\n        if (0 > this.y) {\r\n            // 180deg < angle < 360deg\r\n            angle = Math.PI * 2 - angle;\r\n        }\r\n        return angle;\r\n    }\r\n    /** returns 0..PI */\r\n    public static getAngle(v1: Vector2D, v2: Vector2D): number {\r\n        const vlen1 = Math.sqrt(v1.x ** 2 + v1.y ** 2);\r\n        const vlen2 = Math.sqrt(v2.x ** 2 + v2.y ** 2);\r\n        return Math.acos((v1.x * v2.x + v1.y * v2.y) / (vlen1 * vlen2));\r\n    }\r\n    public toString(): string {\r\n        return `${this.x},${this.y}`;\r\n    }\r\n}\r\n\r\n\r\nexport class Rect2D {\r\n    constructor(public x: number, public y: number, public w: number, public h: number) {\r\n    }\r\n}\r\n\r\n\r\nexport class TransferMatrix2D {\r\n    // [m11 m21 dx]\r\n    // [m12 m22 dy]\r\n    // [  0   0  1]\r\n    public m11: number = 1;\r\n    public m21: number = 0;\r\n    public dx: number = 0;\r\n    public m12: number = 0;\r\n    public m22: number = 1;\r\n    public dy: number = 0;\r\n\r\n    constructor(m11: number, m12: number, m21: number, m22: number, dx: number, dy: number);\r\n    constructor(src?: TransferMatrix2D);\r\n    // tslint:disable-next-line:variable-name\r\n    constructor(m11_or_src: any, m12?: number, m21?: number, m22?: number, dx?: number, dy?: number) {\r\n        if (! m11_or_src) return;\r\n        if (typeof m11_or_src === \"object\") {\r\n            this.m11 = m11_or_src.m11 || this.m11;\r\n            this.m12 = m11_or_src.m12 || this.m12;\r\n            this.m21 = m11_or_src.m21 || this.m21;\r\n            this.m22 = m11_or_src.m22 || this.m22;\r\n            this.dx  = m11_or_src.dx  || this.dx;\r\n            this.dy  = m11_or_src.dy  || this.dy;\r\n        } else {\r\n            this.m11 = m11_or_src || this.m11;\r\n            this.m12 = m12 || this.m12;\r\n            this.m21 = m21 || this.m21;\r\n            this.m22 = m22 || this.m22;\r\n            this.dx  = dx  || this.dx;\r\n            this.dy  = dy  || this.dy;\r\n        }\r\n    }\r\n    public toString(): string {\r\n        return `${this.m11} ${this.m12} ${this.m21} ${this.m22} ${this.dx} ${this.dy}`;\r\n    }\r\n    public isIdentity(): boolean {\r\n        return this.m11 === 1 && this.m21 === 0 && this.dx === 0 &&\r\n            this.m12 === 0 && this.m22 === 1 && this.dy === 0;\r\n    }\r\n\r\n    public scale(x: number, y: number): TransferMatrix2D {\r\n        return this.concat(new TransferMatrix2D(x, 0, 0, y, 0, 0));\r\n    }\r\n    public translate(x: number, y: number): TransferMatrix2D {\r\n        return this.concat(new TransferMatrix2D(1, 0, 0, 1, x, y));\r\n    }\r\n    public rotate(angle: number): TransferMatrix2D {\r\n        return this.concat(new TransferMatrix2D(\r\n            Math.cos(angle), Math.sin(angle), -Math.sin(angle), Math.cos(angle), 0, 0));\r\n    }\r\n    public skewX(angle: number): TransferMatrix2D {\r\n        return this.concat(new TransferMatrix2D(1, 0, Math.tan(angle), 1, 0, 0));\r\n    }\r\n    public skewY(angle: number): TransferMatrix2D {\r\n        return this.concat(new TransferMatrix2D(1, Math.tan(angle), 0, 1, 0, 0));\r\n    }\r\n    public concat(mat: TransferMatrix2D): TransferMatrix2D {\r\n        // [m11' m21' dx']   [m11*n11 + m21*n12, m11*n21 + m21*n22, m11*tx + m21*ty + dx]   [m11 m21 dx]   [n11 n21 tx]\r\n        // [m12' m22' dy'] = [m12*n11 + m22*n12, m12*n21 + m22*n22, m12*tx + m22*ty + dy] = [m12 m22 dy] * [n12 n22 ty]\r\n        // [  0    0   1 ]   [                0,                 0,                    1]   [  0   0  1]   [  0   0  1]\r\n        return new TransferMatrix2D(\r\n            this.m11 * mat.m11 + this.m21 * mat.m12,             // m11\r\n            this.m12 * mat.m11 + this.m22 * mat.m12,             // m12\r\n            this.m11 * mat.m21 + this.m21 * mat.m22,             // m21\r\n            this.m12 * mat.m21 + this.m22 * mat.m22,             // m22\r\n            this.m11 * mat.dx  + this.m21 * mat.dy + this.dx,    // dx\r\n            this.m12 * mat.dx  + this.m22 * mat.dy + this.dy     // dy\r\n        );\r\n    }\r\n\r\n    public transfer(p: Point2D): Point2D;\r\n    public transfer(x: number, y: number): number[];\r\n    // tslint:disable-next-line:variable-name\r\n    public transfer(x_or_p: any, y?: number): any {\r\n        // [x']   [m11 m21 dx]   [x]\r\n        // [y'] = [m12 m22 dy] * [y]\r\n        // [1 ]   [  0   0  1]   [1]\r\n        if (typeof x_or_p === \"object\")\r\n            return new Point2D(\r\n                dp(this.m11 * x_or_p.x + this.m21 * x_or_p.y + this.dx),\r\n                dp(this.m12 * x_or_p.x + this.m22 * x_or_p.y + this.dy)\r\n                );\r\n        else\r\n            return [\r\n                dp(this.m11 * x_or_p + this.m21 * (y as number) + this.dx),\r\n                dp(this.m12 * x_or_p + this.m22 * (y as number) + this.dy)\r\n                ];\r\n    }\r\n\r\n    //        [m11, m21, dx]\r\n    // A    = [m12, m22, dy]\r\n    //        [  0,   0,  1]\r\n    //\r\n    //        [ m22,  -m21,  m21* dy- dx*m22]\r\n    // A^-1 = [-m12,   m11,   dx*m12-m11* dy]\r\n    //        [   0,     0,  m11*m22-m21*m12]\r\n    public getInverse(): TransferMatrix2D {\r\n        return new TransferMatrix2D(\r\n             this.m22,\r\n            -this.m12,\r\n            -this.m21,\r\n             this.m11,\r\n            this.m21 * this.dy  - this.dx  * this.m22,\r\n            this.dx  * this.m12 - this.m11 * this.dy\r\n        );\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport class WebColor {\r\n    private static colorNames = new Map<string, {r: number, g: number, b: number}>([\r\n        [\"red\"                 , {r: 255, g:   0, b:   0}],\r\n        [\"darkred\"             , {r: 139, g:   0, b:   0}],\r\n        [\"maroon\"              , {r: 128, g:   0, b:   0}],\r\n        [\"brown\"               , {r: 165, g:  42, b:  42}],\r\n        [\"firebrick\"           , {r: 178, g:  34, b:  34}],\r\n        [\"sienna\"              , {r: 160, g:  82, b:  45}],\r\n        [\"saddlebrown\"         , {r: 139, g:  69, b:  19}],\r\n        [\"peru\"                , {r: 205, g: 133, b:  63}],\r\n        [\"indianred\"           , {r: 205, g:  92, b:  92}],\r\n        [\"rosybrown\"           , {r: 188, g: 143, b: 143}],\r\n        [\"lightcoral\"          , {r: 240, g: 128, b: 128}],\r\n        [\"salmon\"              , {r: 250, g: 128, b: 114}],\r\n        [\"darksalmon\"          , {r: 233, g: 150, b: 122}],\r\n        [\"coral\"               , {r: 255, g: 127, b:  80}],\r\n        [\"tomato\"              , {r: 255, g:  99, b:  71}],\r\n        [\"sandybrown\"          , {r: 244, g: 164, b:  96}],\r\n        [\"lightsalmon\"         , {r: 255, g: 160, b: 122}],\r\n        [\"chocolate\"           , {r: 210, g: 105, b:  30}],\r\n        [\"orangered\"           , {r: 255, g:  69, b:   0}],\r\n        [\"orange\"              , {r: 255, g: 165, b:   0}],\r\n        [\"darkorange\"          , {r: 255, g: 140, b:   0}],\r\n        [\"tan\"                 , {r: 210, g: 180, b: 140}],\r\n        [\"peachpuff\"           , {r: 255, g: 218, b: 185}],\r\n        [\"bisque\"              , {r: 255, g: 228, b: 196}],\r\n        [\"moccasin\"            , {r: 255, g: 228, b: 181}],\r\n        [\"navajowhite\"         , {r: 255, g: 222, b: 173}],\r\n        [\"wheat\"               , {r: 245, g: 222, b: 179}],\r\n        [\"burlywood\"           , {r: 222, g: 184, b: 135}],\r\n        [\"darkgoldenrod\"       , {r: 184, g: 134, b:  11}],\r\n        [\"goldenrod\"           , {r: 218, g: 165, b:  32}],\r\n        [\"gold\"                , {r: 255, g: 215, b:   0}],\r\n        [\"yellow\"              , {r: 255, g: 255, b:   0}],\r\n        [\"lightgoldenrodyellow\", {r: 250, g: 250, b: 210}],\r\n        [\"palegoldenrod\"       , {r: 238, g: 232, b: 170}],\r\n        [\"khaki\"               , {r: 240, g: 230, b: 140}],\r\n        [\"darkkhaki\"           , {r: 189, g: 183, b: 107}],\r\n        [\"blanchedalmond\"      , {r: 255, g: 235, b: 205}],\r\n        [\"lightyellow\"         , {r: 255, g: 255, b: 224}],\r\n        [\"cornsilk\"            , {r: 255, g: 248, b: 220}],\r\n        [\"antiquewhite\"        , {r: 250, g: 235, b: 215}],\r\n        [\"papayawhip\"          , {r: 255, g: 239, b: 213}],\r\n        [\"papayawhite\"         , {r: 255, g: 239, b: 213}],\r\n        [\"lemonchiffon\"        , {r: 255, g: 250, b: 205}],\r\n        [\"beige\"               , {r: 245, g: 245, b: 220}],\r\n        [\"oldlace\"             , {r: 253, g: 245, b: 230}],\r\n        [\"lightcyan\"           , {r: 224, g: 255, b: 255}],\r\n        [\"aliceblue\"           , {r: 240, g: 248, b: 255}],\r\n        [\"whitesmoke\"          , {r: 245, g: 245, b: 245}],\r\n        [\"lavenderblush\"       , {r: 255, g: 240, b: 245}],\r\n        [\"floralwhite\"         , {r: 255, g: 250, b: 240}],\r\n        [\"mintcream\"           , {r: 245, g: 255, b: 250}],\r\n        [\"ghostwhite\"          , {r: 248, g: 248, b: 255}],\r\n        [\"honeydew\"            , {r: 240, g: 255, b: 240}],\r\n        [\"seashell\"            , {r: 255, g: 245, b: 238}],\r\n        [\"ivory\"               , {r: 255, g: 255, b: 240}],\r\n        [\"azure\"               , {r: 240, g: 255, b: 255}],\r\n        [\"snow\"                , {r: 255, g: 250, b: 250}],\r\n        [\"white\"               , {r: 255, g: 255, b: 255}],\r\n        [\"gainsboro\"           , {r: 220, g: 220, b: 220}],\r\n        [\"lightgrey\"           , {r: 211, g: 211, b: 211}],\r\n        [\"silver\"              , {r: 192, g: 192, b: 192}],\r\n        [\"darkgray\"            , {r: 169, g: 169, b: 169}],\r\n        [\"lightslategray\"      , {r: 119, g: 136, b: 153}],\r\n        [\"slategray\"           , {r: 112, g: 128, b: 144}],\r\n        [\"gray\"                , {r: 128, g: 128, b: 128}],\r\n        [\"dimgray\"             , {r: 105, g: 105, b: 105}],\r\n        [\"darkslategray\"       , {r:  47, g:  79, b:  79}],\r\n        [\"black\"               , {r:   0, g:   0, b:   0}],\r\n        [\"lawngreen\"           , {r: 124, g: 252, b:   0}],\r\n        [\"greenyellow\"         , {r: 173, g: 255, b:  47}],\r\n        [\"chartreuse\"          , {r: 127, g: 255, b:   0}],\r\n        [\"lime\"                , {r:   0, g: 255, b:   0}],\r\n        [\"limegreen\"           , {r:  50, g: 205, b:  50}],\r\n        [\"yellowgreen\"         , {r: 154, g: 205, b:  50}],\r\n        [\"olive\"               , {r: 128, g: 128, b:   0}],\r\n        [\"olivedrab\"           , {r: 107, g: 142, b:  35}],\r\n        [\"darkolivegreen\"      , {r:  85, g: 107, b:  47}],\r\n        [\"forestgreen\"         , {r:  34, g: 139, b:  34}],\r\n        [\"darkgreen\"           , {r:   0, g: 100, b:   0}],\r\n        [\"green\"               , {r:   0, g: 128, b:   0}],\r\n        [\"seagreen\"            , {r:  46, g: 139, b:  87}],\r\n        [\"mediumseagreen\"      , {r:  60, g: 179, b: 113}],\r\n        [\"darkseagreen\"        , {r: 143, g: 188, b: 143}],\r\n        [\"lightgreen\"          , {r: 144, g: 238, b: 144}],\r\n        [\"palegreen\"           , {r: 152, g: 251, b: 152}],\r\n        [\"springgreen\"         , {r:   0, g: 255, b: 127}],\r\n        [\"mediumspringgreen\"   , {r:   0, g: 250, b: 154}],\r\n        [\"teal\"                , {r:   0, g: 128, b: 128}],\r\n        [\"darkcyan\"            , {r:   0, g: 139, b: 139}],\r\n        [\"lightseagreen\"       , {r:  51, g: 153, b: 153}],\r\n        [\"mediumaquamarine\"    , {r: 102, g: 205, b: 170}],\r\n        [\"cadetblue\"           , {r:  95, g: 158, b: 160}],\r\n        [\"steelblue\"           , {r:  70, g: 130, b: 180}],\r\n        [\"aquamarine\"          , {r: 127, g: 255, b: 212}],\r\n        [\"powderblue\"          , {r: 176, g: 224, b: 230}],\r\n        [\"paleturquoise\"       , {r: 175, g: 238, b: 238}],\r\n        [\"lightblue\"           , {r: 173, g: 216, b: 230}],\r\n        [\"lightsteelblue\"      , {r: 176, g: 196, b: 222}],\r\n        [\"skyblue\"             , {r: 135, g: 206, b: 235}],\r\n        [\"lightskyblue\"        , {r: 135, g: 206, b: 250}],\r\n        [\"mediumturquoise\"     , {r:  72, g: 209, b: 204}],\r\n        [\"turquoise\"           , {r:  64, g: 224, b: 208}],\r\n        [\"darkturquoise\"       , {r:   0, g: 206, b: 209}],\r\n        [\"aqua\"                , {r:   0, g: 255, b: 255}],\r\n        [\"cyan\"                , {r:   0, g: 255, b: 255}],\r\n        [\"deepskyblue\"         , {r:   0, g: 191, b: 255}],\r\n        [\"dodgerblue\"          , {r:  30, g: 144, b: 255}],\r\n        [\"cornflowerblue\"      , {r: 100, g: 149, b: 237}],\r\n        [\"royalblue\"           , {r:  65, g: 105, b: 225}],\r\n        [\"blue\"                , {r:   0, g:   0, b: 255}],\r\n        [\"mediumblue\"          , {r:   0, g:   0, b: 205}],\r\n        [\"navy\"                , {r:   0, g:   0, b: 128}],\r\n        [\"darkblue\"            , {r:   0, g:   0, b: 139}],\r\n        [\"midnightblue\"        , {r:  25, g:  25, b: 112}],\r\n        [\"darkslateblue\"       , {r:  72, g:  61, b: 139}],\r\n        [\"mediumslateblue\"     , {r: 123, g: 104, b: 238}],\r\n        [\"slateblue\"           , {r: 106, g:  90, b: 205}],\r\n        [\"darkorchid\"          , {r: 153, g:  50, b: 204}],\r\n        [\"darkviolet\"          , {r: 148, g:   0, b: 211}],\r\n        [\"blueviolet\"          , {r: 138, g:  43, b: 226}],\r\n        [\"mediumorchid\"        , {r: 186, g:  85, b: 211}],\r\n        [\"plum\"                , {r: 221, g: 160, b: 221}],\r\n        [\"lavender\"            , {r: 230, g: 230, b: 250}],\r\n        [\"thistle\"             , {r: 216, g: 191, b: 216}],\r\n        [\"orchid\"              , {r: 218, g: 112, b: 214}],\r\n        [\"magenta\"             , {r: 255, g:   0, b: 255}],\r\n        [\"fuchsia\"             , {r: 255, g:   0, b: 255}],\r\n        [\"violet\"              , {r: 238, g: 130, b: 238}],\r\n        [\"indigo\"              , {r:  75, g:   0, b: 130}],\r\n        [\"darkmagenta\"         , {r: 139, g:   0, b: 139}],\r\n        [\"purple\"              , {r: 128, g:   0, b: 128}],\r\n        [\"mediumpurple\"        , {r: 147, g: 112, b: 219}],\r\n        [\"mediumvioletred\"     , {r: 199, g:  21, b: 133}],\r\n        [\"deeppink\"            , {r: 255, g:  20, b: 147}],\r\n        [\"hotpink\"             , {r: 255, g: 105, b: 180}],\r\n        [\"crimson\"             , {r: 220, g:  20, b:  60}],\r\n        [\"palevioletred\"       , {r: 219, g: 112, b: 147}],\r\n        [\"lightpink\"           , {r: 255, g: 182, b: 193}],\r\n        [\"pink\"                , {r: 255, g: 192, b: 203}],\r\n        [\"mistyrose\"           , {r: 255, g: 228, b: 225}]\r\n    ]);\r\n\r\n    /**\r\n     * red\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _r: number = 0;\r\n\r\n    /**\r\n     * green\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _g: number = 0;\r\n\r\n    /**\r\n     * blue\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _b: number = 0;\r\n\r\n    /**\r\n     * alpha channel\r\n     */\r\n    // tslint:disable-next-line:variable-name\r\n    private _a: number = 1;\r\n\r\n    private static cutoff255(x: number) {\r\n        if (x < 0) return 0;\r\n        if (x > 255) return 255;\r\n        return x;\r\n    }\r\n\r\n    private static cutoff1(x: number) {\r\n        if (x < 0) return 0;\r\n        if (x > 1) return 1;\r\n        return x;\r\n    }\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    constructor(name_or_code?: string | {r: number, g: number, b: number, a?: number} | {h: number, s: number, l: number, a?: number}) {\r\n        if (! name_or_code) return;\r\n\r\n        let rgba: {r: number, g: number, b: number, a: number} = {r: 0, g: 0, b: 0, a: 1};\r\n\r\n        if (typeof name_or_code === \"object\") {\r\n            if (name_or_code.hasOwnProperty(\"r\")) {\r\n                const c2 = name_or_code as {r: number, g: number, b: number, a?: number};\r\n                rgba = {\r\n                    r: WebColor.cutoff255(c2.r),\r\n                    g: WebColor.cutoff255(c2.g),\r\n                    b: WebColor.cutoff255(c2.b),\r\n                    a: WebColor.cutoff1(c2.a || 1)\r\n                };\r\n            } else if (name_or_code.hasOwnProperty(\"h\")) {\r\n                const hsla = name_or_code as {h: number, s: number, l: number, a?: number};\r\n                rgba = WebColor.hslToRgb(hsla.h, hsla.s, hsla.l, hsla.a || 1);\r\n            }\r\n        } else if (typeof name_or_code === \"string\") {\r\n            let c: {r: number, g: number, b: number, a?: number} | {h: number, s: number, l: number, a?: number} | boolean;\r\n\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            if (c = (WebColor.isCode(name_or_code) || WebColor.isName(name_or_code) || WebColor.isRgb(name_or_code))) {\r\n                const c2 = c as {r: number, g: number, b: number, a: number};\r\n                rgba = c2;\r\n            }\r\n            // tslint:disable-next-line:no-conditional-assignment\r\n            else if (c = WebColor.isHsl(name_or_code)) {\r\n                const hsla = c as {h: number, s: number, l: number, a?: number};\r\n                rgba = WebColor.hslToRgb(hsla.h, hsla.s, hsla.l, hsla.a);\r\n            }\r\n        }\r\n\r\n        this._r = rgba.r;\r\n        this._g = rgba.g;\r\n        this._b = rgba.b;\r\n        this._a = rgba.a;\r\n    }\r\n    public static isRgb(str: string): {r: number, g: number, b: number, a: number} | boolean {\r\n        let r: number, g: number, b: number, a = 1;\r\n        let match: RegExpMatchArray | null;\r\n\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        if (match = str.match(/^\\s*rgb(a?)\\(\\s*(-?(?:\\d+\\.)?\\d+%?)\\s*,\\s*(-?(?:\\d+\\.)?\\d+%?)\\s*,\\s*(-?(?:\\d+\\.)?\\d+%?)\\s*(?:,\\s*((?:[01]?\\.)?\\d+)\\s*)?\\)\\s*$/)) {\r\n            r = WebColor.cutoff255(match[2].endsWith(\"%\") ? Math.round(Number.parseFloat(match[2]) / 100 * 255) : Number.parseInt(match[2], 10));\r\n            g = WebColor.cutoff255(match[3].endsWith(\"%\") ? Math.round(Number.parseFloat(match[3]) / 100 * 255) : Number.parseInt(match[3], 10));\r\n            b = WebColor.cutoff255(match[4].endsWith(\"%\") ? Math.round(Number.parseFloat(match[4]) / 100 * 255) : Number.parseInt(match[4], 10));\r\n            if (match[1] === \"a\") {\r\n                a = WebColor.cutoff1(Number.parseFloat(match[5]));\r\n            }\r\n            return {r, g, b, a};\r\n        }\r\n        return false;\r\n    }\r\n    public static isHsl(str: string): {h: number, s: number, l: number, a: number} | boolean {\r\n        let h: number, s: number, l: number, a = 1;\r\n        let match: RegExpMatchArray | null;\r\n\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        if (match = str.match(/^\\s*hsl(a?)\\(\\s*(-?(?:\\d+\\.)?\\d+)\\s*,\\s*(-?(?:\\d+\\.)?\\d+%?)\\s*,\\s*(-?(?:\\d+\\.)?\\d+%?)\\s*,\\s*((?:[01]?\\.)?\\d+)\\s*\\)\\s*$/)) {\r\n            h = Number.parseFloat(match[2]) % 360;\r\n            if (h < 0) h = 360 - h;\r\n            s = WebColor.cutoff1(match[3].endsWith(\"%\") ? Math.round(Number.parseFloat(match[3]) / 100) : Number.parseFloat(match[3]));\r\n            l = WebColor.cutoff1(match[4].endsWith(\"%\") ? Math.round(Number.parseFloat(match[4]) / 100) : Number.parseFloat(match[4]));\r\n            if (match[1] === \"a\") {\r\n                a = WebColor.cutoff1(Number.parseFloat(match[5]));\r\n            }\r\n            return {h, s, l, a};\r\n        }\r\n        return false;\r\n    }\r\n    public static isCode(str: string): {r: number, g: number, b: number, a: number} | boolean {\r\n        let   r: number, g: number, b: number;\r\n        const a = 1;\r\n        let match: RegExpMatchArray | null;\r\n\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        if (match = str.match(/^\\s*#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])\\s*$/)) {\r\n            r = Number.parseInt(`${match[1]}${match[1]}`, 16);\r\n            g = Number.parseInt(`${match[2]}${match[2]}`, 16);\r\n            b = Number.parseInt(`${match[3]}${match[3]}`, 16);\r\n            return {r, g, b, a};\r\n        }\r\n        // tslint:disable-next-line:no-conditional-assignment\r\n        else if (match = str.match(/^\\s*#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})\\s*$/)) {\r\n            r = Number.parseInt(match[1], 16);\r\n            g = Number.parseInt(match[2], 16);\r\n            b = Number.parseInt(match[3], 16);\r\n            return {r, g, b, a};\r\n        }\r\n        return false;\r\n    }\r\n    public static isName(str: string): {r: number, g: number, b: number, a: number} | boolean {\r\n        if (WebColor.colorNames.has(str)) {\r\n            const c = WebColor.colorNames.get(str) as {r: number, g: number, b: number, a: number};\r\n            return {r: c.r, g: c.g, b: c.b, a: 1};\r\n        }\r\n        return false;\r\n    }\r\n    public static fromRgba(r: number, g: number, b: number, a: number = 1): WebColor {\r\n        const c = new WebColor();\r\n        c._r = WebColor.cutoff255(r);\r\n        c._g = WebColor.cutoff255(g);\r\n        c._b = WebColor.cutoff255(b);\r\n        c._a = WebColor.cutoff1(a);\r\n        return c;\r\n    }\r\n    private static hueToRgb(m1: number, m2: number, h: number): number {\r\n        if (h < 0) h += 1;\r\n        if (h > 1) h -= 1;\r\n        if (h * 6 < 1) return m1 + (m2 - m1) * h * 6;\r\n        if (h * 2 < 1) return m2;\r\n        if (h * 3 < 2) return m1 + (m2 - m1) * (2 / 3 - h) * 6;\r\n        return m1;\r\n    }\r\n    public static hslToRgb(h: number, s: number, l: number, a: number = 1): {r: number, g: number, b: number, a: number} {\r\n        // tslint:disable-next-line:ban-comma-operator\r\n        h = h % 360, s = WebColor.cutoff1(s), l = WebColor.cutoff1(l);\r\n        if (h < 0) h = 360 - h;\r\n        const m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s,\r\n              m1 = l * 2 - m2;\r\n        return {\r\n            r: WebColor.hueToRgb(m1, m2, h + 1 / 3),\r\n            g: WebColor.hueToRgb(m1, m2, h),\r\n            b: WebColor.hueToRgb(m1, m2, h - 1 / 3),\r\n            a: WebColor.cutoff1(a)\r\n        };\r\n    }\r\n    public static fromHsla(h: number, s: number, l: number, a: number = 1): WebColor {\r\n        // tslint:disable-next-line:ban-comma-operator\r\n        h = h % 360, s = WebColor.cutoff1(s), l = WebColor.cutoff1(l);\r\n        if (h < 0) h = 360 - h;\r\n        const  c = new WebColor();\r\n        const m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s,\r\n              m1 = l * 2 - m2;\r\n        c._r = WebColor.hueToRgb(m1, m2, h + 1 / 3);\r\n        c._g = WebColor.hueToRgb(m1, m2, h);\r\n        c._b = WebColor.hueToRgb(m1, m2, h - 1 / 3);\r\n        c._a = WebColor.cutoff1(a);\r\n        return c;\r\n    }\r\n    public static fromGray(gray: number, a: number = 1): WebColor {\r\n        const c = new WebColor();\r\n        c._r = WebColor.cutoff255(gray);\r\n        c._g = WebColor.cutoff255(gray);\r\n        c._b = WebColor.cutoff255(gray);\r\n        c._a = WebColor.cutoff1(a);\r\n        return c;\r\n    }\r\n    public get r(): number {\r\n        return this._r;\r\n    }\r\n    public get g(): number {\r\n        return this._g;\r\n    }\r\n    public get b(): number {\r\n        return this._b;\r\n    }\r\n    public get a(): number {\r\n        return this._a;\r\n    }\r\n    public toString(): string {\r\n        if (this._a !== 1) return this.toRgbaString();\r\n        else               return this.toCode();\r\n    }\r\n    public toCode(): string {\r\n        return \"#\" +\r\n            `0${this._r.toString(16)}`.slice(-2) +\r\n            `0${this._g.toString(16)}`.slice(-2) +\r\n            `0${this._b.toString(16)}`.slice(-2);\r\n    }\r\n    public toRgbString(): string {\r\n        return `rgb(${this._r},${this._g},${this._b})`;\r\n    }\r\n    public toRgbaString(): string {\r\n        return `rgb(${this._r},${this._g},${this._b},${this._a})`;\r\n    }\r\n    public toHsla(): {h: number, s: number, l: number, a: number} {\r\n        const r = this._r / 255, g = this._g / 255, b = this._b / 255;\r\n        const max = Math.max(g, b),\r\n              min = Math.min(g, b);\r\n        let   h = 0, s = 0;\r\n        const l = (max + min) / 2, c = max - min;\r\n        if (max !== min) {\r\n            if      (max === r) h = (g - b) / c;\r\n            else if (max === g) h = (b - r) / c + 2;\r\n            else                h = (r - g) / c + 4;\r\n            h = h * 60 + (h < 0 ? 360 : 0);\r\n            s = c / (l < 0.5 ? max + min : 2 - max - min);\r\n        }\r\n        return {h, s, l, a: this._a};\r\n    }\r\n    public toHslString(): string {\r\n        const c = this.toHsla();\r\n        return `hsl(${c.h},${c.s}%,${c.l}%)`;\r\n    }\r\n    public toHslaString(): string {\r\n        const c = this.toHsla();\r\n        return `hsl(${c.h},${c.s}%,${c.l}%,${this._a})`;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './drawing/canvas/SvgCanvas';\r\nexport * from './drawing/canvas/TransferMatrix2D';\r\nexport * from './drawing/canvas/VectorCanvas2D';\r\nexport * from './drawing/canvas/WebColor';\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/**\r\n * Base64 encoder / decoder.\r\n */\r\nexport class Base64 {\r\n\r\n    /**\r\n     * Base64 encoder.\r\n     * @param message Plaintext message.\r\n     * @param lineLength The maximum line length of the encoded message. If set, the encoded message is split with a newline character.\r\n     * @return Base64 encoded message.\r\n     */\r\n    public static encode(message: ArrayLike<number>, lineLength?: number): string {\r\n        // A-Z: 0x00 -> 0x41\r\n        // a-z: 0x1a -> 0x61\r\n        // 0-9: 0x34 -> 0x30\r\n        //   +: 0x3e -> 0x2b\r\n        //   /: 0x3f -> 0x2f\r\n\r\n        // 0-5/6-3/4-8\r\n        let buf: number[] = [];\r\n        const n = message.length;\r\n        let   v = 0, q = 0, r = 0;\r\n\r\n        for (let i = 0, m = 0; i < n; i++) {\r\n            m = i % 3;\r\n            if (m === 0) {\r\n                v = message[i];\r\n                r = (v <<  4) & 0x30;  // 2bit\r\n                v = (v >>> 2) & 0x3f; // 6bit\r\n            }\r\n            else if (m === 1) {\r\n                v = message[i];\r\n                q =  (v <<  2) & 0x3c;        // 4bit\r\n                v = ((v >>> 4) & 0x0f) | r; // 4bit\r\n                r = q;\r\n            }\r\n            else {\r\n                q = message[i];\r\n                v = ((q >>> 6) & 0x03) | r; // 2bit\r\n                if      (v < 0x1a) v += 0x41;\r\n                else if (v < 0x34) v += 0x47;\r\n                else if (v < 0x3e) v -= 0x04;\r\n                else if (v < 0x3f) v  = 0x2b;\r\n                else               v  = 0x2f;\r\n                buf.push(v);\r\n                v = q & 0x3f; // 6bit\r\n            }\r\n            if      (v < 0x1a) v += 0x41;\r\n            else if (v < 0x34) v += 0x47;\r\n            else if (v < 0x3e) v -= 0x04;\r\n            else if (v < 0x3f) v  = 0x2b;\r\n            else               v  = 0x2f;\r\n            buf.push(v);\r\n        }\r\n\r\n        if (n % 3) {\r\n            if      (r < 0x1a) r += 0x41;\r\n            else if (r < 0x34) r += 0x47;\r\n            else if (r < 0x3e) r -= 0x04;\r\n            else if (r < 0x3f) r  = 0x2b;\r\n            else               r  = 0x2f;\r\n            buf.push(r);\r\n        }\r\n\r\n        while (buf.length % 4) {\r\n            buf.push(0x3d);\r\n        }\r\n\r\n        if (lineLength && 0 < lineLength) {\r\n            const s: number[] = [];\r\n            for (let i = 0; i < buf.length; i += lineLength) {\r\n                s.push(...buf.slice(i, i + lineLength), 0x0a);\r\n            }\r\n            buf = s;\r\n        }\r\n\r\n        let z = \"\";\r\n\r\n        for (let i = 0; i < buf.length; i++) {\r\n            // NOTE: spread operator (...buf) causes stack overflow.\r\n            z += String.fromCharCode(buf[i]);\r\n        }\r\n        return z;\r\n    }\r\n\r\n    /**\r\n     * Base64 decoder.\r\n     * @param message Base64 encoded message.\r\n     * @return Plaintext message.\r\n     */\r\n    public static decode(message: string): number[] {\r\n        const buf: number[] = [];\r\n        let   i = 0, m = 0, s = 0;\r\n        const n = message.length;\r\n        let   v = 0, r = 0;\r\n\r\n        for (; i < n; i++) {\r\n            m = (i + s) % 4;\r\n            v = message.charCodeAt(i);\r\n            if      (0x41 <= v && v <= 0x5a) v -= 0x41;\r\n            else if (0x61 <= v && v <= 0x7a) v -= 0x47;\r\n            else if (0x30 <= v && v <= 0x39) v += 0x04;\r\n            else if (v === 0x2b)             v  = 0x3e;\r\n            else if (v === 0x2f)             v  = 0x3f;\r\n            else if (v === 0x3d) {\r\n                v = 0;\r\n                i = n;\r\n            } else {\r\n                s++;\r\n                continue;\r\n            }\r\n            if (m === 0) {\r\n                r = (v << 2) & 0xfc; // 6bit\r\n            }\r\n            else if (m === 1) {\r\n                buf.push(r | ((v >>> 4) & 0x03)); // 2bit\r\n                r = (v << 4) & 0xf0; // 4bit\r\n            }\r\n            else if (m === 2) {\r\n                buf.push(r | ((v >>> 2) & 0x0f)); // 4bit\r\n                r = (v << 6) & 0xc0; // 2bit\r\n            }\r\n            else {\r\n                buf.push(r | (v & 0x3f)); // 6bit\r\n            }\r\n        }\r\n        return buf;\r\n    }\r\n\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/**\r\n * Escape sequences encoder.\r\n */\r\nexport class Escape {\r\n\r\n    /**\r\n     * Escape html special characters.\r\n     * @param s Plaintext.\r\n     * @return Html escaped text.\r\n     */\r\n    public static html(s: string): string {\r\n        return s\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&#39;\");\r\n    }\r\n\r\n    /**\r\n     * Escape xml special characters.\r\n     * @param s Plaintext.\r\n     * @return Xml escaped text.\r\n     */\r\n    public static xml(s: string): string {\r\n        return s\r\n            .replace(/&/g, \"&amp;\")\r\n            .replace(/</g, \"&lt;\")\r\n            .replace(/>/g, \"&gt;\")\r\n            .replace(/\"/g, \"&quot;\")\r\n            .replace(/'/g, \"&apos;\");\r\n    }\r\n\r\n}\r\n\r\n\r\n/**\r\n * Escape sequences decoder.\r\n */\r\nexport class Unescape {\r\n\r\n    /**\r\n     * Unescape html character references.\r\n     * @param s Html escaped text.\r\n     * @return Plaintext.\r\n     */\r\n    public static html(s: string): string {\r\n        return s\r\n            .replace(/&#39;/g, \"'\")\r\n            .replace(/&#x(?:0{0,2})27;/ig, \"'\")\r\n            .replace(/&apos;/g, \"'\")\r\n\r\n            .replace(/&#34;/g, \"\\\"\")\r\n            .replace(/&#x(?:0{0,2})22;/ig, \"\\\"\")\r\n            .replace(/&quot;/g, \"\\\"\")\r\n\r\n            .replace(/&#62;/g, \">\")\r\n            .replace(/&#x(?:0{0,2})3e;/ig, \">\")\r\n            .replace(/&gt;/g, \">\")\r\n\r\n            .replace(/&#60;/g, \"<\")\r\n            .replace(/&#x(?:0{0,2})3c;/ig, \"<\")\r\n            .replace(/&lt;/g, \"<\")\r\n\r\n            .replace(/&#38;/g, \"&\")\r\n            .replace(/&#x(?:0{0,2})26;/ig, \"&\")\r\n            .replace(/&amp;/g, \"&\");\r\n    }\r\n\r\n    /**\r\n     * Unescape xml character references.\r\n     * @param s Xml escaped text.\r\n     * @return Plaintext.\r\n     */\r\n    public static xml(s: string): string {\r\n        return Escape.html(s);\r\n    }\r\n\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/**\r\n * Number precision / significant figure\r\n */\r\nexport class NumberPrecision {\r\n    public static decimalPlaces(n: number): (v: number) => number {\r\n        return (v: number) => {\r\n            return Number(v.toFixed(n));\r\n        };\r\n    }\r\n\r\n    public static precision(n: number): (v: number) => number {\r\n        return (v: number) => {\r\n            return Number(v.toPrecision(n));\r\n        };\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport class QueryString {\r\n\r\n    private static *entries(obj: any) {\r\n        for (const key of Object.keys(obj)) {\r\n            yield [key, obj[key]];\r\n        }\r\n    }\r\n\r\n    public static build(params: any): string {\r\n        let qs = \"\";\r\n        let i = 0;\r\n        for (const [key, value] of this.entries(params)) {\r\n            qs += `${i++ ? \"&\" : \"\"}${encodeURIComponent(key)}=${encodeURIComponent(value)}`;\r\n        }\r\n        return qs;\r\n    }\r\n\r\n    public static decode(search: string): any {\r\n        const query = search.substr(1);\r\n        const result: any = {};\r\n        query.split(\"&\").forEach((part) => {\r\n            const item = part.split(\"=\");\r\n            result[item[0]] = decodeURIComponent(item[1]);\r\n        });\r\n        return result;\r\n    }\r\n\r\n}\r\n","// src/convert/TextEncoding.ts#__encodeToUtf8Impl\r\n//\r\n// Original Author:\r\n// http://qiita.com/ukyo/items/1626defd020b2157e6bf\r\n// (c) 2012 ukyo (http://qiita.com/ukyo, https://ukyoweb.com)\r\n\r\n// src/convert/TextEncoding.ts#__decodeUtf8Impl\r\n//\r\n// Original Author:\r\n// http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\r\n// utf.js - UTF-8 <=> UTF-16 convertion\r\n// Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>\r\n// Version: 1.0\r\n// LastModified: Dec 25 1999\r\n// This library is free.  You can redistribute it and/or modify it.\r\n\r\n// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\ninterface TextEncoder {\r\n    encoding: string; // readonly\r\n    encode(input?: string): Uint8Array;\r\n}\r\n\r\ndeclare var TextEncoder: {\r\n    prototype: TextEncoder;\r\n    new (utfLabel?: string): TextEncoder;\r\n};\r\n\r\n\r\ninterface TextDecoder {\r\n    encoding: string;\r\n    fatal: boolean;\r\n    ignoreBOM: boolean;\r\n    decode(input?: any, options?: object): string;\r\n}\r\n\r\ndeclare var TextDecoder: {\r\n    prototype: TextDecoder;\r\n    new (label?: string, options?: object): TextDecoder;\r\n};\r\n\r\n\r\n\r\nexport class TextEncoding {\r\n    private static isNode: boolean;\r\n    private static isTextEncoder: boolean;\r\n    private static utf8Encoder: TextEncoder;\r\n    private static utfDecoder: TextDecoder;\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private static __encodeToUtf8: (str: string) => Uint8Array;\r\n\r\n    // tslint:disable-next-line:variable-name\r\n    private static __decodeUtf8: (buf: ArrayLike<number>) => string;\r\n\r\n    /** static constructor */\r\n    // tslint:disable-next-line:variable-name\r\n    private static __ctor = (() => {\r\n        TextEncoding.isNode = (typeof Buffer !== \"undefined\");\r\n        TextEncoding.isTextEncoder = (typeof TextEncoder !== \"undefined\");\r\n\r\n        if (TextEncoding.isNode) {\r\n            TextEncoding.__encodeToUtf8 = (str: string) => Buffer.from(str, \"utf8\");\r\n            TextEncoding.__decodeUtf8 = (buf: ArrayLike<number>) => Buffer.from(Array.isArray(buf) ? buf : Array.from(buf)).toString(\"utf8\");\r\n        } else if (TextEncoding.isTextEncoder) {\r\n            TextEncoding.utf8Encoder = new TextEncoder(\"utf8\");\r\n            TextEncoding.__encodeToUtf8 = (str: string) => TextEncoding.utf8Encoder.encode(str);\r\n            TextEncoding.utfDecoder = new TextDecoder(\"utf8\");\r\n            TextEncoding.__decodeUtf8 = (buf: ArrayLike<number>) => TextEncoding.utfDecoder.decode(buf);\r\n        } else {\r\n            TextEncoding.__encodeToUtf8 = TextEncoding.__encodeToUtf8Impl;\r\n            TextEncoding.__decodeUtf8 = TextEncoding.__decodeUtf8Impl;\r\n        }\r\n    })();\r\n\r\n    public static encodeToUtf8(str: string): Uint8Array {\r\n        return TextEncoding.__encodeToUtf8(str);\r\n    }\r\n\r\n    public static decodeUtf8(buf: ArrayLike<number>): string {\r\n        return TextEncoding.__decodeUtf8(buf);\r\n    }\r\n\r\n    private static __encodeToUtf8Impl(str: string): Uint8Array {\r\n\r\n        // Original Author:\r\n        // http://qiita.com/ukyo/items/1626defd020b2157e6bf\r\n        // (c) 2012 ukyo (http://qiita.com/ukyo, https://ukyoweb.com)\r\n\r\n        // NOTE: We have modified from original source.\r\n\r\n        const n = str.length;\r\n        let idx = -1,\r\n            byteLength = 512,\r\n            bytes = new Uint8Array(byteLength),\r\n            i: number, c: number;\r\n\r\n        for (i = 0; i < n; ++i) {\r\n            // surrogate pairs (U+D800..U+DFFF) should be decoded to U+010000..U+10FFFF\r\n            // before convert to UTF-8.\r\n            const cp = str.codePointAt(i);\r\n            if (cp === void 0) {\r\n                throw new Error(\"Can't convert string to UTF-8. string include unexpected sequence.\");\r\n            }\r\n            c = cp;\r\n            if (c <= 0x7F) {\r\n                bytes[++idx] = c;\r\n            } else if (c <= 0x7FF) {\r\n                bytes[++idx] = 0xC0 | (c >>>  6)         ;\r\n                bytes[++idx] = 0x80 | (c & 0x3F)         ;\r\n            } else if (c <= 0xFFFF) {\r\n                bytes[++idx] = 0xE0 |  (c >>> 12)        ;\r\n                bytes[++idx] = 0x80 | ((c >>>  6) & 0x3F);\r\n                bytes[++idx] = 0x80 |  (c & 0x3F)        ;\r\n            } else if (c <= 0x10FFFF) {\r\n                // UTF-8 4bytes range is (0x010000..0x1FFFFF) but Unicode codepoint uses <= U+10FFFF.\r\n                bytes[++idx] = 0xF0 |  (c >>> 18)        ;\r\n                bytes[++idx] = 0x80 | ((c >>> 12) & 0x3F);\r\n                bytes[++idx] = 0x80 | ((c >>>  6) & 0x3F);\r\n                bytes[++idx] = 0x80 |  (c & 0x3F)        ;\r\n                if (0x010000 <= c) ++i;\r\n            } else {\r\n                throw new Error(\"Can't convert string to UTF-8. string include unexpected sequence.\");\r\n            }\r\n            if (byteLength - idx <= 4) {\r\n                // tslint:disable-next-line:variable-name\r\n                const _bytes = bytes;\r\n                byteLength *= 2;\r\n                bytes = new Uint8Array(byteLength);\r\n                bytes.set(_bytes);\r\n            }\r\n        }\r\n        return bytes.subarray(0, ++idx);\r\n    }\r\n\r\n    private static __decodeUtf8Impl(buf: ArrayLike<number>): string {\r\n\r\n        // Original Author:\r\n        // http://www.onicos.com/staff/iz/amuse/javascript/expert/utf.txt\r\n        // utf.js - UTF-8 <=> UTF-16 convertion\r\n        // Copyright (C) 1999 Masanao Izumo <iz@onicos.co.jp>\r\n        // Version: 1.0\r\n        // LastModified: Dec 25 1999\r\n        // This library is free.  You can redistribute it and/or modify it.\r\n\r\n        // NOTE: We have modified from original source.\r\n\r\n        let   out = \"\", i = 0;\r\n        const len = buf.length;\r\n        let c: number, char2: number, char3: number, char4: number;\r\n\r\n        while (i < len) {\r\n            c = buf[i++];\r\n            switch (c >>> 4) {\r\n            case 0: case 1: case 2: case 3: case 4: case 5: case 6: case 7:\r\n                // 0xxx xxxx    ( 7bit)\r\n                out += String.fromCodePoint(c);\r\n                break;\r\n            case 12: case 13:\r\n                // 110x xxxx,  10xx xxxx    (11bit)\r\n                char2 = buf[i++];\r\n                out += String.fromCodePoint(\r\n                        ((c     & 0x1F) << 6) |\r\n                         (char2 & 0x3F)\r\n                        );\r\n                break;\r\n            case 14:\r\n                // 1110 xxxx,  10xx xxxx,  10xx xxxx    (16bit)\r\n                char2 = buf[i++];\r\n                char3 = buf[i++];\r\n                out += String.fromCodePoint(\r\n                        ((c     & 0x0F) << 12) |\r\n                        ((char2 & 0x3F) <<  6) |\r\n                        ((char3 & 0x3F) <<  0)\r\n                        );\r\n                break;\r\n            case 16:\r\n                // 1111 0xxx,  10xx xxxx,  10xx xxxx,  10xx xxxx                            (21bit)\r\n                // 1111 10xx,  10xx xxxx,  10xx xxxx,  10xx xxxx,  10xx xxxx                (26bit; invalid Unicode codepoint)\r\n                // 1111 110x,  10xx xxxx,  10xx xxxx,  10xx xxxx,  10xx xxxx,  10xx xxxx    (31bit; invalid Unicode codepoint)\r\n                if ((c >>> 3) & 1) {\r\n                    throw new Error(\"Can't convert UTF-8 to string. UTF-8 include unexpected sequence.\");\r\n                }\r\n                char2 = buf[i++];\r\n                char3 = buf[i++];\r\n                char4 = buf[i++];\r\n                out += String.fromCodePoint(\r\n                        ((c     & 0x07) << 18) |\r\n                        ((char2 & 0x3F) << 12) |\r\n                        ((char3 & 0x3F) <<  6) |\r\n                        ((char4 & 0x3F) <<  0)\r\n                        );\r\n                break;\r\n            }\r\n        }\r\n\r\n        return out;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport class WordWrap {\r\n\r\n    public static loose(str: string, charsPerLine: number = 120): string {\r\n        let r = \"\";\r\n        let i = 0;\r\n        for (const c of str) {\r\n            i++;\r\n            if (i >= charsPerLine && \" \\f\\t\\v\".indexOf(c) > -1) {\r\n                r += \"\\n\";\r\n                i = 0;\r\n            } else {\r\n                r += c;\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    public static normal(str: string, charsPerLine: number = 120): string {\r\n        // TODO: not implemented.\r\n        //       do normal word-wrap.\r\n        return WordWrap.loose(str, charsPerLine);\r\n    }\r\n\r\n    public static force(str: string, charsPerLine: number = 120): string {\r\n        // TODO: not implemented.\r\n        //       do break-word word-wrap.\r\n        return WordWrap.loose(str, charsPerLine);\r\n    }\r\n\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport {BitStreamWriter, StreamSeekOrigin} from '../io/BitStream';\r\n\r\n\r\n\r\nexport class Bitmap {\r\n    private w: number;\r\n    private h: number;\r\n    private widthAligned: number;\r\n    private buf: BitStreamWriter;\r\n\r\n    public constructor(width: number, height: number, src?: Uint8Array) {\r\n        this.w = width;\r\n        this.h = height;\r\n        this.widthAligned = Math.ceil(width / 8) * 8;\r\n        this.buf = new BitStreamWriter(this.widthAligned * height, src);\r\n        this.buf.seek(0, StreamSeekOrigin.End);\r\n    }\r\n\r\n    public get width(): number {\r\n        return this.w;\r\n    }\r\n\r\n    public get height(): number {\r\n        return this.h;\r\n    }\r\n\r\n    public toBytes(): Uint8Array {\r\n        return this.buf.toBytes();\r\n    }\r\n\r\n    public set(x: number, y: number, v: number) {\r\n        this.buf.setBit(y * this.widthAligned + x, v);\r\n    }\r\n\r\n    public get(x: number, y: number): number {\r\n        return this.buf.getBit(y * this.widthAligned + x);\r\n    }\r\n\r\n    public clear(x: number, y: number, width: number, height: number): Bitmap {\r\n        x = Math.max(0, x);\r\n        y = Math.max(0, y);\r\n        width  = Math.max(0, Math.min(width , Math.max(0, this.w - x)));\r\n        height = Math.max(0, Math.min(height, Math.max(0, this.h - y)));\r\n        for (let j = 0; j < height; j++) {\r\n            const offset = (y + j) * this.widthAligned + x;\r\n            for (let i = 0; i < width; i++) {\r\n                this.buf.setBit(offset + i, 0);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public fill(x: number, y: number, width: number, height: number, v: number): Bitmap {\r\n        x = Math.max(0, x);\r\n        y = Math.max(0, y);\r\n        width  = Math.max(0, Math.min(width , Math.max(0, this.w - x)));\r\n        height = Math.max(0, Math.min(height, Math.max(0, this.h - y)));\r\n        for (let j = 0; j < height; j++) {\r\n            const offset = (y + j) * this.widthAligned + x;\r\n            for (let i = 0; i < width; i++) {\r\n                this.buf.setBit(offset + i, v);\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public clearAll(): Bitmap {\r\n        const length = this.buf.byteLength;\r\n        for (let i = 0; i < length; i++) {\r\n            this.buf.setByte(i, 0);\r\n        }\r\n        return this;\r\n    }\r\n\r\n/*\r\n    public trim(x: number, y: number, width: number, height: number): Bitmap {\r\n        x = Math.max(0, x);\r\n        y = Math.max(0, y);\r\n        width  = Math.min(this.w, Math.max(0, width  - x));\r\n        height = Math.min(this.h, Math.max(0, height - y));\r\n        for (let j = 0; j < height; j++) {\r\n        }\r\n        //this.buf;\r\n        return this;\r\n    }\r\n\r\n    public copy(destX: number, destY: number, src: Bitmap, srcX: number, srcY: number, srcWidth: number, srcHeight: number): Bitmap {\r\n        return this;\r\n    }\r\n*/\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './convert/Base64';\r\nexport * from './convert/Escape';\r\nexport * from './convert/QueryString';\r\nexport * from './convert/TextEncoding';\r\nexport * from './convert/WordWrap';\r\n\r\nexport * from './imaging/Bitmap';\r\n\r\nexport * from './io/BitStream';\r\nexport * from './io/FileFetcher';\r\nexport * from './io/FileSaver';\r\nexport * from './io/Html5FileFetcher';\r\nexport * from './io/Logger';\r\nexport * from './io/Uri';\r\n\r\nexport * from './types/Integer53';\r\nexport * from './types/WritableArrayLike';\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\nimport { Integer53 } from \"../types/Integer53\";\r\n\r\n\r\nexport enum StreamSeekOrigin {\r\n    Start, Current, End\r\n}\r\n\r\n\r\n/** MSB first */\r\nexport class BitStreamWriter {\r\n    public static fromBytes(initialSizeBytes: number, bytes: ArrayLike<number>): BitStreamWriter {\r\n        const s = new BitStreamWriter(initialSizeBytes);\r\n        const n = s.byteLength;\r\n        const d = s.data;\r\n        if (n < bytes.length) {\r\n            if (bytes instanceof Uint8Array) {\r\n                s.data.set(bytes.subarray(0, n));\r\n            } else {\r\n                for (let i = 0; i < n; i++) {\r\n                    d[i] = bytes[i];\r\n                }\r\n            }\r\n        } else {\r\n            s.data.set(bytes);\r\n        }\r\n        s.pos = bytes.length * 8;\r\n        return s;\r\n    }\r\n\r\n    private data: Uint8Array;\r\n    private pos = 0;\r\n\r\n    public constructor(initialSizeBytes: number, data?: Uint8Array) {\r\n        if (data) {\r\n            this.data = data;\r\n            this.pos  = data.length * 8;\r\n        } else {\r\n            this.data = new Uint8Array(initialSizeBytes);\r\n        }\r\n    }\r\n\r\n    public writeBits8(v: number, bitLength: number): BitStreamWriter {\r\n        if (0 < bitLength) {\r\n            const p = Math.floor(this.pos / 8);\r\n            const m = this.pos % 8;\r\n\r\n            const w = v & (0x00ff >>> (8 - bitLength));\r\n            const s = 8 - m - bitLength;\r\n\r\n            this.data[p] &= 0x00ff << (8 - m);\r\n            if (s >= 0) {\r\n                this.data[p] |= w << s;\r\n            } else {\r\n                this.data[p    ] |= w >>> -s;\r\n                this.data[p + 1] &= 0x00ff >>> -s;\r\n                this.data[p + 1] |= w  << (8 + s);\r\n            }\r\n\r\n            this.pos += bitLength;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public writeBits(v: number, bitLength: number): BitStreamWriter {\r\n        if (0 < bitLength) {\r\n            let p = Math.floor(this.pos / 8);\r\n            let m = this.pos % 8;\r\n            let l = bitLength;\r\n\r\n            const q = (l % 8) || 8;\r\n            const w = Integer53.slice(v, l - q, l);\r\n            const s = 8 - m - q;\r\n\r\n            this.data[p] &= 0x00ff << (8 - m);\r\n            if (s >= 0) {\r\n                this.data[p] |= w << s;\r\n                if (s === 0) p += 1;\r\n            } else {\r\n                this.data[p    ] |= w >>> -s;\r\n                this.data[p + 1] &= 0x00ff >>> -s;\r\n                this.data[p + 1] |= w  << (8 + s);\r\n                p += 1;\r\n            }\r\n\r\n            l -= q;\r\n            m = (m + q) % 8;\r\n\r\n            if (m === 0) {\r\n                // tslint:disable-next-line:ban-comma-operator\r\n                for (; 0 < l; l -= 8, p++) {\r\n                    this.data[p] = Integer53.slice(v, l - 8, l);\r\n                }\r\n            } else {\r\n                // tslint:disable-next-line:ban-comma-operator\r\n                for (; 0 < l; l -= 8, p++) {\r\n                    const w2 = Integer53.slice(v, l - 8, l);\r\n                    this.data[p    ] &= 0x00ff << (8 - m);\r\n                    this.data[p    ] |= w2 >>> m;\r\n                    this.data[p + 1] &= 0x00ff >>> m;\r\n                    this.data[p + 1] |= w2  << (8 - m);\r\n                }\r\n            }\r\n\r\n            this.pos += bitLength;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public writeBitsFromArray(bytes: Uint8Array, bitOffset: number, bitLength: number): BitStreamWriter {\r\n        if (0 < bitLength) {\r\n            if ((bitOffset % 8) === 0) {\r\n                const o = bitOffset / 8;\r\n                const n = Math.floor(bitLength / 8);\r\n                const m = bitLength % 8;\r\n                let i = 0;\r\n                if ((this.pos % 8) === 0) {\r\n                    const p = this.pos / 8;\r\n                    if (0 < n) {\r\n                        for (; i < n; i++) {\r\n                            this.data[p + i] = bytes[o + i];\r\n                        }\r\n                    }\r\n                    if (m) {\r\n                        this.data[p + i] &= 0x00ff >>> m;\r\n                        this.data[p + i] |= (bytes[o + i] >>> (8 - m)) << (8 - m);\r\n                    }\r\n                    this.pos += bitLength;\r\n                } else {\r\n                    if (0 < n) {\r\n                        for (; i < n; i++) {\r\n                            this.writeBits8(bytes[o + i], 8);\r\n                        }\r\n                    }\r\n                    this.writeBits8(bytes[o + i] >>> (8 - m), m);\r\n                }\r\n            } else {\r\n                const s1 = Math.floor(bitOffset / 8);\r\n                const e1 = Math.floor((bitOffset + bitLength) / 8);\r\n                const s2 = bitOffset % 8;\r\n                const e2 = (bitOffset + bitLength) % 8;\r\n                if (s1 === e1) {\r\n                    this.writeBits8(bytes[e1] >>> (8 - e2), bitLength);\r\n                } else {\r\n                    this.writeBits8(bytes[s1], 8 - s2);\r\n                    for (let i = s1 + 1; i < e1; i++) {\r\n                        this.writeBits8(bytes[i], 8);\r\n                    }\r\n                    this.writeBits8(bytes[e1] >>> (8 - e2), e2);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public seek(bitOffset: number, offset: StreamSeekOrigin): BitStreamWriter {\r\n        switch (offset) {\r\n        case StreamSeekOrigin.Start:\r\n            this.pos = bitOffset;\r\n            break;\r\n        case StreamSeekOrigin.Current:\r\n            this.pos += bitOffset;\r\n            break;\r\n        case StreamSeekOrigin.End:\r\n            this.pos = this.data.length * 8 + bitOffset;\r\n            break;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public resize(sizeBytes: number): BitStreamWriter {\r\n        if (this.data.length > sizeBytes) {\r\n            this.data = this.data.subarray(0, sizeBytes);\r\n            this.pos  = Math.min(this.pos, sizeBytes * 8);\r\n        } else if (this.data.length < sizeBytes) {\r\n            const d = new Uint8Array(sizeBytes);\r\n            d.set(this.data, 0);\r\n            this.data = d;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public writeAlignedSingleByte(v: number): BitStreamWriter {\r\n        const p = Math.ceil(this.pos / 8);\r\n        this.data[p] = v & 0x00ff;\r\n        this.pos = (p + 1) * 8;\r\n        return this;\r\n    }\r\n\r\n    public writeAlignedBytes(bytes: Uint8Array, byteOffset: number, byteLength: number): BitStreamWriter {\r\n        const p = Math.ceil(this.pos / 8);\r\n        for (let i = 0; i < byteLength; i++) {\r\n            this.data[p + i] = bytes[byteOffset + i];\r\n        }\r\n        this.pos = (p + byteLength) * 8;\r\n        return this;\r\n    }\r\n\r\n    public toBytes(): Uint8Array {\r\n        return this.data.subarray(0, this.byteLength);\r\n    }\r\n\r\n    public get byteLength(): number {\r\n        return Math.ceil(this.pos / 8);\r\n    }\r\n\r\n    public get bitLength(): number {\r\n        return this.pos;\r\n    }\r\n\r\n    public slice(startBit: number, endBit: number): BitStreamWriter {\r\n        if (endBit < 0) endBit = this.pos + endBit;\r\n        const r = new BitStreamWriter(Math.ceil((endBit - startBit) / 8));\r\n        r.writeBitsFromArray(this.data, startBit, endBit - startBit);\r\n        return r;\r\n    }\r\n\r\n    public setBit(i: number, v: number) {\r\n        const p = Math.floor(i / 8);\r\n        const m = i % 8;\r\n        this.data[p] = (this.data[p] & (~(0x0080 >>> m))) | ((v ? 0x0080 : 0) >>> m);\r\n    }\r\n\r\n    public getBit(i: number): number {\r\n        const p = Math.floor(i / 8);\r\n        const m = i % 8;\r\n        return (this.data[p] & (0x0080 >>> m)) ? 1 : 0;\r\n    }\r\n\r\n    public setByte(i: number, v: number) {\r\n        this.data[i] = v;\r\n    }\r\n\r\n    public getByte(i: number): number {\r\n        return this.data[i];\r\n    }\r\n\r\n    public concat(...a: BitStreamWriter[]): BitStreamWriter {\r\n        return BitStreamWriter.concat(this, ...a);\r\n    }\r\n\r\n    public static concat(...a: BitStreamWriter[]): BitStreamWriter {\r\n        let n = 0;\r\n        for (const b of a) {\r\n            n += b.bitLength;\r\n        }\r\n        const r = new BitStreamWriter(Math.ceil(n / 8));\r\n\r\n        for (let i = 0; i < a.length; i++) {\r\n            r.writeBitsFromArray(a[i].data, 0, a[i].bitLength);\r\n        }\r\n        return r;\r\n    }\r\n }\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\nimport { Logger } from \"./Logger\";\r\ndeclare var Java: any;\r\n\r\n\r\nexport interface FileFetcherConfig {\r\n    method?: string;\r\n    headers?: Array<{header: string, value: string}>;\r\n    data?: ArrayBufferView | Blob | string;\r\n    user?: string;\r\n    password?: string;\r\n}\r\n\r\n\r\n/**\r\n * Fetching file via HTTP/HTTPS or local file.\r\n *\r\n * @static\r\n */\r\nexport class FileFetcher {\r\n    private static isNashorn: boolean;\r\n    private static isNode: boolean;\r\n\r\n    /** static constructor */\r\n    // tslint:disable-next-line:variable-name\r\n    private static __ctor = (() => {\r\n        FileFetcher.isNashorn = false;\r\n        FileFetcher.isNode = false;\r\n        if (typeof Java !== \"undefined\" && Java && typeof Java.type === \"function\") {\r\n            FileFetcher.isNashorn = true;\r\n        } else if (typeof process === \"object\") {\r\n            if (typeof process.versions === \"object\") {\r\n                if (typeof process.versions.node !== \"undefined\") {\r\n                    if (typeof (process as any).type !== \"undefined\" && (process as any).type === \"renderer\") {\r\n                        // electron renderer process\r\n                    } else {\r\n                        FileFetcher.isNode = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })();\r\n\r\n    private static fetchLocation_node(uri: string, config?: FileFetcherConfig): Promise<{contentType: string | null, data: ArrayLike<number>}> {\r\n        const promise: Promise<{contentType: string | null, data: ArrayLike<number>}> =\r\n            new Promise<{contentType: string | null, data: ArrayLike<number>}>((resolve, reject) => {\r\n\r\n            try {\r\n                const uriLower = uri.toLowerCase();\r\n                if (uriLower.startsWith(\"http:\") || uriLower.startsWith(\"https:\")) {\r\n                    // HTTP or HTTPS\r\n                    const http = require(uriLower.startsWith(\"http:\") ? \"http\" : \"https\");\r\n                    const url = require(\"url\");\r\n\r\n                    // TODO: set method and options\r\n                    http.get(uri, (res: any) => {\r\n                        // DO NOT CALL \"res.setEncoding('binary' or null)\" to receive chunks as Buffer !\r\n                        if (res.statusCode === 200) {\r\n                            const contentType = res.headers[\"content-type\"];\r\n                            const data: Buffer[] = [];\r\n                            res.on(\"data\", (chunk: Buffer) => {\r\n                                data.push(chunk);\r\n                            });\r\n                            res.on(\"end\", () => {\r\n                                resolve({contentType, data: Buffer.concat(data)});\r\n                            });\r\n                            res.on(\"error\", (e: any) => {\r\n                                Logger.log(\"FileFetcher#fetchLocation_node:http.get:on-error:\" + e);\r\n                                reject(e);\r\n                            });\r\n                        } else {\r\n                            Logger.log(\"FileFetcher#fetchLocation_node:http.get:bad-status-code:\" + res.statusCode);\r\n                            reject(res);\r\n                        }\r\n                    });\r\n                } else if (uri.match(/^[A-Za-z][-+.A-Za-z0-9]*:/) &&\r\n                    ! uriLower.toLowerCase().startsWith(\"file:\") &&\r\n                    ! (process.platform === \"win32\" && uri.match(/^[A-Za-z]:/))) {\r\n                    // unknown URI scheme\r\n                    reject(uri);\r\n                } else {\r\n                    // File\r\n                    const fs = require(\"fs\");\r\n                    let path = uri;\r\n                    if (process.platform === \"win32\") {\r\n                        path = path.replace(/^file:\\/+([A-Za-z])\\//i, \"$1:/\");\r\n                        path = path.replace(/^\\/+([A-Za-z])\\//, \"$1:/\");\r\n                    }\r\n                    path = path.replace(/^file\\:\\/+/i, \"/\");\r\n                    const data: any[] = [];\r\n                    fs.createReadStream(path)\r\n                    .on(\"data\", (chunk: any) => {\r\n                        data.push(chunk);\r\n                    })\r\n                    .on(\"end\", () => {\r\n                        resolve({contentType: null, data: Buffer.concat(data)});\r\n                    })\r\n                    .on(\"error\", (e: any) => {\r\n                        Logger.log(\"FileFetcher#fetchLocation_node:fs.createReadStream:on-error:\" + e);\r\n                        reject(e);\r\n                    });\r\n                }\r\n            } catch (e) {\r\n                Logger.log(\"FileFetcher#fetchLocation_node:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    private static fetchLocation_xhr(uri: string, config?: FileFetcherConfig): Promise<{contentType: string | null, data: ArrayLike<number>}> {\r\n        const promise: Promise<{contentType: string | null, data: ArrayLike<number>}> =\r\n            new Promise<{contentType: string | null, data: ArrayLike<number>}>((resolve, reject) => {\r\n\r\n            try {\r\n                const xhr = new XMLHttpRequest();\r\n                xhr.onload = (e) => {\r\n                    if (xhr.status === 200 || xhr.status === 304) {\r\n                        const contentType = xhr.getResponseHeader(\"content-type\");\r\n                        const arrayBuffer = xhr.response;\r\n                        if (arrayBuffer) {\r\n                            resolve({contentType, data: new Uint8Array(arrayBuffer)});\r\n                        } else {\r\n                            Logger.log(\"FileFetcher#fetchLocation_xhr:xhr.onload:empty-response:\" + e);\r\n                            reject(e);\r\n                        }\r\n                    } else {\r\n                        Logger.log(\"FileFetcher#fetchLocation_xhr:xhr.onload:bad-status-code:\" + xhr.status + \":\" + e);\r\n                        reject(e);\r\n                    }\r\n                };\r\n                xhr.onerror = (e) => {\r\n                    Logger.log(\"FileFetcher#fetchLocation_xhr:xhr.onerror:\" + e);\r\n                    reject(e);\r\n                };\r\n                xhr.open(\r\n                    config !== void 0 && config !== null &&\r\n                        config.method !== void 0 && config.method !== null\r\n                        ? config.method : \"GET\",\r\n                    uri, true,\r\n                    config !== void 0 && config !== null ? config.user : void 0,\r\n                    config !== void 0 && config !== null ? config.password : void 0\r\n                    );\r\n                if (config !== void 0 && config !== null &&\r\n                    config.headers !== void 0 && config.headers !== null) {\r\n                    for (const h of config.headers) {\r\n                        xhr.setRequestHeader(h.header, h.value);\r\n                    }\r\n                }\r\n                xhr.responseType = \"arraybuffer\";\r\n                xhr.send(\r\n                    config !== void 0 && config !== null &&\r\n                        config.data !== void 0 && config.data !== null\r\n                        ? config.data : void 0\r\n                    );\r\n            } catch (e) {\r\n                Logger.log(\"FileFetcher#fetchLocation_xhr:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    /**\r\n     * Fetch file from URI location.\r\n     *\r\n     * @param  uri   file location's relative/absolute uri.\r\n     * @return       Promise of fetching file.\r\n     */\r\n    public static fetchLocation(uri: string, config?: FileFetcherConfig): Promise<{contentType: string | null, data: ArrayLike<number>}> {\r\n        if (FileFetcher.isNashorn) {\r\n            // TODO: not impl.\r\n            throw new Error(\"FileFetcher#fetchLocation: Nashorn handler is not impl.\");\r\n        } else if (FileFetcher.isNode) {\r\n            return this.fetchLocation_node(uri, config);\r\n        } else {\r\n            return this.fetchLocation_xhr(uri, config);\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\nimport { Logger } from \"./Logger\";\r\ndeclare var Java: any;\r\n\r\n\r\n\r\nexport type BinaryType = Buffer | Uint8Array;\r\n\r\n\r\nexport class FileSaver {\r\n    private static isNashorn: boolean;\r\n    private static isNode: boolean;\r\n\r\n    /** static constructor */\r\n    // tslint:disable-next-line:variable-name\r\n    private static __ctor = (() => {\r\n        FileSaver.isNashorn = false;\r\n        FileSaver.isNode = false;\r\n        if (typeof Java !== \"undefined\" && Java && typeof Java.type === \"function\") {\r\n            FileSaver.isNashorn = true;\r\n        } else if (typeof process === \"object\") {\r\n            if (typeof process.versions === \"object\") {\r\n                if (typeof process.versions.node !== \"undefined\") {\r\n                    if (typeof (process as any).type !== \"undefined\" && (process as any).type === \"renderer\") {\r\n                        // electron renderer process\r\n                    } else {\r\n                        FileSaver.isNode = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })();\r\n\r\n    private static saveTextAs_node(pathOrFileName: string, text: string, encoding: string): Promise<boolean> {\r\n        const promise = new Promise<boolean>((resolve, reject) => {\r\n            try {\r\n                const fs = require(\"fs\");\r\n                fs.writeFile(\r\n                    pathOrFileName, text,\r\n                    encoding === \"utf-8\" || encoding === \"UTF-8\" ? \"utf8\" : encoding, (err: any) => {\r\n                    if (err) {\r\n                        Logger.log(\"FileSaver#saveTextAs_node:writeFile:\" + err);\r\n                        reject(err);\r\n                    } else {\r\n                        resolve(true);\r\n                    }\r\n                });\r\n            } catch (e) {\r\n                Logger.log(\"FileSaver#saveTextAs_node:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    private static saveTextAs_html5(pathOrFileName: string, text: string, encoding: string): Promise<boolean> {\r\n        const promise = new Promise<boolean>((resolve, reject) => {\r\n            try {\r\n                if (encoding === \"utf-8\" || encoding === \"UTF-8\") {\r\n                    const blob = new Blob([text], {type: \"text/plain\"});\r\n\r\n                    if (window.navigator.msSaveOrOpenBlob) {\r\n                        window.navigator.msSaveOrOpenBlob(blob, pathOrFileName);\r\n                        resolve(true);\r\n                    } else {\r\n                        const url = window.URL.createObjectURL(blob);\r\n                        const a = document.createElement(\"a\");\r\n                        a.href = url;\r\n                        (a as any).download = pathOrFileName;\r\n\r\n                        const ua = window.navigator.userAgent.toLowerCase();\r\n                        // const isMSIE    = ua.indexOf('trident/') !== -1;\r\n                        // const isMSEdge  = ua.indexOf('edge/')    !== -1;\r\n                        // const isFirefox = ua.indexOf('firefox/') !== -1 && ua.indexOf('edge/') === -1;\r\n                        const isChrome  = ua.indexOf(\"chrome/\")  !== -1 && ua.indexOf(\"edge/\") === -1;\r\n\r\n                        if (! isChrome) document.body.appendChild(a);\r\n\r\n                        a.click();\r\n                        window.setTimeout(() => {\r\n                            window.URL.revokeObjectURL(url);\r\n\r\n                            if (! isChrome) document.body.removeChild(a);\r\n\r\n                            resolve(true);\r\n                        }, 10);\r\n                    }\r\n                } else {\r\n                    Logger.log(\"FileSaver#saveTextAs_html5:unsupported text encoding:\" + encoding);\r\n                    reject(\"unsupported text encoding\");\r\n                }\r\n            } catch (e) {\r\n                Logger.log(\"FileSaver#saveTextAs_html5:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    private static saveBinaryAs_node(pathOrFileName: string, data: ArrayLike<number>): Promise<boolean> {\r\n        const promise = new Promise<boolean>((resolve, reject) => {\r\n            try {\r\n                const fs = require(\"fs\");\r\n                fs.writeFile(\r\n                    pathOrFileName, data, (err: any) => {\r\n                    if (err) {\r\n                        Logger.log(\"FileSaver#saveBinaryAs_node:writeFile:\" + err);\r\n                        reject(err);\r\n                    } else {\r\n                        resolve(true);\r\n                    }\r\n                });\r\n            } catch (e) {\r\n                Logger.log(\"FileSaver#saveBinaryAs_node:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    private static saveBinaryAs_html5(pathOrFileName: string, data: BinaryType): Promise<boolean> {\r\n        const promise = new Promise<boolean>((resolve, reject) => {\r\n            try {\r\n                const blob = new Blob([data], {type: \"application/octet-binary\"});\r\n\r\n                if (window.navigator.msSaveOrOpenBlob) {\r\n                    window.navigator.msSaveOrOpenBlob(blob, pathOrFileName);\r\n                    resolve(true);\r\n                } else {\r\n                    const url = window.URL.createObjectURL(blob);\r\n                    const a = document.createElement(\"a\");\r\n                    a.href = url;\r\n                    (a as any).download = pathOrFileName;\r\n\r\n                    const ua = window.navigator.userAgent.toLowerCase();\r\n                    // const isMSIE    = ua.indexOf('trident/') !== -1;\r\n                    // const isMSEdge  = ua.indexOf('edge/')    !== -1;\r\n                    // const isFirefox = ua.indexOf('firefox/') !== -1 && ua.indexOf('edge/') === -1;\r\n                    const isChrome  = ua.indexOf(\"chrome/\")  !== -1 && ua.indexOf(\"edge/\") === -1;\r\n\r\n                    if (! isChrome) document.body.appendChild(a);\r\n\r\n                    a.click();\r\n                    window.setTimeout(() => {\r\n                        window.URL.revokeObjectURL(url);\r\n\r\n                        if (! isChrome) document.body.removeChild(a);\r\n\r\n                        resolve(true);\r\n                    }, 10);\r\n                }\r\n            } catch (e) {\r\n                Logger.log(\"FileSaver#saveBinaryAs_html5:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n    public static saveTextAs(pathOrFileName: string, text: string, encoding: string = \"utf-8\"): Promise<boolean> {\r\n        if (FileSaver.isNashorn) {\r\n            // TODO: not impl.\r\n            throw new Error(\"FileSaver#saveTextAs: Nashorn handler is not impl.\");\r\n        } else if (FileSaver.isNode) {\r\n            return this.saveTextAs_node(pathOrFileName, text, encoding);\r\n        } else {\r\n            return this.saveTextAs_html5(pathOrFileName, text, encoding);\r\n        }\r\n    }\r\n\r\n    public static saveBinaryAs(pathOrFileName: string, data: BinaryType): Promise<boolean> {\r\n        if (FileSaver.isNashorn) {\r\n            // TODO: not impl.\r\n            throw new Error(\"FileSaver#saveBinaryAs: Nashorn handler is not impl.\");\r\n        } else if (FileSaver.isNode) {\r\n            return this.saveBinaryAs_node(pathOrFileName, data);\r\n        } else {\r\n            return this.saveBinaryAs_html5(pathOrFileName, data);\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\nimport { Logger } from \"./Logger\";\r\n\r\n\r\nexport class Html5FileFetcher {\r\n\r\n    /**\r\n     * read data from File interface(HTML5 File API).\r\n     */\r\n    public static fetch(file: Blob): Promise<{contentType: string , data: ArrayLike<number>}> {\r\n        const promise: Promise<{contentType: string , data: ArrayLike<number>}> =\r\n            new Promise<{contentType: string , data: ArrayLike<number>}>((resolve, reject) => {\r\n\r\n            try {\r\n                const reader = new FileReader();\r\n                reader.onload = (ev) => {\r\n                    resolve({contentType: file.type, data: new Uint8Array((ev.target as any).result as ArrayBuffer)});\r\n                };\r\n                reader.onerror = (ev) => {\r\n                    Logger.log(\"Html5FileFetcher#fetch:onerror:\" + ev);\r\n                    reject(ev);\r\n                };\r\n                reader.onabort = (ev) => {\r\n                    Logger.log(\"Html5FileFetcher#fetch:onabort:\" + ev);\r\n                    reject(ev);\r\n                };\r\n\r\n                reader.readAsArrayBuffer(file);\r\n            } catch (e) {\r\n                Logger.log(\"Html5FileFetcher#fetch:\" + e);\r\n                reject(e);\r\n            }\r\n        });\r\n        return promise;\r\n    }\r\n\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport enum LoggerLogLevel {\r\n    NO_LOG      = 0,\r\n\r\n    ERROR       = 1,\r\n    PRODUCTION  = 1,\r\n\r\n    ASSERT      = 2,\r\n    WARN        = 3,\r\n    STAGING     = 3,\r\n\r\n    INFO        = 4,\r\n    LOG         = 5,\r\n    DEVELOPMENT = 5,\r\n\r\n    TRACE       = 6,\r\n    DEBUG       = 6,\r\n    VERBOSE     = 6\r\n}\r\n\r\n\r\nexport class Logger {\r\n    private static isNode: boolean;\r\n    private static con: Console;\r\n    public static logLevel: LoggerLogLevel;\r\n\r\n    /** static constructor */\r\n    // tslint:disable-next-line:variable-name\r\n    private static __ctor = (() => {\r\n        Logger.isNode = false;\r\n        if (typeof process === \"object\") {\r\n            if (typeof process.versions === \"object\") {\r\n                if (typeof process.versions.node !== \"undefined\") {\r\n                    if (typeof (process as any).type !== \"undefined\" && (process as any).type === \"renderer\") {\r\n                        // electron renderer process\r\n                    } else {\r\n                        Logger.isNode = true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        if (Logger.isNode) {\r\n            Logger.con = new console.Console(process.stderr);\r\n\r\n            if (process.env.NODE_ENV) {\r\n                switch (process.env.NODE_ENV) {\r\n                case \"production\":\r\n                    Logger.logLevel = LoggerLogLevel.PRODUCTION;\r\n                    break;\r\n                case \"staging\":\r\n                    Logger.logLevel = LoggerLogLevel.STAGING;\r\n                    break;\r\n                case \"development\": default:\r\n                    Logger.logLevel = LoggerLogLevel.DEVELOPMENT;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            Logger.con = console;\r\n            Logger.logLevel = LoggerLogLevel.DEVELOPMENT;\r\n        }\r\n    })();\r\n\r\n    public static assert(test?: boolean, message?: string, ...optionalParams: any[]) {\r\n        if (this.logLevel <= LoggerLogLevel.PRODUCTION) {\r\n            return this;\r\n        }\r\n\r\n        let succeeded = false;\r\n        try {\r\n            succeeded = Boolean(test);\r\n        } catch (e) {\r\n            succeeded = false;\r\n        }\r\n\r\n        if (!succeeded) {\r\n            try {\r\n                Logger.con.assert(test, message, ...optionalParams);\r\n            } catch (e) {\r\n                // node's assert() throws AssertionError.\r\n                if (this.logLevel <= LoggerLogLevel.STAGING) {\r\n                    throw e;\r\n                }\r\n            }\r\n\r\n            if (this.logLevel <= LoggerLogLevel.STAGING) {\r\n                let m = \"\";\r\n                try {\r\n                    m = String(message);\r\n                } catch (e) {}\r\n                throw new Error(\"Assertion failed:\" + m);\r\n            }\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    public static dir(value?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel <= LoggerLogLevel.DEBUG) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.dir(value, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static error(message?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel < LoggerLogLevel.ERROR) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.error(message, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static info(message?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel < LoggerLogLevel.INFO) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.info(message, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static log(message?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel < LoggerLogLevel.LOG) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.log(message, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static time(timerName?: string) {\r\n        if (this.logLevel <= LoggerLogLevel.DEBUG) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.time(timerName);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static timeEnd(timerName?: string) {\r\n        if (this.logLevel <= LoggerLogLevel.DEBUG) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.timeEnd(timerName);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static trace(message?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel < LoggerLogLevel.TRACE) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.trace(message, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n\r\n    public static warn(message?: any, ...optionalParams: any[]) {\r\n        if (this.logLevel < LoggerLogLevel.WARN) {\r\n            return this;\r\n        }\r\n        try {\r\n            Logger.con.warn(message, ...optionalParams);\r\n        } catch (e) {}\r\n        return this;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport class Uri {\r\n    public static isAbsolute(uri: string) {\r\n        const x = uri.toLowerCase();\r\n        if (x.startsWith('/') || x.startsWith('\\\\') ) {\r\n            // absolute local directory\r\n            // or UNC paths (e.g. \\\\\\\\server\\\\path, \\\\\\\\?\\\\long\\\\path)\r\n            return true;\r\n        }\r\n        if (x === '.' || x.startsWith('./') || x.startsWith('.\\\\')) {\r\n            return false;\r\n        }\r\n        if (x === '..' || x.startsWith('../') || x.startsWith('..\\\\')) {\r\n            return false;\r\n        }\r\n        if (x.match(/^([a-z][a-z0-9+\\-.]*):/)) {\r\n            // url scheme\r\n            return true;\r\n        }\r\n        if (x.match(/^[a-z]:[/\\/]/)) {\r\n            // windows drive letter + root\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public static getDirectory(uri: string) {\r\n        let p = '';\r\n        let x = uri;\r\n        if (x.startsWith('\\\\\\\\?\\\\')) {\r\n            p += '\\\\\\\\?\\\\';\r\n            x = x.substring(3);\r\n        }\r\n\r\n        let query = x.indexOf('?');\r\n        if (query < 0) query = x.length;\r\n        let hash = x.indexOf('#');\r\n        if (hash < 0) hash = x.length;\r\n        x = x.substring(0, Math.min(query, hash));\r\n\r\n        if (x.endsWith('/') || x.endsWith('\\\\')) {\r\n            return p + x;\r\n        }\r\n\r\n        while (x.length > 0) {\r\n            x = x.substring(0, x.length - 1);\r\n            if (x.endsWith('/') || x.endsWith('\\\\')) {\r\n                return p + x;\r\n            }\r\n        }\r\n        return (p + x) || '/';\r\n    }\r\n\r\n    public static join(base: string, needle: string) {\r\n        if (Uri.isAbsolute(needle)) {\r\n            return needle;\r\n        }\r\n        return Uri.getDirectory(base) + needle;\r\n    }\r\n\r\n    public static getPathExt(path: string): string {\r\n        return (path.slice((path.lastIndexOf(\".\") - 1 >>> 0) + 2)).toLowerCase();\r\n    }\r\n\r\n    public static pathExtToContentType(pathExt: string): string | null {\r\n        let contentType: string | null = null;\r\n\r\n        switch (pathExt) {\r\n            case \"jpeg\":\r\n            case \"jpg\":\r\n                contentType = \"image/jpeg\";\r\n                break;\r\n            case \"png\":\r\n                contentType = \"image/png\";\r\n                break;\r\n            case \"gif\":\r\n                contentType = \"image/gif\";\r\n                break;\r\n            case \"svg\":\r\n            case \"svgz\":\r\n                contentType = \"image/svg+xml\";\r\n                break;\r\n            case \"tiff\":\r\n            case \"tif\":\r\n                contentType = \"image/tiff\";\r\n                break;\r\n            case \"jp2\":\r\n            case \"j2c\":\r\n                contentType = \"image/jp2\";\r\n                break;\r\n\r\n            case \"css\":\r\n                contentType = \"text/css\";\r\n                break;\r\n            case \"js\":\r\n                contentType = \"text/javascript\";\r\n                break;\r\n            case \"csv\":\r\n                contentType = \"text/csv\";\r\n                break;\r\n            case \"txt\":\r\n                contentType = \"text/plain\";\r\n                break;\r\n            case \"html\":\r\n            case \"htm\":\r\n                contentType = \"text/plain\";\r\n                break;\r\n        }\r\n        return contentType;\r\n    }\r\n}\r\n\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/**\r\n *\r\n */\r\nexport class Integer53 {\r\n\r\n    public static get MAX_INT() {\r\n        return 0x1fffffffffffff; // Number.MAX_SAFE_INTEGER (== pow(2, 53) - 1)\r\n    }\r\n\r\n    public static highestBit(x: number): number {\r\n        x = Math.abs(x);\r\n        for (let i = 52; i >= 0; i--) {\r\n            if (Math.trunc(x / (2 ** i)) > 0) return i;\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * 53bits x | y\r\n     */\r\n    public static bitOr(x: number, y: number): number {\r\n        x = Math.abs(x);\r\n        y = Math.abs(y);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n        const loY = (y & 0xffffffff) >>> 0;\r\n        const hiY = (y - loY) / 4294967296;\r\n        return ((hiX | hiY) >>> 0) * 4294967296 + ((loX | loY) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * 53bits x & y\r\n     */\r\n    public static bitAnd(x: number, y: number): number {\r\n        x = Math.abs(x);\r\n        y = Math.abs(y);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n        const loY = (y & 0xffffffff) >>> 0;\r\n        const hiY = (y - loY) / 4294967296;\r\n        return ((hiX & hiY) >>> 0) * 4294967296 + ((loX & loY) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * 53bits x ^ y\r\n     */\r\n    public static bitXor(x: number, y: number): number {\r\n        x = Math.abs(x);\r\n        y = Math.abs(y);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n        const loY = (y & 0xffffffff) >>> 0;\r\n        const hiY = (y - loY) / 4294967296;\r\n        return ((hiX ^ hiY) >>> 0) * 4294967296 + ((loX ^ loY) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * 53bits ~x\r\n     */\r\n    public static bitNot(x: number): number {\r\n        x = Math.abs(x);\r\n        const loX = (x & 0xffffffff) >>> 0;\r\n        const hiX = (x - loX) / 4294967296;\r\n        return (((~hiX) & 0x001fffff) >>> 0) * 4294967296 + ((~loX) >>> 0);\r\n    }\r\n\r\n    /**\r\n     * 53bits x << s\r\n     */\r\n    public static bitLShift(x: number, s: number): number {\r\n        x = Math.abs(x);\r\n        if (s >= 0) {\r\n            if (s <= 52)  return (x % (2 ** (53 - s))) * (2 ** s);\r\n            else          return 0;\r\n        } else {\r\n            if (s >= -52) return Math.trunc(x / (2 ** -s));\r\n            else          return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 53bits x >>> s\r\n     */\r\n    public static bitRShift(x: number, s: number): number {\r\n        x = Math.abs(x);\r\n        if (s <= 0) {\r\n            if (s >= -52) return (x % (2 ** (53 + s))) * (2 ** -s);\r\n            else          return 0;\r\n        } else {\r\n            if (s <= 52)  return Math.trunc(x / (2 ** s));\r\n            else          return 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Slice bits. indexes are LSB first.\r\n     */\r\n    public static slice(x: number, start: number, end: number): number {\r\n        x = Math.abs(x);\r\n        if (end < 0) end += 53;\r\n        if (0 < start) {\r\n            x = Math.trunc(x / (2 ** start));\r\n            end -= start;\r\n        }\r\n        return x % (2 ** end);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './red-agate/red-agate';\r\nexport * from './red-agate/data';\r\nexport * from './red-agate/tags/Shape';\r\nexport * from './red-agate/taglib';\r\nexport * from './red-agate/html';\r\nexport * from './red-agate/svg';\r\nexport * from './red-agate/bundler';\r\nexport * from './red-agate/printing';\r\nexport * from './red-agate/app';\r\nexport * from './red-agate/renderer';\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport interface AwsLambdaClientContextClientInfo {\r\n    installation_id: string;\r\n    app_title: string;\r\n    app_version_name: string;\r\n    app_version_code: string;\r\n    app_package_name: string;\r\n}\r\n\r\nexport interface AwsLambdaClientContextEnvInfo {\r\n    platform_version: string;\r\n    platform: string;\r\n    make: string;\r\n    model: string;\r\n    locale: string;\r\n}\r\n\r\nexport interface AwsLambdaClientContext {\r\n    client: AwsLambdaClientContextClientInfo;\r\n    Custom: any | null;\r\n    env: AwsLambdaClientContextEnvInfo;\r\n}\r\n\r\nexport interface LambdaContext {\r\n    callbackWaitsForEmptyEventLoop: boolean;\r\n    functionName: string;\r\n    functionVersion: string;\r\n    invokedFunctionArn: string;\r\n    memoryLimitInMB: number;\r\n    awsRequestId: string;\r\n    logGroupName: string;\r\n    logStreamName: string;\r\n    identity: string | null;\r\n    clientContext: AwsLambdaClientContext | null;\r\n}\r\nexport type AwsLambdaContext = LambdaContext;\r\n\r\nexport type Lambda<T= any, R= any, E= any> = (event: T, context: LambdaContext, callback: (error: E | null, result: R | null) => void) => void;\r\nexport type AwsLambda = Lambda;\r\n\r\n\r\nexport class Lambdas {\r\n    public static pipe<T1, R1, E1, R2, E2>(handler1: Lambda<T1, R1, E1>, handler2: Lambda<R1, R2, E2>): Lambda<T1, R2, E1 | E2> {\r\n        return (event, context, callback) => {\r\n            handler1(event, context, (error, evt2) => {\r\n                if (error) {\r\n                    callback(error, null);\r\n                } else {\r\n                    handler2(evt2 as R1, context, (err, res) => callback(err, res));\r\n                }\r\n            });\r\n        };\r\n    }\r\n}\r\n\r\n\r\nexport class App {\r\n    private static lambdas = new Map<string, Lambda>();\r\n    private static suppressRun = false;\r\n\r\n    public static cli(options: string[], handler: (opts: Map<string, string>) => void) {\r\n        if (App.suppressRun) {\r\n            return this;\r\n        }\r\n\r\n        const optsMap = new Map<string, string>();\r\n        for (let op of options) {\r\n            let matched = false;\r\n            let isOptional = false;\r\n            if (op.startsWith('?')) {\r\n                op = op.substring(1);\r\n                isOptional = true;\r\n            }\r\n            for (const arg of process.argv.slice(2)) {\r\n                if (op.endsWith('*')) {\r\n                    if (arg.startsWith(op.substring(0, op.length - 1))) {\r\n                        matched = true;\r\n                        optsMap.set(op, arg.substring(op.length - 1));\r\n                        break;\r\n                    }\r\n                } else {\r\n                    if (arg === op) {\r\n                        matched = true;\r\n                        optsMap.set(op, arg.substring(op.length));\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            if (!isOptional && !matched) {\r\n                return this;\r\n            }\r\n        }\r\n\r\n        handler(optsMap);\r\n        App.suppressRun = true;\r\n        return this;\r\n    }\r\n\r\n    public static route(name: string, lambda: Lambda) {\r\n        App.lambdas.set(name, lambda);\r\n        return this;\r\n    }\r\n\r\n    public static run(context: any, lambda?: Lambda) {\r\n        if (App.suppressRun) {\r\n            return;\r\n        }\r\n\r\n        process.stdin.resume();\r\n        process.stdin.setEncoding('utf8');\r\n\r\n        let inputData = '';\r\n\r\n        process.stdin.on('data', (chunk) => {\r\n            inputData += chunk;\r\n        });\r\n\r\n        process.stdin.on('end', () => {\r\n            const write = (data: string, exitCode: number) => {\r\n                const done = process.stdout.write(data);\r\n                if (done) {\r\n                    process.exit(exitCode);\r\n                } else {\r\n                    process.stdout.once('drain', () => {\r\n                        process.exit(exitCode);\r\n                    });\r\n                }\r\n            };\r\n\r\n            try {\r\n                const event = JSON.parse(inputData);\r\n\r\n                // tslint:disable-next-line:variable-name\r\n                let lambda_ = lambda;\r\n                if (! lambda_) {\r\n                    if (event && event.eventName) {\r\n                        lambda_ = App.lambdas.get(event.eventName);\r\n                    }\r\n                }\r\n\r\n                lambda_ = lambda_ || ((evt, ctx, cb) => {\r\n                    cb({message: `Error: event name ${(event && event.eventName) || ''} is not found.`}, null);\r\n                });\r\n\r\n                lambda_(event, context, (error, result) => {\r\n                    if (error) {\r\n                        write(String(error), -1);\r\n                    } else {\r\n                        write(result, 0);\r\n                    }\r\n                });\r\n            } catch (e) {\r\n                write(String(e), -1);\r\n            }\r\n        });\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate         from './red-agate';\r\nimport { ShapeProps,\r\n         Shape,\r\n         CONTEXT_SVG_CANVAS,\r\n         CONTEXT_ASSET_ }    from './tags/Shape';\r\nimport { Base64 }            from 'red-agate-util/modules/convert/Base64';\r\nimport { TextEncoding }      from 'red-agate-util/modules/convert/TextEncoding';\r\nimport { FileFetcher }       from 'red-agate-util/modules/io/FileFetcher';\r\nimport { Logger }            from 'red-agate-util/modules/io/Logger';\r\nimport { Uri }               from 'red-agate-util/modules/io/Uri';\r\nimport { SvgCanvas }         from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\n\r\n\r\n\r\nexport interface AssetProps extends RedAgate.ComponentProps {\r\n    src: string;\r\n    contextName: string;\r\n}\r\n\r\nexport class Asset extends RedAgate.RedAgatePhantomComponent<AssetProps> {\r\n    public constructor(props: AssetProps) {\r\n        super(props);\r\n    }\r\n\r\n    private content: string = '';\r\n\r\n    public defer() {\r\n        if (this.props.src === void 0 || this.props.src === null || this.props.src === '') {\r\n            return Promise.resolve();\r\n        } else {\r\n            const src = this.props.src;\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                try {\r\n                    FileFetcher.fetchLocation(this.props.src)\r\n                    .then((result) => {\r\n                        let contentType = result.contentType;\r\n                        if (contentType === null) {\r\n                            const pathExt = Uri.getPathExt(src);\r\n                            contentType = Uri.pathExtToContentType(pathExt);\r\n                            if (contentType === null) {\r\n                                Logger.log(\"Asset#defer:unknown content-type:\" + pathExt);\r\n                                reject(\"unknown content-type\");\r\n                                return;\r\n                            }\r\n                        }\r\n                        this.content = `data:${contentType};base64,` + Base64.encode(result.data, 120);\r\n                        resolve();\r\n                    })\r\n                    .catch((e) => {\r\n                        Logger.log(\"Asset#defer:catch:\" + e);\r\n                        reject(e);\r\n                    });\r\n                } catch (e) {\r\n                    Logger.log(\"Asset#defer:catch:\" + e);\r\n                    reject(e);\r\n                }\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    public beforeRender(contexts: Map<string, any>) {\r\n        this.setContext(contexts, CONTEXT_ASSET_ + this.props.contextName, this.content);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return '';\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface ImageInstantProps extends ShapeProps {\r\n    use?: undefined;\r\n    srcContext?: undefined;\r\n\r\n    noDownload?: true;\r\n\r\n    src: string;\r\n    unit?: string;\r\n    width: number;\r\n    height: number;\r\n    asAsset?: false;\r\n\r\n    alt?: string;\r\n    ismap?: true;\r\n    longdesc?: string;\r\n    sizes?: string;\r\n    usemap?: string;\r\n}\r\n\r\nexport interface ImageInstantFromCtxProps extends ShapeProps {\r\n    use?: undefined;\r\n    srcContext: string;\r\n\r\n    noDownload?: true;\r\n\r\n    src?: undefined;\r\n    unit?: string;\r\n    width: number;\r\n    height: number;\r\n    asAsset?: false;\r\n\r\n    alt?: string;\r\n    ismap?: true;\r\n    longdesc?: string;\r\n    sizes?: string;\r\n    usemap?: string;\r\n}\r\n\r\nexport interface ImageAssetProps extends ShapeProps {\r\n    id: string;\r\n    use?: undefined;\r\n    srcContext?: undefined;\r\n\r\n    noDownload?: undefined;\r\n\r\n    src: string;\r\n    unit?: string;\r\n    width?: undefined;\r\n    height?: undefined;\r\n    asAsset: true;\r\n\r\n    alt?: string;\r\n    ismap?: true;\r\n    longdesc?: string;\r\n    sizes?: string;\r\n    usemap?: string;\r\n}\r\n\r\nexport interface ImageAssetFromCtxProps extends ShapeProps {\r\n    id: string;\r\n    use?: undefined;\r\n    srcContext: string;\r\n\r\n    noDownload?: undefined;\r\n\r\n    src?: undefined;\r\n    unit?: string;\r\n    width?: undefined;\r\n    height?: undefined;\r\n    asAsset: true;\r\n\r\n    alt?: string;\r\n    ismap?: true;\r\n    longdesc?: string;\r\n    sizes?: string;\r\n    usemap?: string;\r\n}\r\n\r\nexport interface ImageRefProps extends ShapeProps {\r\n    use: string;\r\n    srcContext?: undefined;\r\n\r\n    noDownload?: undefined;\r\n\r\n    src?: undefined;\r\n    unit?: string;\r\n    width: number;\r\n    height: number;\r\n    asAsset?: false;\r\n\r\n    alt?: string;\r\n    ismap?: true;\r\n    longdesc?: string;\r\n    sizes?: string;\r\n    usemap?: string;\r\n}\r\n\r\nexport type ImageProps = ImageInstantProps | ImageInstantFromCtxProps | ImageAssetProps | ImageAssetFromCtxProps | ImageRefProps;\r\n\r\nexport class Image extends Shape<ImageProps> {\r\n    public constructor(props: ImageProps) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        return (\r\n            (this.props.children !== null && this.props.children !== void 0) ?\r\n            this.props.children : []\r\n        );\r\n    }\r\n\r\n    private content: string = '';\r\n\r\n    public defer() {\r\n        if (this.props.use !== void 0 && this.props.use !== null && this.props.use !== \"\") {\r\n            return Promise.resolve();\r\n        } else if (this.content !== null && this.content !== void 0 && this.content !== \"\") {\r\n            return Promise.resolve();\r\n        } else if (this.props.src === null || this.props.src === void 0 || this.props.src === \"\") {\r\n            return Promise.resolve();\r\n        } else if (this.props.noDownload) {\r\n            this.content = this.props.src;\r\n            return Promise.resolve();\r\n        } else {\r\n            const src = this.props.src;\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                FileFetcher.fetchLocation(src)\r\n                .then((result) => {\r\n                    let contentType = result.contentType;\r\n                    if (contentType === null) {\r\n                        const pathExt = Uri.getPathExt(src);\r\n                        contentType = Uri.pathExtToContentType(pathExt);\r\n                        if (contentType === null) {\r\n                            Logger.log(\"Image#defer:unknown content-type:\" + pathExt);\r\n                            reject(\"unknown content-type\");\r\n                            return;\r\n                        }\r\n                    }\r\n                    this.content = `data:${contentType};base64,` + Base64.encode(result.data, 120);\r\n                    resolve();\r\n                })\r\n                .catch((e) => {\r\n                    Logger.log(\"Image#defer:\" + e);\r\n                    reject(e);\r\n                });\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    private renderAsHtml(contexts: Map<string, any>): string {\r\n        let r = '';\r\n        if (this.props.asAsset) {\r\n            r = `<script>(Function(\"return this\")())['#img_asset_mb3vhWjBUxDX__${\r\n                this.props.id}']=\"${\r\n                this.content.replace(/\\r/g, '').replace(/\\n/g, '')}\";</script>`;\r\n        } else {\r\n            if (this.props.use !== void 0 && this.props.use !== null && this.props.use !== \"\") {\r\n                const id = this.props.id || `__img_node_id_mb3vhWjBUxDX_${this.props.__nodeId}`;\r\n                r = `<img id=\"${id}\" style=\"width:${\r\n                    this.props.width}${this.props.unit || 'px'};height:${\r\n                    this.props.height}${this.props.unit || 'px'};\"${\r\n                    RedAgate.htmlAttributesRenderer(this.props, new Set(['id', 'src', 'unit', 'width', 'height'])).attrs\r\n                    }></img><script>document.getElementById(\"${\r\n                    id}\").src=(Function(\"return this\")())['#img_asset_mb3vhWjBUxDX__${this.props.use}'];</script>`;\r\n            } else {\r\n                r = `<img src=\"${this.content}\" style=\"width:${\r\n                    this.props.width}${this.props.unit || 'px'};height:${\r\n                    this.props.height}${this.props.unit || 'px'};\"${\r\n                    RedAgate.htmlAttributesRenderer(this.props, new Set(['src', 'unit', 'width', 'height'])).attrs}></img>`;\r\n            }\r\n        }\r\n        return r;\r\n    }\r\n\r\n    private renderAsSvg(canvas: SvgCanvas): void {\r\n        const img = (this.props.use !== void 0 && this.props.use !== null && this.props.use !== \"\") ?\r\n            \"#\" + this.props.use :\r\n            canvas.registerImage({url: this.content, x: 0, y: 0, width: 1, height: 1}, this.props.id);\r\n\r\n        if (! this.props.asAsset) {\r\n            canvas.drawImage(img, this.props.x || 0, this.props.y || 0, this.props.width, this.props.height);\r\n        }\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n\r\n        if (this.props.srcContext !== void 0 && this.props.srcContext !== null && this.props.srcContext !== \"\") {\r\n            this.content = this.getContext(contexts, CONTEXT_ASSET_ + this.props.srcContext);\r\n        }\r\n\r\n        if (canvas) {\r\n            this.renderAsSvg(canvas);\r\n            return '';\r\n        } else {\r\n            return this.renderAsHtml(contexts);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface ScriptProps extends RedAgate.ComponentProps {\r\n    noDownload?: true;\r\n\r\n    src: string;\r\n    text?: string;\r\n    type?: string;\r\n\r\n    async?: true;\r\n    defer?: true;\r\n    crossorigin?: 'anonymous' | 'use-credentials';\r\n}\r\n\r\nexport class Script extends RedAgate.RedAgatePhantomComponent<ScriptProps> {\r\n    public constructor(props: ScriptProps) {\r\n        super(props);\r\n    }\r\n\r\n    private content: string = '';\r\n\r\n    public defer() {\r\n        if (this.props.src === void 0 || this.props.src === null || this.props.src === '') {\r\n            return Promise.resolve();\r\n        } else if (this.props.noDownload) {\r\n            return Promise.resolve();\r\n        } else {\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                try {\r\n                    FileFetcher.fetchLocation(this.props.src)\r\n                    .then((result) => {\r\n                        this.content = TextEncoding.decodeUtf8(result.data);\r\n                        resolve();\r\n                    })\r\n                    .catch((e) => {\r\n                        Logger.log(\"Script#defer:catch:\" + e);\r\n                        reject(e);\r\n                    });\r\n                } catch (e) {\r\n                    Logger.log(\"Script#defer:catch:\" + e);\r\n                    reject(e);\r\n                }\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        let r = '';\r\n        if (this.props.noDownload) {\r\n            r = `<script${RedAgate.htmlAttributesRenderer(this.props, new Set([])).attrs}></script>`;\r\n        } else {\r\n            r = `<script${RedAgate.htmlAttributesRenderer(this.props, new Set(['src'])).attrs}>${this.content}</script>`;\r\n        }\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (canvas) {\r\n            canvas.registerCustomAsset(r);\r\n            return '';\r\n        } else {\r\n            return r;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface StyleProps extends RedAgate.ComponentProps {\r\n    noDownload?: true;\r\n\r\n    src: string;\r\n    type?: string;\r\n    media?: string;\r\n    nonce?: string;\r\n    title?: string;\r\n}\r\n\r\nexport class Style extends RedAgate.RedAgatePhantomComponent<StyleProps> {\r\n    public constructor(props: StyleProps) {\r\n        super(props);\r\n    }\r\n\r\n    private content: string = '';\r\n\r\n    public defer() {\r\n        if (this.props.src === void 0 || this.props.src === null || this.props.src === '') {\r\n            return Promise.resolve();\r\n        } else if (this.props.noDownload) {\r\n            return Promise.resolve();\r\n        } else {\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                try {\r\n                    FileFetcher.fetchLocation(this.props.src)\r\n                    .then((result) => {\r\n                        this.content = TextEncoding.decodeUtf8(result.data);\r\n                        const reSplit = /(url\\(.+?\\))/;\r\n                        const reReplace = /^url\\((.+?)\\)$/;\r\n                        const fragments = this.content.split(reSplit);\r\n                        const promises: Array<Promise<void>> = [];\r\n                        const indexes: number[] = [];\r\n                        for (let i = 0; i < fragments.length; i++) {\r\n                            const m = reReplace.exec(fragments[i]);\r\n                            if (m && !(m[1]).startsWith('data:')) {\r\n                                promises.push(\r\n                                    FileFetcher.fetchLocation(Uri.join(this.props.src, m[1]))\r\n                                    .then((fmntResult) => {\r\n                                        // Warning: Don't insert newlines to base64 encoded font!\r\n                                        // Fonts will not rendered if you insert it.\r\n                                        fragments[i] = fragments[i].replace(reReplace,\r\n                                            `url(${`data:${fmntResult.contentType};charset=utf-8;base64,` + Base64.encode(fmntResult.data)})`);\r\n                                    })\r\n                                );\r\n                                indexes.push(i);\r\n                            }\r\n                        }\r\n                        Promise.all(promises)\r\n                        .then(() => {\r\n                            this.content = fragments.join('');\r\n                            resolve();\r\n                        })\r\n                        .catch((e) => {\r\n                            Logger.log(\"Style#defer:catch(1):\" + e);\r\n                            reject(e);\r\n                        });\r\n                    })\r\n                    .catch((e) => {\r\n                        Logger.log(\"Style#defer:catch(2):\" + e);\r\n                        reject(e);\r\n                    });\r\n                } catch (e) {\r\n                    Logger.log(\"Style#defer:catch(3):\" + e);\r\n                    reject(e);\r\n                }\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        let r = '';\r\n        if (this.props.noDownload) {\r\n            r = `<style type=\"text/css\">@import url(\"${this.props.src}\");</style>`;\r\n        } else {\r\n            r = `<style${RedAgate.htmlAttributesRenderer(this.props, new Set(['src'])).attrs}>${this.content}</style>`;\r\n        }\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (canvas) {\r\n            canvas.registerCustomAsset(r);\r\n            return '';\r\n        } else {\r\n            return r;\r\n        }\r\n    }\r\n}\r\n\r\nexport type FontProps = StyleProps;\r\nexport const Font = Style;\r\n\r\n\r\n\r\nexport interface SingleFontProps extends RedAgate.ComponentProps {\r\n    noDownload?: true;\r\n\r\n    fontFamily: string;\r\n    localNames?: string[];\r\n    fontStyle: \"normal\" | \"italic\" | \"oblique\";\r\n    fontWeight: 100 | 200 | 300 | 400 | 500 | 600 | 700 | 800 | 900 | \"normal\" | \"bold\" | \"lighter\" | \"bolder\" ;\r\n    src: string;\r\n    unicodeRange: string;\r\n    format: \"woff\" | \"woff2\" | \"truetype\" | \"opentype\" | \"embedded-opentype\" | \"svg\";\r\n}\r\n\r\nexport class SingleFont extends RedAgate.RedAgatePhantomComponent<SingleFontProps> {\r\n    public constructor(props: SingleFontProps) {\r\n        super(props);\r\n    }\r\n\r\n    private content: string = '';\r\n\r\n    public defer() {\r\n        if (this.props.src === void 0 || this.props.src === null || this.props.src === '') {\r\n            return Promise.resolve();\r\n        } else if (this.props.noDownload) {\r\n            return Promise.resolve();\r\n        } else {\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                try {\r\n                    FileFetcher.fetchLocation(this.props.src)\r\n                    .then((result) => {\r\n                        this.content = `data:${result.contentType};charset=utf-8;base64,` + Base64.encode(result.data);\r\n                        resolve();\r\n                    })\r\n                    .catch((e) => {\r\n                        Logger.log(\"SingleFont#defer:catch:\" + e);\r\n                        reject(e);\r\n                    });\r\n                } catch (e) {\r\n                    Logger.log(\"SingleFont#defer:catch:\" + e);\r\n                    reject(e);\r\n                }\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        let r = '';\r\n        if (this.props.noDownload) {\r\n        } else {\r\n        }\r\n        r = `<style type=\"text/css\">@font-face{font-family:${\r\n            this.props.fontFamily};font-style:${\r\n            this.props.fontStyle};font-weight:${\r\n            this.props.fontWeight};src:${\r\n            this.props.localNames ? this.props.localNames.map(x => ` local(${x})`) : ''} url(${\r\n            this.props.noDownload ? this.props.src : this.content});unicode-range:${\r\n            this.props.unicodeRange};}</style>`;\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (canvas) {\r\n            canvas.registerCustomAsset(r);\r\n            return '';\r\n        } else {\r\n            return r;\r\n        }\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nexport class Query<T> {\r\n    public constructor(public data: T[]) {\r\n    }\r\n\r\n    public orderBy(condition: Array<string | string[/* colName: string, ('asc' | 'desc') */]> | ((a: T, b: T) => number)): Query<T> {\r\n        let fn: (a: T, b: T) => number;\r\n        if (Array.isArray(condition)) {\r\n            fn = (x: T, y: T) => {\r\n                for (const c of condition) {\r\n                    if (typeof c === 'string') {\r\n                        if (x[c] > y[c]) return 1;\r\n                        if (x[c] < y[c]) return -1;\r\n                    } else {\r\n                        const desc = c[1] === 'desc' ? -1 : 1;\r\n                        if (x[c[0]] > y[c[0]]) return 1 * desc;\r\n                        if (x[c[0]] < y[c[0]]) return -1 * desc;\r\n                    }\r\n                }\r\n                return 0;\r\n            };\r\n        } else {\r\n            fn = condition;\r\n        }\r\n        return new Query(this.data.slice(0).sort(fn));\r\n    }\r\n\r\n    public groupBy(condition: string[/* colName: string */] | ((a: T, b: T, index: number, array: T[]) => boolean)): Query<T[]> {\r\n        let fn: (a: T, b: T, index: number, array: T[]) => boolean;\r\n        if (Array.isArray(condition)) {\r\n            fn = (x: T, y: T) => {\r\n                for (const c of condition) {\r\n                    if (x[c] !== y[c]) return false;\r\n                }\r\n                return true;\r\n            };\r\n        } else{\r\n            fn = condition;\r\n        }\r\n        const r: T[][] = [];\r\n        let start = 0;\r\n        let i = 1;\r\n        for (; i < this.data.length; i++) {\r\n            if (! fn(this.data[start], this.data[i], i, this.data)) {\r\n                r.push(this.data.slice(start, i));\r\n                start = i;\r\n            }\r\n        }\r\n        r.push(this.data.slice(start, i));\r\n        return new Query(r);\r\n    }\r\n\r\n    public groupEvery(n: number | {single: number, first?: number, intermediate: number, last?: number}): Query<T[]> {\r\n        if (typeof n === 'number') {\r\n            return this.groupBy((a, b, index, array) => {\r\n                if ((index % n) === 0) return false;\r\n                return true;\r\n            });\r\n        } else {\r\n            const w = Object.assign({first: n.intermediate, last: n.intermediate}, n);\r\n            const r = this.groupBy((a, b, index, array) => {\r\n                if (w.single >= array.length) {\r\n                    if ((index % w.single) === 0) return false;\r\n                    return true;\r\n                } else if (index <= w.first) {\r\n                    if ((index % w.first) === 0) return false;\r\n                    return true;\r\n                } else {\r\n                    if (((index - w.first) % w.intermediate) === 0) return false;\r\n                    return true;\r\n                }\r\n            });\r\n            if (r.data.length === 1) {\r\n                if (w.single < r.data[0].length) {\r\n                    r.data.push([]);\r\n                }\r\n            } else {\r\n                if (w.first < r.data[0].length) {\r\n                    // case of w.first === 0\r\n                    r.data.unshift([]);\r\n                }\r\n            }\r\n            if (r.data.length > 1) {\r\n                if (r.data[r.data.length - 1].length > w.last) {\r\n                    r.data.push([]);\r\n                }\r\n            }\r\n            return r;\r\n        }\r\n    }\r\n\r\n    public where(fn: (value: T, index: number, array: T[]) => boolean): Query<T> {\r\n        return new Query(this.data.filter(fn));\r\n    }\r\n\r\n    public select(): T[];\r\n    public select<R>(fn: (value: T, index: number, array: T[]) => R): R[];\r\n    public select<R>(fn?: (value: T, index: number, array: T[]) => R): Array<R | T> {\r\n        return fn ? this.data.map(fn) : this.data as any;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport function query<T>(data: T[]): Query<T> {\r\n    return new Query<T>(data);\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/** @jsx RedAgate.createElement */\r\nimport * as RedAgate from './red-agate';\r\n\r\n\r\n\r\nexport interface HtmlProps extends RedAgate.ComponentProps {\r\n    [attrName: string]: any;\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Html4_01_Strict extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Html4_01_Transitional extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Html4_01_Frameset extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Frameset//EN\" \"http://www.w3.org/TR/html4/frameset.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Xhtml1_0_Strict extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Xhtml1_0_Transitional extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE HTML PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\n// tslint:disable-next-line:class-name\r\nexport class Xhtml1_0_Frameset extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Frameset//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-frameset.dtd\"><html${\r\n            x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport class Html5 extends RedAgate.RedAgatePhantomComponent<HtmlProps> {\r\n    public constructor(props: HtmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const x = RedAgate.htmlAttributesRenderer(this.props);\r\n        return `<!DOCTYPE html><html${x.attrs}>${x.children}${children}</html>`;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface XmlProps extends RedAgate.ComponentProps {\r\n    version?: string;\r\n    encoding?: string;\r\n}\r\n\r\nexport class Xml extends RedAgate.RedAgatePhantomComponent<XmlProps> {\r\n    public constructor(props: XmlProps) {\r\n        super(props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return `<?xml version=\"${typeof this.props.version === 'string' ? this.props.version : '1.0'}\" encoding=\"${\r\n            typeof this.props.encoding === 'string' ? this.props.encoding : 'UTF-8'}\"?>${children}`;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface HtmlImpositionProps<T, S> extends RedAgate.ComponentProps {\r\n    items: T[];\r\n    scope?: S;\r\n    paperWidth: number;\r\n    paperHeight: number;\r\n    cols: number;\r\n    rows: number;\r\n}\r\n\r\nexport class HtmlImposition<T, S> extends RedAgate.RedAgateComponent<HtmlImpositionProps<T, S>> {\r\n    public constructor(props: HtmlImpositionProps<T, S>) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        const repeater: (v: T, i: number, items: T[], scope: any) => RedAgate.RedAgateNode =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        const a: RedAgate.RedAgateNode[] = [];\r\n        const scope = Object.assign({}, this.props.scope || {});\r\n        for (let i = 0; i < this.props.items.length; i++) {\r\n            a.push(\r\n                <div style={{\r\n                    position: 'absolute',\r\n                    left: (this.props.paperWidth  / this.props.cols) * (i % this.props.cols),\r\n                    top:  (this.props.paperHeight / this.props.rows) * (Math.floor(i / this.props.cols))\r\n                }}\r\n                >{repeater(this.props.items[i], i, this.props.items, scope)}</div>\r\n            );\r\n        }\r\n        return a;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\nexport * from './red-agate';\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { SvgCanvas }          from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { ShapeProps,\r\n         shapePropsDefault,\r\n         Shape,\r\n         CONTEXT_SVG_CANVAS } from './tags/Shape';\r\n\r\n\r\n\r\nexport interface PrinterMarksProps extends ShapeProps {\r\n    width: number;\r\n    height: number;\r\n    cropMarkLength?: number;\r\n    bleedMarks?: boolean;\r\n    northBleed?: number;\r\n    southBleed?: number;\r\n    eastBleed?: number;\r\n    westBleed?: number;\r\n    centerMarks?: boolean;\r\n    centerMarkArmLength?: number;\r\n    centerMarkArmMargin?: number;\r\n    hFold?: number[];\r\n    vFold?: number[];\r\n}\r\n\r\nexport const printerMarksDefault: PrinterMarksProps = Object.assign({}, shapePropsDefault, {\r\n    fill: false,\r\n    stroke: true,\r\n    strokeColor: \"black\",\r\n    lineWidth: 0.105834, // 0.3pt === 0.105834mm\r\n\r\n    width: 210,\r\n    height: 297,\r\n    cropMarkLength: 9,\r\n    bleedMarks: true,\r\n    northBleed: 3,\r\n    southBleed: 3,\r\n    eastBleed: 3,\r\n    westBleed: 3,\r\n    centerMarks: true,\r\n    centerMarkArmLength: 15,\r\n    centerMarkArmMargin: 3,\r\n});\r\n\r\nexport class PrinterMarks extends Shape<PrinterMarksProps> {\r\n    public constructor(props: PrinterMarksProps) {\r\n        super(Object.assign({}, printerMarksDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const c: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        const p = this.props;\r\n\r\n        // Crop Marks\r\n        {\r\n            // H\r\n            c.moveTo(        - (p.westBleed as number)                               ,        0);\r\n            c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number),        0);\r\n            c.moveTo(        - (p.westBleed as number)                               , p.height);\r\n            c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number), p.height);\r\n\r\n            c.moveTo(p.width + (p.eastBleed as number)                               ,        0);\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number),        0);\r\n            c.moveTo(p.width + (p.eastBleed as number)                               , p.height);\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number), p.height);\r\n\r\n            // V\r\n            c.moveTo(      0,          - (p.northBleed as number)                               );\r\n            c.lineTo(      0,          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n            c.moveTo(p.width,          - (p.northBleed as number)                               );\r\n            c.lineTo(p.width,          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n\r\n            c.moveTo(      0, p.height + (p.southBleed as number)                               );\r\n            c.lineTo(      0, p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n            c.moveTo(p.width, p.height + (p.southBleed as number)                               );\r\n            c.lineTo(p.width, p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n        }\r\n\r\n        // Bleed Marks\r\n        if (p.bleedMarks) {\r\n            // H\r\n            c.moveTo(                                                               0,          - (p.northBleed as number));\r\n            c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number),          - (p.northBleed as number));\r\n            c.moveTo(                                                               0, p.height + (p.southBleed as number));\r\n            c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number), p.height + (p.southBleed as number));\r\n\r\n            c.moveTo(p.width                                                         ,          - (p.northBleed as number));\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number),          - (p.northBleed as number));\r\n            c.moveTo(p.width                                                         , p.height + (p.southBleed as number));\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number), p.height + (p.southBleed as number));\r\n\r\n            // V\r\n            c.moveTo(        - (p.westBleed as number),                                                                  0);\r\n            c.lineTo(        - (p.westBleed as number),          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n            c.moveTo(p.width + (p.eastBleed as number),                                                                  0);\r\n            c.lineTo(p.width + (p.eastBleed as number),          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n\r\n            c.moveTo(        - (p.westBleed as number), p.height                                                          );\r\n            c.lineTo(        - (p.westBleed as number), p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n            c.moveTo(p.width + (p.eastBleed as number), p.height                                                          );\r\n            c.lineTo(p.width + (p.eastBleed as number), p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n        }\r\n\r\n        // Center Marks\r\n        if (p.centerMarks) {\r\n            // H\r\n            c.moveTo(p.width / 2,          - (p.northBleed as number)                               );\r\n            c.lineTo(p.width / 2,          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n            c.moveTo(p.width / 2, p.height + (p.southBleed as number)                               );\r\n            c.lineTo(p.width / 2, p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n\r\n            // H arms\r\n            c.moveTo(p.width / 2 - (p.centerMarkArmLength as number) / 2,          - (p.northBleed as number) - (p.centerMarkArmMargin as number));\r\n            c.lineTo(p.width / 2 + (p.centerMarkArmLength as number) / 2,          - (p.northBleed as number) - (p.centerMarkArmMargin as number));\r\n            c.moveTo(p.width / 2 - (p.centerMarkArmLength as number) / 2, p.height + (p.southBleed as number) + (p.centerMarkArmMargin as number));\r\n            c.lineTo(p.width / 2 + (p.centerMarkArmLength as number) / 2, p.height + (p.southBleed as number) + (p.centerMarkArmMargin as number));\r\n\r\n            // V\r\n            c.moveTo(        - (p.westBleed as number)                               , p.height / 2);\r\n            c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number), p.height / 2);\r\n            c.moveTo(p.width + (p.eastBleed as number)                               , p.height / 2);\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number), p.height / 2);\r\n\r\n            // V arms\r\n            c.moveTo(        - (p.westBleed as number) - (p.centerMarkArmMargin as number), p.height / 2 - (p.centerMarkArmLength as number) / 2);\r\n            c.lineTo(        - (p.westBleed as number) - (p.centerMarkArmMargin as number), p.height / 2 + (p.centerMarkArmLength as number) / 2);\r\n            c.moveTo(p.width + (p.eastBleed as number) + (p.centerMarkArmMargin as number), p.height / 2 - (p.centerMarkArmLength as number) / 2);\r\n            c.lineTo(p.width + (p.eastBleed as number) + (p.centerMarkArmMargin as number), p.height / 2 + (p.centerMarkArmLength as number) / 2);\r\n        }\r\n\r\n        if (p.hFold) {\r\n            let x = 0;\r\n            for (const dx of p.hFold) {\r\n                x += dx;\r\n                c.moveTo(x,          - (p.northBleed as number)                               );\r\n                c.lineTo(x,          - (p.northBleed as number) - (p.cropMarkLength as number));\r\n                c.moveTo(x, p.height + (p.southBleed as number)                               );\r\n                c.lineTo(x, p.height + (p.southBleed as number) + (p.cropMarkLength as number));\r\n            }\r\n        }\r\n\r\n        if (p.vFold) {\r\n            let y = 0;\r\n            for (const dy of p.vFold) {\r\n                y += dy;\r\n                c.moveTo(        - (p.westBleed as number)                               , y);\r\n                c.lineTo(        - (p.westBleed as number) - (p.cropMarkLength as number), y);\r\n                c.moveTo(p.width + (p.eastBleed as number)                               , y);\r\n                c.lineTo(p.width + (p.eastBleed as number) + (p.cropMarkLength as number), y);\r\n            }\r\n        }\r\n\r\n        return ``;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { Escape } from 'red-agate-util/modules/convert/Escape';\r\n\r\n\r\n\r\nexport interface RedAgateElement<P> {\r\n    type: string | ComponentClass<P>;\r\n    props: P;\r\n    nodeId: number | null;\r\n    children: RedAgateNode[];\r\n    component: Component<P> | null;\r\n}\r\n\r\n/*\r\nexport interface RedAgatePortal {\r\n    key: RedAgateKey | null;\r\n    children: RedAgateNode;\r\n}\r\n*/\r\n\r\n/* export type RedAgateKey = string | number; */\r\nexport type RedAgateText = string | number;\r\nexport type RedAgateChild = RedAgateElement<any> | RedAgateText;\r\n\r\n// Should be Array<RedAgateNode> but type aliases cannot be recursive\r\nexport type RedAgateFragment = {} | Array<RedAgateChild | any[] | boolean>;\r\nexport type RedAgateNode = RedAgateChild | RedAgateFragment /*| RedAgatePortal*/ | string | number | boolean | null | undefined;\r\n\r\nexport interface ComponentProps {\r\n    /** 'id' attribute of the html|xml element. */\r\n    id?: string;\r\n    /** name of RedAgateNode. */\r\n    ref?: string;\r\n    /** collection of descendant named 'ref's. */\r\n    refs?: { [refName: string]: RedAgateElement<any> };\r\n    /** auto numbered unique id of the html|xml element. if 'id' is not present, use this. */\r\n    __nodeId?: number;\r\n    // key?: RedAgateKey;\r\n\r\n    /** 'class' attribute of the html|xml element. */\r\n    styleClass?: object | string;\r\n    /** synonym of 'styleClass'. 'class' attribute of the html|xml element. */\r\n    className?: object | string;\r\n    /** synonym of 'styleClass'. 'class' attribute of the html|xml element. */\r\n    'class'?: object | string;\r\n\r\n    /** 'style' attribute of the html|xml element. */\r\n    style?: object | string;\r\n\r\n    children?: RedAgateNode | RedAgateNode[];\r\n    dangerouslySetInnerHTML?: {__html: string};\r\n    setInnerText?: {__text: string};\r\n\r\n    accesskey?: string;\r\n    contenteditable?: 'true' | 'false';\r\n    contextmenu?: string;\r\n    dir?: string;\r\n    draggable?: 'true' | 'false' | 'auto';\r\n    dropzone?: 'copy' | 'move' | 'link';\r\n    hidden?: true;\r\n    lang?: string;\r\n    spellcheck?: 'true' | 'false';\r\n    tabindex?: string | number;\r\n    title?: string;\r\n    translate?: 'yes' | 'no';\r\n}\r\n\r\nexport interface ComponentClass<P extends ComponentProps> {\r\n    // tslint:disable-next-line:callable-types\r\n    new (props?: P): Component<P>;\r\n}\r\n\r\nexport interface Component<P extends ComponentProps> {\r\n    earlyConstruct?(): void;\r\n    transform?(): RedAgateNode;\r\n    defer?(): Promise<any>;\r\n    beforeRender?(contexts: Map<string, any>): void;\r\n    render?(contexts: Map<string, any>, children: string): string;\r\n    afterRender?(contexts: Map<string, any>): void;\r\n}\r\n\r\nexport type ComponentFactory<P extends ComponentProps> =\r\n    ComponentClass<P> |\r\n    string;\r\n\r\n\r\n\r\n// tslint:disable-next-line\r\nexport declare namespace JSX {\r\n    interface IntrinsicElements {\r\n        [elemName: string]: any;\r\n    }\r\n\r\n    interface ElementClass extends Component<any> {\r\n    }\r\n\r\n    interface Element extends RedAgateElement<any> {\r\n    }\r\n\r\n    interface ElementAttributesProperty {\r\n        props: any; // specify the property name to use\r\n    }\r\n\r\n    interface ElementChildrenAttribute {\r\n        children: {};  // specify children name to use\r\n    }\r\n}\r\n\r\n\r\n\r\nconst HTML_NO_CLOSE_TAGS = new Set([\r\n    'area', 'base', 'br', 'col', 'command', 'embed', 'hr',\r\n    'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr',\r\n]);\r\n\r\n\r\n\r\nexport abstract class RedAgateComponent<P extends ComponentProps> implements Component<P> {\r\n\r\n    private savedContexts: Map<string, any>;\r\n\r\n    // tslint:disable-next-line:no-object-literal-type-assertion\r\n    public constructor(public props: P = {} as P) {\r\n        this.savedContexts = new Map<string, any>();\r\n    }\r\n\r\n    public abstract transform(): RedAgateNode;\r\n\r\n    public defer() {\r\n        return Promise.resolve();\r\n    }\r\n\r\n    protected setContext(contexts: Map<string, any>, key: string, value: any) {\r\n        if (this.savedContexts.has(key)) {\r\n            throw new Error(`RedAgateComponent#setContext: the key '${key}' has already set by myself.`);\r\n        }\r\n        if (contexts.has(key)) {\r\n            contexts.set(key, contexts.get(key));\r\n        }\r\n        contexts.set(key, value);\r\n    }\r\n\r\n    protected unsetContext(contexts: Map<string, any>, key: string) {\r\n        contexts.delete(key);\r\n        if (this.savedContexts.has(key)) {\r\n            contexts.set(key, this.savedContexts.get(key));\r\n            this.savedContexts.delete(key);\r\n        }\r\n    }\r\n\r\n    protected getContext(contexts: Map<string, any>, key: string) {\r\n        return contexts.get(key);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport abstract class RedAgatePhantomComponent<P extends ComponentProps> extends RedAgateComponent<P> {\r\n    public transform() {\r\n        return (\r\n            (this.props.children !== null && this.props.children !== void 0) ?\r\n            this.props.children : []\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nclass RedAgateSimpleComponent<P extends ComponentProps> extends RedAgateComponent<P> {\r\n    public constructor(private fn: (props: P) => RedAgateNode, props: P) {\r\n        super(props);\r\n    }\r\n\r\n    public transform(): RedAgateNode {\r\n        return this.fn(this.props);\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction getPromises(promises: Array<Promise<any>>, element: RedAgateNode) {\r\n    if (element === null || element === void 0) {\r\n        return promises;\r\n    }\r\n\r\n    if (Array.isArray(element)) {\r\n        element.forEach(x => getPromises(promises, x));\r\n        return promises;\r\n    }\r\n    if (typeof element !== 'object') {\r\n        return promises;\r\n    }\r\n\r\n    if ((element as any).component && (element as any).component.defer) {\r\n        const el = element as RedAgateElement<any>;\r\n        const p = (el as any).component.defer();\r\n        if (p) promises.push(p);\r\n    }\r\n    if ((element as any).children) {\r\n        getPromises(promises, (element as any).children);\r\n    }\r\n\r\n    return promises;\r\n}\r\n\r\n\r\n\r\nfunction buildElementProps<P extends ComponentProps>(props: P, children: RedAgateNode[]) {\r\n    if (children) {\r\n        if (children.length === 1) {\r\n            props.children = children[0];\r\n        } else if (children.length > 1) {\r\n            props.children = children;\r\n        }\r\n\r\n        let refs = {};\r\n        let hasRefs = false;\r\n        for (const c of children) {\r\n            if (c === null || c === void 0) {\r\n                // do nothing\r\n            } else if (Array.isArray(c)) {\r\n                // do nothing\r\n            } else if (typeof c !== 'object') {\r\n                // do nothing\r\n            } else {\r\n                if ((c as RedAgateElement<P>).props) {\r\n                    const p = (c as RedAgateElement<P>).props;\r\n                    if (typeof p.refs === 'object') {\r\n                        hasRefs = true;\r\n                        refs = Object.assign(refs, p.refs);\r\n                    }\r\n                    if (typeof p.ref === 'string') {\r\n                        hasRefs = true;\r\n                        refs[p.ref] = c;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (hasRefs) {\r\n            props.refs = refs;\r\n        }\r\n    }\r\n    return props;\r\n}\r\n\r\nexport function createElement<P extends ComponentProps>(\r\n    type: ComponentFactory<P>, props: P | null | undefined,\r\n    ...children: RedAgateNode[]): RedAgateElement<P> {\r\n\r\n    // tslint:disable-next-line:no-object-literal-type-assertion\r\n    props = buildElementProps(props || ({} as P), children);\r\n\r\n    if (typeof type === 'function') {\r\n        return {\r\n            type,\r\n            props,\r\n            nodeId: null,\r\n            children,\r\n            // ES6 arrow function have no prototype.\r\n            component: type.prototype && type.prototype.earlyConstruct && type.prototype.transform ?\r\n                new type(props) :\r\n                null,\r\n        };\r\n    }\r\n    if (typeof type === 'string') {\r\n        return {\r\n            type,\r\n            props,\r\n            nodeId: null,\r\n            children,\r\n            component: null,\r\n        };\r\n    }\r\n\r\n    throw new Error('createElement receives invalid parameter type.');\r\n}\r\n\r\nexport function cloneElement(el: RedAgateElement<any>): RedAgateElement<any> {\r\n    let props = Object.assign({}, el.props || {});\r\n    delete props.__nodeId;\r\n\r\n    const children = (Array.isArray(el.children) ? el.children.slice(0) : el.children);\r\n    props = buildElementProps(props, children);\r\n\r\n    return {\r\n        type: el.type,\r\n        props,\r\n        nodeId: null,\r\n        children,\r\n        component: null,\r\n    };\r\n}\r\n\r\nexport function createElementFromComponentInstance<P extends ComponentProps>(c: RedAgateComponent<P>): RedAgateElement<P> {\r\n    return {\r\n        type: (c.constructor as any),\r\n        props: c.props,\r\n        nodeId: null,\r\n        children: (Array.isArray(c.props.children) ? c.props.children : []),\r\n        component: c,\r\n    };\r\n}\r\n\r\n\r\n\r\nexport interface TransformContext {\r\n    counter: number;\r\n}\r\n\r\nfunction constructComponent(el: RedAgateElement<any>, transformContext: TransformContext) {\r\n    if (el.nodeId === null || el.nodeId === void 0) {\r\n        el.nodeId = transformContext.counter++;\r\n        el.props.__nodeId = el.nodeId;\r\n    }\r\n    if (el.component === null || el.component === void 0) {\r\n        if (typeof el.type === 'function') {\r\n            // ES6 arrow function have no prototype.\r\n            el.component = (el.type.prototype && el.type.prototype.transform) ?\r\n                new el.type(el.props) :\r\n                new RedAgateSimpleComponent(el.type as any, el.props);\r\n        }\r\n    }\r\n    return el;\r\n}\r\n\r\nfunction duplicateElement(el: RedAgateElement<any>): RedAgateElement<any> {\r\n    return {\r\n        type: el.type,\r\n        props: el.props,\r\n        nodeId: el.nodeId,\r\n        children: (Array.isArray(el.children) ? el.children.slice(0) : el.children),\r\n        component: el.component,\r\n    };\r\n}\r\n\r\nexport function transform(element: RedAgateNode, transformContext?: TransformContext): RedAgateNode {\r\n    if (!transformContext) {\r\n        transformContext = { counter: 0 };\r\n    }\r\n    if (element === null || element === void 0) {\r\n        return element;\r\n    } else if (Array.isArray(element)) {\r\n        return (element\r\n            .map(x => transform(x, transformContext))\r\n            .filter(x => x !== null && x !== void 0)\r\n        );\r\n    } else if (typeof element !== 'object') {\r\n        return element;\r\n    }\r\n\r\n    const el = duplicateElement(constructComponent(element as RedAgateElement<any>, transformContext));\r\n\r\n    if (el.component && el.component.transform) {\r\n        const z = el.component.transform();\r\n\r\n        if (z === null || z === void 0) {\r\n            el.children = [];\r\n        } else if (Array.isArray(z)) {\r\n            el.children = z;\r\n        } else if (typeof z !== 'object') {\r\n            el.children = [z];\r\n        } else {\r\n            el.children = [z];\r\n        }\r\n    } else if (! el.children) {\r\n        el.children = [];\r\n    }\r\n\r\n    el.children = el.children\r\n        .map(x => transform(x, transformContext))\r\n        .filter(x => x !== null && x !== void 0);\r\n\r\n    return el;\r\n}\r\n\r\n\r\nfunction camelToKebabCase(s: string): string {\r\n    return s.replace(/([a-z0-9])([A-Z])/g, (match, p1, p2) => `${p1}-${p2.toLowerCase()}`);\r\n}\r\n\r\nexport function elementStyleRenderer(style: object | string) {\r\n    return typeof style === 'string' ? style :\r\n        Object.getOwnPropertyNames(style)\r\n            .filter(x => style[x] !== null && style[x] !== void 0)\r\n            .map(x => `${Escape.html(camelToKebabCase(x))}:${Escape.html(style[x])};`)\r\n            .join('');\r\n}\r\n\r\nexport function htmlAttributesRenderer(props: any, omitKeys?: Set<string>, whiteListKeys?: Set<string>): {attrs: string, children: string} {\r\n    let attrs = '';\r\n    let children = '';\r\n\r\n    const formatArrayProp = (prop: string | string[]) => {\r\n        return Array.isArray(prop) ?\r\n            prop.map((x) => Escape.html(x.toString()))\r\n                .filter(x => x !== null && x !== void 0)\r\n                .join(' ') :\r\n            Escape.html(prop.toString());\r\n    };\r\n\r\n    for (const key of Object.getOwnPropertyNames(props)) {\r\n        switch (key) {\r\n            case 'styleClass': case 'className': case 'class':\r\n                attrs += ` class=\"${formatArrayProp(props[key])}\"`;\r\n                break;\r\n\r\n            case 'style':\r\n                attrs += ` style=\"${elementStyleRenderer(props.style)}\"`;\r\n                break;\r\n\r\n            case 'children': case '__nodeId':\r\n                break;\r\n\r\n            case 'dangerouslySetInnerHTML':\r\n                children += props[key].__html;\r\n                break;\r\n\r\n            case 'setInnerText':\r\n                children += Escape.html(props[key].__text).replace(/\\r?\\n/g, '<br/>').replace(/\\r/g, '<br/>');\r\n                break;\r\n\r\n            default:\r\n                if (omitKeys && omitKeys.has(key)) {\r\n                    // no output\r\n                } else if (whiteListKeys && !whiteListKeys.has(key) && key !== 'id') {\r\n                    // no output\r\n                } else if (props[key] === null || props[key] === void 0 || props[key] === false) {\r\n                    // no output\r\n                } else if (props[key] === true) {\r\n                    attrs += ` ${Escape.html(key)}`;\r\n                } else {\r\n                    attrs += ` ${Escape.html(key)}=\"${formatArrayProp(props[key])}\"`;\r\n                }\r\n        }\r\n    }\r\n    return {attrs, children};\r\n}\r\n\r\nexport function htmlRenderer(element: RedAgateNode, contexts: Map<string, any>): string {\r\n    if (element === null || element === void 0) {\r\n        return '';\r\n    }\r\n\r\n    if (Array.isArray(element)) {\r\n        return element.map(x => htmlRenderer(x, contexts)).join('');\r\n    }\r\n    if (typeof element !== 'object') {\r\n        return Escape.html(element.toString());\r\n    }\r\n    if (!(element as any).props) {\r\n        return Escape.html(element.toString());\r\n    }\r\n\r\n    const el = element as RedAgateElement<any>;\r\n    // tslint:disable-next-line:prefer-const\r\n    let {attrs, children} = htmlAttributesRenderer(el.props);\r\n\r\n    if (el.component && el.component.beforeRender) {\r\n        el.component.beforeRender(contexts);\r\n    }\r\n\r\n    if (el.children !== null && el.children !== void 0) {\r\n        children += el.children.map(x => htmlRenderer(x, contexts)).join('');\r\n    }\r\n\r\n    let r = '';\r\n\r\n    if (el.component && el.component.render) {\r\n        r = el.component.render(contexts, children);\r\n    } else if (typeof el.type === 'string') {\r\n        const type = Escape.html(el.type);\r\n        if ((children === '' || children === null || children === void 0) && HTML_NO_CLOSE_TAGS.has(type)) {\r\n            r = `<${type}${attrs}/>`;\r\n        } else {\r\n            r = `<${type}${attrs}>${children}</${type}>`;\r\n        }\r\n    } else {\r\n        r = children;\r\n    }\r\n\r\n    if (el.component && el.component.afterRender) {\r\n        el.component.afterRender(contexts);\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\nexport function renderAsHtml(element: RedAgateNode): Promise<string> {\r\n    const contexts = new Map<string, any>();\r\n    const transformContext = { counter: 0 };\r\n    const z = transform(element, transformContext);\r\n\r\n    return (\r\n        Promise.all(getPromises([], z))\r\n            .then(d => htmlRenderer(z, contexts))\r\n    );\r\n}\r\n\r\nexport function renderAsHtml_noDefer(element: RedAgateNode): string {\r\n    const contexts = new Map<string, any>();\r\n    const transformContext = { counter: 0 };\r\n    const z = transform(element, transformContext);\r\n\r\n    return htmlRenderer(z, contexts);\r\n}\r\n\r\n\r\n\r\nexport function render(\r\n    element: RedAgateNode, container: HTMLElement,\r\n    callback?: (html: string | null, error: any | null) => void): void {\r\n\r\n    renderAsHtml(element)\r\n    .then(html => {\r\n        container.innerHTML = html;\r\n        if (callback) callback(html, null);\r\n    })\r\n    .catch(error => {\r\n        if (callback) callback(null, error);\r\n    });\r\n}\r\n\r\n\r\n\r\nexport function renderOnAwsLambda(\r\n    element: RedAgateNode,\r\n    callback: (error: any | null, result: any | null) => void): void {\r\n\r\n    renderAsHtml(element)\r\n    .then(html => {\r\n        callback(null, html);\r\n    })\r\n    .catch(error => {\r\n        callback(error, null);\r\n    });\r\n}\r\n\r\n\r\n\r\nexport interface ExpressRequest {\r\n}\r\n\r\nexport interface ExpressResponse {\r\n    status(code: number): ExpressResponse;\r\n    set(field: string, value?: string): ExpressResponse;\r\n    send(content: any): ExpressResponse;\r\n}\r\n\r\nexport function renderOnExpress(\r\n    element: RedAgateNode,\r\n    req: ExpressRequest, res: ExpressResponse, headers?: Array<[string, string | null | undefined]>): void {\r\n\r\n    renderAsHtml(element)\r\n    .then(content => {\r\n        if (headers) {\r\n            headers.forEach((x) => res.set(x[0], typeof x[1] === 'string' ? x[1] as string : void 0));\r\n        }\r\n        res.send(content);\r\n    })\r\n    .catch(error => {\r\n        console.error(JSON.stringify(error));\r\n        res.status(500).send('');\r\n    });\r\n}\r\n\r\n\r\n\r\nexport interface FragmentProps extends ComponentProps {\r\n}\r\n\r\nexport class Fragment extends RedAgatePhantomComponent<FragmentProps> {\r\n    public constructor(props: FragmentProps) {\r\n        super(props);\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport { Base64 }          from 'red-agate-util/modules/convert/Base64';\r\nimport { TextEncoding }    from 'red-agate-util/modules/convert/TextEncoding';\r\nimport { Lambda, Lambdas } from './app';\r\n\r\n\r\nlet isNode = false;\r\nif (typeof process === \"object\") {\r\n    if (typeof process.versions === \"object\") {\r\n        if (typeof process.versions.node !== \"undefined\") {\r\n            if (typeof (process as any).type !== \"undefined\" && (process as any).type === \"renderer\") {\r\n                // electron renderer process\r\n            } else {\r\n                isNode = true;\r\n            }\r\n        }\r\n    }\r\n}\r\n// tslint:disable-next-line:no-eval\r\nconst requireDynamic = isNode ? eval(\"require\") : void 0;\r\n\r\n\r\n\r\nexport class HtmlRenderer {\r\n    // tslint:disable-next-line:variable-name\r\n    private static _launchOptions: any = void 0;\r\n\r\n    public static get launchOptions(): any {\r\n        return HtmlRenderer._launchOptions;\r\n    }\r\n\r\n    public static set launchOptions(opts: any) {\r\n        HtmlRenderer._launchOptions = opts;\r\n    }\r\n\r\n    private static async writeToTempFile(html: string, tmpPath: string) {\r\n        const path = requireDynamic('path');\r\n        const fs   = requireDynamic('fs');\r\n        const util = requireDynamic('util');\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            let tmp = tmpPath;\r\n            if (tmp.includes('*')) {\r\n                const crypto = requireDynamic('crypto');\r\n                tmp = tmp.replace(/\\*/g, Base64.encode(crypto.randomBytes(6)).replace(/\\+/g, 'A').replace(/\\//g, 'B'));\r\n            }\r\n            let url = '';\r\n            const tmpFullPath = path.resolve(tmp);\r\n\r\n            const fd = await util.promisify(fs.open)(tmpFullPath, 'ax');\r\n\r\n            try {\r\n                await util.promisify(fs.writeFile)(fd, html, 'utf8');\r\n                let p = encodeURI(tmpFullPath.replace(/\\\\/g, '/'));\r\n                if (! p.startsWith('/')) {\r\n                    // Windows absolute paths except UNC paths.\r\n                    p = '/' + p;\r\n                }\r\n                url = 'file://' + p;\r\n            } finally {\r\n                await util.promisify(fs.close)(fd);\r\n            }\r\n\r\n            return { tmpFullPath, url };\r\n        }\r\n        throw new Error(\"HtmlRenderer#writeToTempFile: Can't create a temp file.\");\r\n    }\r\n\r\n    private static async _toPdf(html: string, navigateOptions: any, pdfOptions: any, tmpPath?: string): Promise<Buffer> {\r\n        const puppeteer = requireDynamic('puppeteer');\r\n\r\n        let buffer: Buffer | null = null;\r\n        let browser = null;\r\n        let tmpFullPath = '';\r\n        let url = '';\r\n\r\n        try {\r\n            if (tmpPath) {\r\n                ({ tmpFullPath, url } = await HtmlRenderer.writeToTempFile(html, tmpPath));\r\n            } else {\r\n                url = 'data:text/html;base64,' + Base64.encode(TextEncoding.encodeToUtf8(html));\r\n            }\r\n\r\n            browser = await puppeteer.launch(HtmlRenderer._launchOptions);\r\n            const page = await browser.newPage();\r\n            await page.goto(\r\n                url,\r\n                Object.assign({ waitUntil: 'load' }, navigateOptions || {}),\r\n            );\r\n            buffer = await page.pdf(\r\n                Object.assign({\r\n                    width: '210mm',\r\n                    height: '297mm',\r\n                    printBackground: true,\r\n                }, pdfOptions || {})\r\n            );\r\n        } finally {\r\n            try {\r\n                if (browser) {\r\n                    await browser.close();\r\n                }\r\n            } catch (e) {}\r\n            try {\r\n                if (tmpPath && tmpFullPath) {\r\n                    const fs   = requireDynamic('fs');\r\n                    const util = requireDynamic('util');\r\n                    await util.promisify(fs.unlink)(tmpFullPath);\r\n                }\r\n            } catch (e) {}\r\n        }\r\n        return buffer as Buffer;\r\n    }\r\n\r\n    public static async toPdf(html: string | Promise<string>, navigateOptions: any, pdfOptions: any, tmpPath?: string): Promise<Buffer> {\r\n        if (typeof html === 'string') {\r\n            return HtmlRenderer._toPdf(html, navigateOptions, pdfOptions, tmpPath);\r\n        } else {\r\n            return HtmlRenderer._toPdf(await html, navigateOptions, pdfOptions, tmpPath);\r\n        }\r\n    }\r\n\r\n    public static toPdfHandler(handler: Lambda, navigateOptions: any, pdfOptions: any, tmpPath?: string): Lambda {\r\n        return Lambdas.pipe(handler, (html, ctx, cb) => {\r\n            HtmlRenderer.toPdf(html, navigateOptions, pdfOptions, tmpPath)\r\n            .then(buf => cb(null, buf))\r\n            .catch(err => cb(err, null));\r\n        });\r\n    }\r\n\r\n    private static async _toImage(html: string, navigateOptions: any, imageOptions: any, tmpPath?: string): Promise<Buffer> {\r\n        const puppeteer = requireDynamic('puppeteer');\r\n\r\n        let buffer: Buffer | null = null;\r\n        let browser = null;\r\n        let tmpFullPath = '';\r\n        let url = '';\r\n\r\n        try {\r\n            if (tmpPath) {\r\n                ({ tmpFullPath, url } = await HtmlRenderer.writeToTempFile(html, tmpPath));\r\n            } else {\r\n                url = 'data:text/html;base64,' + Base64.encode(TextEncoding.encodeToUtf8(html));\r\n            }\r\n\r\n            browser = await puppeteer.launch(HtmlRenderer._launchOptions);\r\n            const page = await browser.newPage();\r\n            await page.goto(\r\n                url,\r\n                Object.assign({ waitUntil: 'load' }, navigateOptions || {}),\r\n            );\r\n            await page.emulateMedia('print');\r\n            buffer = await page.screenshot(\r\n                Object.assign({\r\n                    type: 'png',\r\n                    fullPage: true,\r\n                    omitBackground: false,\r\n                }, imageOptions || {})\r\n            );\r\n        } finally {\r\n            try {\r\n                if (browser) {\r\n                    await browser.close();\r\n                }\r\n            } catch (e) {}\r\n            try {\r\n                if (tmpPath && tmpFullPath) {\r\n                    const fs   = requireDynamic('fs');\r\n                    const util = requireDynamic('util');\r\n                    await util.promisify(fs.unlink)(tmpFullPath);\r\n                }\r\n            } catch (e) {}\r\n        }\r\n        return buffer as Buffer;\r\n    }\r\n\r\n    public static async toImage(html: string | Promise<string>, navigateOptions: any, imageOptions: any, tmpPath?: string): Promise<Buffer> {\r\n        if (typeof html === 'string') {\r\n            return HtmlRenderer._toImage(html, navigateOptions, imageOptions, tmpPath);\r\n        } else {\r\n            return HtmlRenderer._toImage(await html, navigateOptions, imageOptions, tmpPath);\r\n        }\r\n    }\r\n\r\n    public static toImageHandler(handler: Lambda, navigateOptions: any, imageOptions: any, tmpPath?: string): Lambda {\r\n        return Lambdas.pipe(handler, (html, ctx, cb) => {\r\n            HtmlRenderer.toImage(html, navigateOptions, imageOptions, tmpPath)\r\n            .then(buf => cb(null, buf))\r\n            .catch(err => cb(err, null));\r\n        });\r\n    }\r\n}\r\n\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\n/** @jsx RedAgate.createElement */\r\nimport * as RedAgate          from './red-agate';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue }  from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { TextEncoding }       from 'red-agate-util/modules/convert/TextEncoding';\r\nimport { FileFetcher }        from 'red-agate-util/modules/io/FileFetcher';\r\nimport { Logger }             from 'red-agate-util/modules/io/Logger';\r\nimport { ShapeBaseProps,\r\n         ShapeProps,\r\n         shapePropsDefault,\r\n         Shape,\r\n         AmbientProps,\r\n         ImagingShapeBasePropsMixin,\r\n         renderSvgCanvas,\r\n         toImgTag,\r\n         toElementStyle,\r\n         toDataUrl,\r\n         toSvg,\r\n         CONTEXT_SVG_CANVAS,\r\n         CONTEXT_SVG_PATH }   from './tags/Shape';\r\n\r\n\r\n\r\nexport interface SvgProps extends ShapeBaseProps, ImagingShapeBasePropsMixin {\r\n    width: number;\r\n    height: number;\r\n    unit?: string;\r\n    alt?: string;\r\n    template?: string;\r\n    templateUrl?: string;\r\n}\r\n\r\nexport class Svg extends RedAgate.RedAgatePhantomComponent<SvgProps> {\r\n    public constructor(props: SvgProps) {\r\n        super(props);\r\n        if (props.template) {\r\n            this.template = props.template;\r\n        }\r\n    }\r\n\r\n    private template: string | null = null;\r\n\r\n    public defer() {\r\n        if (this.template !== null) {\r\n            return Promise.resolve();\r\n        } else if (this.props.templateUrl === void 0 || this.props.templateUrl === null || this.props.templateUrl === '') {\r\n            return Promise.resolve();\r\n        } else {\r\n            const url = this.props.templateUrl;\r\n            const promise = new Promise<void>((resolve, reject) => {\r\n                try {\r\n                    FileFetcher.fetchLocation(url)\r\n                    .then((result) => {\r\n                        this.template = TextEncoding.decodeUtf8(result.data);\r\n                        resolve();\r\n                    })\r\n                    .catch((e) => {\r\n                        Logger.log(\"Svg#defer:catch:\" + e);\r\n                        reject(e);\r\n                    });\r\n                } catch (e) {\r\n                    Logger.log(\"Svg#defer:catch:\" + e);\r\n                    reject(e);\r\n                }\r\n            });\r\n            return promise;\r\n        }\r\n    }\r\n\r\n    public toImgTag(): string {\r\n        return toImgTag(this);\r\n    }\r\n\r\n    public toElementStyle(): string {\r\n        return toElementStyle(this);\r\n    }\r\n\r\n    public toDataUrl(): string {\r\n        return toDataUrl(this);\r\n    }\r\n\r\n    public toSvg(): string {\r\n        return toSvg(this);\r\n    }\r\n\r\n    public toRendered(): string {\r\n        return RedAgate.renderAsHtml_noDefer(this);\r\n    }\r\n\r\n    public beforeRender(contexts: Map<string, any>) {\r\n        this.setContext(contexts, CONTEXT_SVG_CANVAS,\r\n            this.template === null ? new SvgCanvas() : SvgCanvas.fromTemplate(this.template)\r\n        );\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        return renderSvgCanvas(this.props, canvas, this.props.width, this.props.height);\r\n    }\r\n\r\n    public afterRender(contexts: Map<string, any>) {\r\n        this.unsetContext(contexts, CONTEXT_SVG_CANVAS);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport const ambientPropsDefault: AmbientProps = Object.assign({}, shapePropsDefault, {\r\n});\r\n\r\nexport class Ambient extends Shape<AmbientProps> {\r\n    public constructor(props: AmbientProps) {\r\n        super(Object.assign({}, ambientPropsDefault, props));\r\n        this.isAmbient = true;\r\n        this.isGroup = false;\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface ArcProps extends ShapeProps {\r\n    r: number;\r\n    startDeg: number;\r\n    endDeg: number;\r\n    anticlockwise?: boolean;\r\n}\r\n\r\nexport const arcPropsDefault: ArcProps = Object.assign({}, shapePropsDefault, {\r\n    r: 1,\r\n    startDeg: 0,\r\n    endDeg: 180,\r\n    anticlockwise: true\r\n});\r\n\r\nexport class Arc extends Shape<ArcProps> {\r\n    public constructor(props: ArcProps) {\r\n        super(Object.assign({}, arcPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.arc(\r\n            this.props.r,\r\n            this.props.r,\r\n            this.props.r,\r\n            this.props.startDeg / 180 * Math.PI, this.props.endDeg / 180 * Math.PI,\r\n            this.props.anticlockwise\r\n            );\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport type CanvasRenderFn = (canvas: SvgCanvas) => void;\r\n\r\nexport interface CanvasProps extends ShapeProps {\r\n    children?: CanvasRenderFn | RedAgate.RedAgateNode | RedAgate.RedAgateNode[];\r\n}\r\n\r\nexport const canvasPropsDefault: CanvasProps = Object.assign({}, shapePropsDefault, {\r\n});\r\n\r\nexport class Canvas extends Shape<CanvasProps> {\r\n    public constructor(props: CanvasProps) {\r\n        super(Object.assign({}, canvasPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        const fn: CanvasRenderFn =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        fn(canvas);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface CircleProps extends ShapeProps {\r\n    r: number;\r\n    anticlockwise?: boolean;\r\n}\r\n\r\nexport const circlePropsDefault: CircleProps = Object.assign({}, shapePropsDefault, {\r\n    r: 1,\r\n    anticlockwise: true\r\n});\r\n\r\nexport class Circle extends Shape<CircleProps> {\r\n    public constructor(props: CircleProps) {\r\n        super(Object.assign({}, circlePropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.arc(\r\n            this.props.r,\r\n            this.props.r,\r\n            this.props.r,\r\n            0, 2 * Math.PI,\r\n            this.props.anticlockwise\r\n            );\r\n        canvas.closePath();\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface CurveProps extends ShapeProps {\r\n    move?: boolean;\r\n    points: number[];\r\n}\r\n\r\nexport const curvePropsDefault: CurveProps = Object.assign({}, shapePropsDefault, {\r\n    move: true,\r\n    points: []\r\n});\r\n\r\nexport class Curve extends Shape<CurveProps> {\r\n    public constructor(props: CurveProps) {\r\n        super(Object.assign({}, curvePropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (this.props.move) canvas.moveTo(this.props.points[0], this.props.points[1]);\r\n        for (let i = this.props.move ? 2 : 0; i < this.props.points.length; i += 6) {\r\n            canvas.bezierCurveTo(\r\n                this.props.points[i + 0],\r\n                this.props.points[i + 1],\r\n                this.props.points[i + 2],\r\n                this.props.points[i + 3],\r\n                this.props.points[i + 4],\r\n                this.props.points[i + 5]\r\n                );\r\n        }\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface GridLineProps extends ShapeProps {\r\n    startX?: number;\r\n    endX?: number;\r\n    startY?: number;\r\n    endY?: number;\r\n    gridSize?: number;\r\n    bleed?: number;\r\n}\r\nexport interface GridLinePropsNoUndefined extends ShapeProps {\r\n    startX: number;\r\n    endX: number;\r\n    startY: number;\r\n    endY: number;\r\n    gridSize: number;\r\n    bleed: number;\r\n}\r\n\r\nexport const gridLinePropsDefault: GridLinePropsNoUndefined = Object.assign({}, shapePropsDefault, {\r\n    lineWidth: 0.1,\r\n    fill: false,\r\n    stroke: true,\r\n    strokeColor: \"#ccc\",\r\n    startX: 0,\r\n    endX: 210,\r\n    startY: 0,\r\n    endY: 296,\r\n    gridSize: 5,\r\n    bleed: 13\r\n});\r\n\r\nexport class GridLine extends Shape<GridLineProps> {\r\n    public constructor(props: GridLineProps) {\r\n        super(Object.assign({}, gridLinePropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const props = this.props as GridLinePropsNoUndefined;\r\n\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        const m1 = Math.ceil(props.bleed / props.gridSize) * props.gridSize;\r\n        const mX = Math.ceil((props.endX - props.startX + props.bleed) / props.gridSize) * props.gridSize;\r\n        const mY = Math.ceil((props.endY - props.startY + props.bleed) / props.gridSize) * props.gridSize;\r\n\r\n        for (let dx = props.startX - m1; dx <= mX; dx += props.gridSize) {\r\n            canvas.moveTo(props.startX + dx, props.startY - m1);\r\n            canvas.lineTo(props.startX + dx, props.startY + mY);\r\n        }\r\n        for (let dy = props.startY - m1; dy <= mY; dy += props.gridSize) {\r\n            canvas.moveTo(props.startX - m1, props.startY + dy);\r\n            canvas.lineTo(props.startX + mX, props.startY + dy);\r\n        }\r\n\r\n        canvas.rect(props.startX || 0, props.startY || 0, props.endX - props.startX, props.endY - props.startY);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface GroupProps extends ShapeProps {\r\n    scaleX?: number;\r\n    scaleY?: number;\r\n    rotationDeg?: number;\r\n    tm?: number[];\r\n}\r\n\r\nexport class Group extends Shape<GroupProps> {\r\n    public constructor(props: GroupProps) {\r\n        super(Object.assign({}, {}, props));\r\n        this.isAmbient = true;\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface LineProps extends ShapeProps {\r\n    move?: boolean;\r\n    points: number[];\r\n}\r\n\r\nexport const linePropsDefault: LineProps = Object.assign({}, shapePropsDefault, {\r\n    move: true,\r\n    points: []\r\n});\r\n\r\nexport class Line extends Shape<LineProps> {\r\n    public constructor(props: LineProps) {\r\n        super(Object.assign({}, linePropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (this.props.move) canvas.moveTo(this.props.points[0], this.props.points[1]);\r\n        for (let i = this.props.move ? 2 : 0; i < this.props.points.length; i += 2) {\r\n            canvas.lineTo(this.props.points[i], this.props.points[i + 1]);\r\n        }\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface PathProps extends ShapeProps {\r\n    close?: boolean;\r\n    clip?: boolean;\r\n    width?: number;\r\n    height?: number;\r\n}\r\n\r\nexport const pathPropsDefault: PathProps = Object.assign({}, shapePropsDefault, {\r\n    close: false,\r\n    clip: false,\r\n    width: 10,\r\n    height: 10,\r\n    paths: []\r\n});\r\n\r\nexport class Path extends Shape<PathProps> {\r\n    public constructor(props: PathProps) {\r\n        super(Object.assign({}, pathPropsDefault, props));\r\n    }\r\n\r\n    public beforeRender(contexts: Map<string, any>) {\r\n        this.setContext(contexts, CONTEXT_SVG_PATH, true);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return ``;\r\n    }\r\n\r\n    public afterRender(contexts: Map<string, any>) {\r\n        this.unsetContext(contexts, CONTEXT_SVG_PATH);\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface PieProps extends ShapeProps {\r\n    r: number;\r\n    startDeg: number;\r\n    endDeg: number;\r\n    anticlockwise?: boolean;\r\n}\r\n\r\nexport const piePropsDefault: PieProps = Object.assign({}, shapePropsDefault, {\r\n    r: 1,\r\n    startDeg: 0,\r\n    endDeg: 180,\r\n    anticlockwise: true\r\n});\r\n\r\nexport class Pie extends Shape<PieProps> {\r\n    public constructor(props: PieProps) {\r\n        super(Object.assign({}, piePropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.moveTo(this.props.r, this.props.r);\r\n        canvas.arc(\r\n            this.props.r,\r\n            this.props.r,\r\n            this.props.r,\r\n            this.props.startDeg / 180 * Math.PI, this.props.endDeg / 180 * Math.PI,\r\n            this.props.anticlockwise\r\n            );\r\n        canvas.closePath();\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface PolygonProps extends ShapeProps {\r\n    points: number[];\r\n}\r\n\r\nexport const polygonPropsDefault: PolygonProps = Object.assign({}, shapePropsDefault, {\r\n    points: []\r\n});\r\n\r\nexport class Polygon extends Shape<PolygonProps> {\r\n    public constructor(props: PolygonProps) {\r\n        super(Object.assign({}, polygonPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.moveTo(this.props.points[0], this.props.points[1]);\r\n        for (let i = 2; i < this.props.points.length; i += 2) {\r\n            canvas.lineTo(this.props.points[i], this.props.points[i + 1]);\r\n        }\r\n        canvas.closePath();\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface RectProps extends ShapeProps {\r\n    width: number;\r\n    height: number;\r\n}\r\n\r\nexport const rectPropsDefault: RectProps = Object.assign({}, shapePropsDefault, {\r\n    width: 10,\r\n    height: 10\r\n});\r\n\r\nexport class Rect extends Shape<RectProps> {\r\n    public constructor(props: RectProps) {\r\n        super(Object.assign({}, rectPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.rect(0, 0, this.props.width, this.props.height);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface RoundRectProps extends ShapeProps {\r\n    width: number;\r\n    height: number;\r\n    r: number;\r\n}\r\n\r\nexport const roundRectPropsDefault: RoundRectProps = Object.assign({}, shapePropsDefault, {\r\n    width: 10,\r\n    height: 10,\r\n    r: 1\r\n});\r\n\r\nexport class RoundRect extends Shape<RoundRectProps> {\r\n    public constructor(props: RoundRectProps) {\r\n        super(Object.assign({}, roundRectPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.roundRect(0, 0, this.props.width, this.props.height, this.props.r);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface SvgAssetFragmentProps extends ShapeProps {\r\n}\r\n\r\nexport const svgAssetFragmentPropsDefault: SvgFragmentProps = Object.assign({}, shapePropsDefault, {\r\n});\r\n\r\nexport class SvgAssetFragment extends Shape<SvgAssetFragmentProps> {\r\n    public constructor(props: CanvasProps) {\r\n        super(Object.assign({}, canvasPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.registerCustomAsset(children);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface SvgFragmentProps extends ShapeProps {\r\n}\r\n\r\nexport const svgFragmentPropsDefault: SvgFragmentProps = Object.assign({}, shapePropsDefault, {\r\n});\r\n\r\nexport class SvgFragment extends Shape<SvgFragmentProps> {\r\n    public constructor(props: CanvasProps) {\r\n        super(Object.assign({}, canvasPropsDefault, props));\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        canvas.appendCustomContent(children);\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface TextProps extends ShapeProps, SvgTextAttributes {\r\n    font?: string;\r\n    textAlign?: TextAlignValue;\r\n    textBaseline?: TextBaselineValue;\r\n    text: string;\r\n}\r\n\r\nexport const textPropsDefault: TextProps = Object.assign({}, shapePropsDefault, {\r\n    text: \"\"\r\n}) as any;\r\n\r\nexport class Text extends Shape<TextProps> {\r\n    public constructor(props: TextProps) {\r\n        super(Object.assign({}, textPropsDefault, props));\r\n    }\r\n\r\n    protected fillStrokeText(canvas: SvgCanvas) {\r\n        if (this.props.font)         canvas.font         = this.props.font;\r\n        if (this.props.textAlign)    canvas.textAlign    = this.props.textAlign;\r\n        if (this.props.textBaseline) canvas.textBaseline = this.props.textBaseline;\r\n\r\n        if      (this.props.fill && this.props.stroke) canvas.fillStrokeText(this.props.text, 0, 0, this.props);\r\n        else if (this.props.fill                     ) canvas.      fillText(this.props.text, 0, 0, this.props);\r\n        else if (                   this.props.stroke) canvas.    strokeText(this.props.text, 0, 0, this.props);\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return ``;\r\n    }\r\n\r\n    public afterRender(contexts: Map<string, any>) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (!this.isPathFragment) {\r\n            this.fillStrokeText(canvas);\r\n            this.restoreGraphicState(canvas);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface SvgImpositionProps<T, S> extends RedAgate.ComponentProps {\r\n    items: T[];\r\n    scope?: S;\r\n    paperWidth: number;\r\n    paperHeight: number;\r\n    cols: number;\r\n    rows: number;\r\n    itemRotationDeg?: number | number[/* i */];\r\n    itemTranslation?: number[/* x, y */] | number[/* i */][/* x, y */];\r\n    itemScale?: number[/* x, y */] | number[/* i */][/* x, y */];\r\n}\r\n\r\nexport class SvgImposition<T, S> extends RedAgate.RedAgateComponent<SvgImpositionProps<T, S>> {\r\n    public constructor(props: SvgImpositionProps<T, S>) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        const repeater: (v: T, i: number, items: T[], scope: any) => RedAgate.RedAgateNode =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        const a: RedAgate.RedAgateNode[] = [];\r\n        const scope = Object.assign({}, this.props.scope || {});\r\n        for (let i = 0; i < this.props.items.length; i++) {\r\n            a.push(\r\n                <Group\r\n                    x={((this.props.paperWidth  / this.props.cols) * (i % this.props.cols)) +\r\n                        (Array.isArray(this.props.itemTranslation) ?\r\n                            (Array.isArray(this.props.itemTranslation[i]) ?\r\n                                this.props.itemTranslation[i][0] || 0 : this.props.itemTranslation[0] || 0) :\r\n                            0)}\r\n                    y={((this.props.paperHeight / this.props.rows) * (Math.floor(i / this.props.cols))) +\r\n                        (Array.isArray(this.props.itemTranslation) ?\r\n                            (Array.isArray(this.props.itemTranslation[i]) ?\r\n                                this.props.itemTranslation[i][1] || 0 : this.props.itemTranslation[1] || 0) :\r\n                            0)}\r\n                    scaleX={\r\n                        (Array.isArray(this.props.itemScale) ?\r\n                            (Array.isArray(this.props.itemScale[i]) ?\r\n                                this.props.itemScale[i][0] || 1 : this.props.itemScale[0] || 1) :\r\n                            1)}\r\n                    scaleY={\r\n                        (Array.isArray(this.props.itemScale) ?\r\n                            (Array.isArray(this.props.itemScale[i]) ?\r\n                                this.props.itemScale[i][1] || 1 : this.props.itemScale[1] || 1) :\r\n                            1)}\r\n                    rotationDeg={\r\n                        Array.isArray(this.props.itemRotationDeg) ?\r\n                            this.props.itemRotationDeg[i] || 0 :\r\n                            this.props.itemRotationDeg || 0\r\n                    }\r\n                >{repeater(this.props.items[i], i, this.props.items, scope)}</Group>\r\n            );\r\n        }\r\n        return a;\r\n    }\r\n}\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate from './red-agate';\r\n\r\n\r\n\r\n// TODO: S formal argument type do not be applied to actual argument type on TSC 2.6.2.\r\n//       so set S to any.\r\nexport type RepeatRepeater<S> = (times: number, scope: /*S*/any) => RedAgate.RedAgateNode;\r\n\r\nexport interface RepeatProps<S> extends RedAgate.ComponentProps {\r\n    times: number;\r\n    scope?: S;\r\n    children?: RepeatRepeater<S> | RedAgate.RedAgateNode | RedAgate.RedAgateNode[];\r\n}\r\n\r\nexport class Repeat<S> extends RedAgate.RedAgateComponent<RepeatProps<S>> {\r\n    public constructor(props: RepeatProps<S>) {\r\n        super(props);\r\n    }\r\n\r\n    public transform(): RedAgate.RedAgateNode {\r\n        const repeater: RepeatRepeater<S> =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        const a: RedAgate.RedAgateNode[] = [];\r\n        const scope = Object.assign({}, this.props.scope || {});\r\n        for (let i = 0; i < this.props.times; i++) {\r\n            a.push(repeater(i, scope));\r\n        }\r\n        return a;\r\n    }\r\n}\r\n\r\n\r\n// TODO: T and S formal argument types do not be applied to actual argument types on TSC 2.6.2.\r\n//       so set T and S to any.\r\nexport type ForEachRepeater<T, S> = (v: /*T*/any, i: number, items: /*T*/any[], scope: /*S*/any) => RedAgate.RedAgateNode;\r\n\r\nexport interface ForEachProps<T, S> extends RedAgate.ComponentProps {\r\n    items: T[];\r\n    scope?: S;\r\n    children?: ForEachRepeater<T, S> | RedAgate.RedAgateNode | RedAgate.RedAgateNode[];\r\n}\r\n\r\nexport class ForEach<T, S> extends RedAgate.RedAgateComponent<ForEachProps<T, S>> {\r\n    public constructor(props: ForEachProps<T, S>) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        const repeater: ForEachRepeater<T, S> =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        const a: RedAgate.RedAgateNode[] = [];\r\n        const scope = Object.assign({}, this.props.scope || {});\r\n        for (let i = 0; i < this.props.items.length; i++) {\r\n            a.push(repeater(this.props.items[i], i, this.props.items, scope));\r\n        }\r\n        return a;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface IfProps extends RedAgate.ComponentProps {\r\n    condition: boolean;\r\n}\r\n\r\nexport class If extends RedAgate.RedAgateComponent<IfProps> {\r\n    public constructor(props: IfProps) {\r\n        super(props);\r\n    }\r\n\r\n    public transform() {\r\n        if (this.props.condition) return this.props.children;\r\n        else return [];\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface DoProps extends RedAgate.ComponentProps {\r\n}\r\n\r\nexport class Do extends RedAgate.RedAgateComponent<DoProps> {\r\n    public constructor(props: DoProps) {\r\n        super(props);\r\n        const fn: () => void =\r\n            (Array.isArray(this.props.children) ?\r\n                (this.props.children as any[]).find(x => typeof x === 'function') :\r\n                this.props.children) as any;\r\n        fn();\r\n    }\r\n\r\n    public earlyConstruct() {}\r\n\r\n    public transform() {\r\n        return [];\r\n    }\r\n\r\n    public render(contexts: Map<string, any>, children: string) {\r\n        return ``;\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface FacetProps extends RedAgate.FragmentProps {\r\n}\r\n\r\nexport class Facet extends RedAgate.Fragment {\r\n    public constructor(props: FacetProps) {\r\n        super(props);\r\n    }\r\n}\r\n\r\nexport type TemplateProps = FacetProps;\r\nexport const Template = Facet;\r\n","// Copyright (c) 2017, Shellyl_N and Authors\r\n// license: ISC\r\n// https://github.com/shellyln\r\n\r\n\r\n\r\nimport * as RedAgate         from '../red-agate';\r\nimport { WebColor }          from 'red-agate-svg-canvas/modules/drawing/canvas/WebColor';\r\nimport { SvgCanvas,\r\n         SvgTextAttributes,\r\n         TextAlignValue,\r\n         TextBaselineValue } from 'red-agate-svg-canvas/modules/drawing/canvas/SvgCanvas';\r\nimport { Rect2D }            from 'red-agate-svg-canvas/modules/drawing/canvas/TransferMatrix2D';\r\n\r\n\r\n\r\nexport const CONTEXT_SVG_CANVAS = 'CONTEXT_SVG_CANVAS';\r\nexport const CONTEXT_SVG_PATH   = 'CONTEXT_SVG_PATH';\r\nexport const CONTEXT_ASSET_     = 'CONTEXT_ASSET_';\r\n\r\n\r\n\r\nexport interface ShapeBaseProps extends RedAgate.ComponentProps {\r\n    x?: number;\r\n    y?: number;\r\n    margin?: number;\r\n}\r\n\r\nexport interface ShapeProps extends ShapeBaseProps {\r\n    fill?: boolean;\r\n    stroke?: boolean;\r\n    fillColor?: string | WebColor;\r\n    strokeColor?: string | WebColor;\r\n    lineCap?: \"butt\" | \"round\" | \"square\";\r\n    lineJoin?: \"miter\" | \"round\" | \"bevel\";\r\n    lineWidth?: number;\r\n    miterLimit?: number;\r\n    lineDash?: number[];\r\n    lineDashOffset?: number;\r\n}\r\n\r\nexport interface AmbientProps extends ShapeProps {\r\n    scaleX?: number;\r\n    scaleY?: number;\r\n    rotationDeg?: number;\r\n    tm?: number[];\r\n}\r\n\r\n\r\n\r\nexport const shapePropsDefault: ShapeProps = {\r\n    x: 0,\r\n    y: 0,\r\n    margin: 0,\r\n};\r\n\r\nexport abstract class Shape<T extends ShapeProps> extends RedAgate.RedAgatePhantomComponent<T> {\r\n    protected isAmbient = false;\r\n    protected isPathFragment = false;\r\n    protected isGroup = true;\r\n\r\n    public constructor(props: T) {\r\n        super(props);\r\n    }\r\n\r\n    protected initializeCanvas(canvas: SvgCanvas) {\r\n        if (this.props.fill || this.isAmbient) {\r\n            if (this.props.fillColor !== void 0 && this.props.fillColor !== null)\r\n                canvas.fillStyle = this.props.fillColor.toString();\r\n        }\r\n        if (this.props.stroke || this.isAmbient) {\r\n            if (this.props.strokeColor !== void 0 && this.props.strokeColor !== null)\r\n                canvas.strokeStyle = this.props.strokeColor.toString();\r\n            if (this.props.lineCap !== void 0 && this.props.lineCap !== null)\r\n                canvas.lineCap = this.props.lineCap;\r\n            if (this.props.lineJoin !== void 0 && this.props.lineJoin !== null)\r\n                canvas.lineJoin = this.props.lineJoin;\r\n            if (this.props.lineWidth !== void 0 && this.props.lineWidth !== null)\r\n                canvas.lineWidth = this.props.lineWidth;\r\n            if (this.props.miterLimit !== void 0 && this.props.miterLimit !== null)\r\n                canvas.miterLimit = this.props.miterLimit;\r\n            if (this.props.lineDash !== void 0 && this.props.lineDash !== null)\r\n                canvas.setLineDash(this.props.lineDash);\r\n            if (this.props.lineDashOffset !== void 0 && this.props.lineDashOffset !== null)\r\n                canvas.lineDashOffset = this.props.lineDashOffset;\r\n        }\r\n        if (this.isAmbient) {\r\n            const ambientProps = this.props as AmbientProps;\r\n            if (ambientProps.margin || ambientProps.x || ambientProps.y) {\r\n                canvas.translate(\r\n                    (ambientProps.margin || 0) + (ambientProps.x || 0),\r\n                    (ambientProps.margin || 0) + (ambientProps.y || 0)\r\n                    );\r\n            }\r\n            if (ambientProps.scaleX !== void 0 && ambientProps.scaleX !== null) {\r\n                canvas.scale(ambientProps.scaleX, 1);\r\n            }\r\n            if (ambientProps.scaleY !== void 0 && ambientProps.scaleY !== null) {\r\n                canvas.scale(1, ambientProps.scaleY);\r\n            }\r\n            if (ambientProps.rotationDeg !== void 0 && ambientProps.rotationDeg !== null) {\r\n                canvas.rotate(ambientProps.rotationDeg * Math.PI / 180);\r\n            }\r\n            if (ambientProps.tm !== void 0 && ambientProps.tm !== null && ambientProps.tm.length >= 6) {\r\n                canvas.transform(\r\n                    ambientProps.tm[0],\r\n                    ambientProps.tm[1],\r\n                    ambientProps.tm[2],\r\n                    ambientProps.tm[3],\r\n                    ambientProps.tm[4],\r\n                    ambientProps.tm[5]\r\n                    );\r\n            }\r\n        }\r\n    }\r\n\r\n    protected setGraphicState(canvas: SvgCanvas) {\r\n        if (this.isGroup) {\r\n            canvas.beginGroup();\r\n        }\r\n        canvas.save();\r\n        canvas.translate(\r\n            (this.props.margin as number) + (this.props.x as number),\r\n            (this.props.margin as number) + (this.props.y as number)\r\n        );\r\n        this.initializeCanvas(canvas);\r\n    }\r\n\r\n    protected restoreGraphicState(canvas: SvgCanvas) {\r\n        canvas.restore();\r\n        if (this.isGroup) {\r\n            canvas.endGroup();\r\n        }\r\n    }\r\n\r\n    protected fillStrokePaths(canvas: SvgCanvas) {\r\n        if (this.props.fill && this.props.stroke) {\r\n            canvas.fillStroke();\r\n        }\r\n        else if (this.props.fill)   canvas.fill();\r\n        else if (this.props.stroke) canvas.stroke();\r\n        if (this.props.fill || this.props.stroke) {\r\n            canvas.beginPath();\r\n        }\r\n    }\r\n\r\n    public beforeRender(contexts: Map<string, any>) {\r\n        this.isPathFragment = this.getContext(contexts, CONTEXT_SVG_PATH) || false;\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (canvas) {\r\n            if (!this.isPathFragment) {\r\n                this.setGraphicState(canvas);\r\n            }\r\n        }\r\n    }\r\n\r\n    public afterRender(contexts: Map<string, any>) {\r\n        const canvas: SvgCanvas = this.getContext(contexts, CONTEXT_SVG_CANVAS);\r\n        if (canvas) {\r\n            if (!this.isPathFragment) {\r\n                this.fillStrokePaths(canvas);\r\n                this.restoreGraphicState(canvas);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\nexport interface ImagingShapeBasePropsMixin {\r\n    asImgTag?: boolean;\r\n    asElementStyle?: boolean;\r\n    asDataUrl?: boolean;\r\n    unit?: string;\r\n}\r\n\r\nexport interface ImagingShapeBaseProps extends ShapeBaseProps, ImagingShapeBasePropsMixin {\r\n}\r\n\r\nexport interface ImagingShapeProps extends ShapeProps, ImagingShapeBasePropsMixin {\r\n}\r\n\r\nexport function renderSvgCanvas(props: ImagingShapeBaseProps, canvas: SvgCanvas, imageWidth: number, imageHeight: number): string {\r\n    if (props.asImgTag) {\r\n        return (\r\n            `<img style=\"width:${\r\n                imageWidth}${props.unit};height:${\r\n                    imageHeight}${props.unit};\" src=\"${\r\n                canvas.toDataUrl(new Rect2D(0, 0, imageWidth, imageHeight), props.unit, 120)}\"${\r\n                RedAgate.htmlAttributesRenderer(props, void 0, new Set([])).attrs}></img>`\r\n        );\r\n    } else if (props.asElementStyle) {\r\n        return `${\r\n            props.style ? RedAgate.elementStyleRenderer(props.style) : ''}${\r\n            RedAgate.elementStyleRenderer({'background-image': `url(\"${\r\n                canvas.toDataUrl(new Rect2D(0, 0, imageWidth, imageHeight), props.unit, 0)}\")`})\r\n        }`;\r\n    } else if (props.asDataUrl) {\r\n        return canvas.toDataUrl(new Rect2D(0, 0, imageWidth, imageHeight), props.unit, 0);\r\n    } else {\r\n        return canvas.render(new Rect2D(0, 0, imageWidth, imageHeight), props.unit);\r\n    }\r\n}\r\n\r\nexport function toImgTag(component: RedAgate.RedAgatePhantomComponent<ImagingShapeBaseProps>): string {\r\n    const propsNew = Object.assign({}, component.props);\r\n    propsNew.asImgTag = true;\r\n    propsNew.asElementStyle = false;\r\n    propsNew.asDataUrl = false;\r\n    const propsSaved = component.props;\r\n\r\n    component.props = propsNew;\r\n    const r = RedAgate.renderAsHtml_noDefer(RedAgate.createElementFromComponentInstance(component));\r\n    component.props = propsSaved;\r\n    return r;\r\n}\r\n\r\nexport function toElementStyle(component: RedAgate.RedAgatePhantomComponent<ImagingShapeBaseProps>): string {\r\n    const propsNew = Object.assign({}, component.props);\r\n    propsNew.asImgTag = false;\r\n    propsNew.asElementStyle = true;\r\n    propsNew.asDataUrl = false;\r\n    const propsSaved = component.props;\r\n\r\n    component.props = propsNew;\r\n    const r = RedAgate.renderAsHtml_noDefer(RedAgate.createElementFromComponentInstance(component));\r\n    component.props = propsSaved;\r\n    return r;\r\n}\r\n\r\nexport function toDataUrl(component: RedAgate.RedAgatePhantomComponent<ImagingShapeBaseProps>): string {\r\n    const propsNew = Object.assign({}, component.props);\r\n    propsNew.asImgTag = false;\r\n    propsNew.asElementStyle = false;\r\n    propsNew.asDataUrl = true;\r\n    const propsSaved = component.props;\r\n\r\n    component.props = propsNew;\r\n    const r = RedAgate.renderAsHtml_noDefer(RedAgate.createElementFromComponentInstance(component));\r\n    component.props = propsSaved;\r\n    return r;\r\n}\r\n\r\nexport function toSvg(component: RedAgate.RedAgatePhantomComponent<ImagingShapeBaseProps>): string {\r\n    const propsNew = Object.assign({}, component.props);\r\n    propsNew.asImgTag = false;\r\n    propsNew.asElementStyle = false;\r\n    propsNew.asDataUrl = false;\r\n    const propsSaved = component.props;\r\n\r\n    component.props = propsNew;\r\n    const r = RedAgate.renderAsHtml_noDefer(RedAgate.createElementFromComponentInstance(component));\r\n    component.props = propsSaved;\r\n    return r;\r\n}\r\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\n\nfunction isArray(arg) {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return objectToString(arg) === '[object Array]';\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = Buffer.isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      } else {\n        // At least give some kind of context to the user\n        var err = new Error('Uncaught, unspecified \"error\" event. (' + er + ')');\n        err.context = er;\n        throw err;\n      }\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        args = Array.prototype.slice.call(arguments, 1);\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    args = Array.prototype.slice.call(arguments, 1);\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else if (listeners) {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.prototype.listenerCount = function(type) {\n  if (this._events) {\n    var evlistener = this._events[type];\n\n    if (isFunction(evlistener))\n      return 1;\n    else if (evlistener)\n      return evlistener.length;\n  }\n  return 0;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  return emitter.listenerCount(type);\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n","'use strict';\n\nif (!process.version ||\n    process.version.indexOf('v0.') === 0 ||\n    process.version.indexOf('v1.') === 0 && process.version.indexOf('v1.8.') !== 0) {\n  module.exports = { nextTick: nextTick };\n} else {\n  module.exports = process\n}\n\nfunction nextTick(fn, arg1, arg2, arg3) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('\"callback\" argument must be a function');\n  }\n  var len = arguments.length;\n  var args, i;\n  switch (len) {\n  case 0:\n  case 1:\n    return process.nextTick(fn);\n  case 2:\n    return process.nextTick(function afterTickOne() {\n      fn.call(null, arg1);\n    });\n  case 3:\n    return process.nextTick(function afterTickTwo() {\n      fn.call(null, arg1, arg2);\n    });\n  case 4:\n    return process.nextTick(function afterTickThree() {\n      fn.call(null, arg1, arg2, arg3);\n    });\n  default:\n    args = new Array(len - 1);\n    i = 0;\n    while (i < args.length) {\n      args[i++] = arguments[i];\n    }\n    return process.nextTick(function afterTick() {\n      fn.apply(null, args);\n    });\n  }\n}\n\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n","'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args').nextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    keys.push(key);\n  }return keys;\n};\n/*</replacement>*/\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nvar keys = objectKeys(Writable.prototype);\nfor (var v = 0; v < keys.length; v++) {\n  var method = keys[v];\n  if (!Duplex.prototype[method]) Duplex.prototype[method] = Writable.prototype[method];\n}\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex)) return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false) this.readable = false;\n\n  if (options && options.writable === false) this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false) this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended) return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  processNextTick(onEndNT, this);\n}\n\nfunction onEndNT(self) {\n  self.end();\n}\n\nObject.defineProperty(Duplex.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed && this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (this._readableState === undefined || this._writableState === undefined) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n    this._writableState.destroyed = value;\n  }\n});\n\nDuplex.prototype._destroy = function (err, cb) {\n  this.push(null);\n  this.end();\n\n  processNextTick(cb, err);\n};\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\n'use strict';\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough)) return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function (chunk, encoding, cb) {\n  cb(null, chunk);\n};","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args').nextTick;\n/*</replacement>*/\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\n/*<replacement>*/\nvar EE = require('events').EventEmitter;\n\nvar EElistenerCount = function (emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar debugUtil = require('util');\nvar debug = void 0;\nif (debugUtil && debugUtil.debuglog) {\n  debug = debugUtil.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\nvar BufferList = require('./internal/streams/BufferList');\nvar destroyImpl = require('./internal/streams/destroy');\nvar StringDecoder;\n\nutil.inherits(Readable, Stream);\n\nvar kProxyEvents = ['error', 'close', 'destroy', 'pause', 'resume'];\n\nfunction prependListener(emitter, event, fn) {\n  // Sadly this is not cacheable as some libraries bundle their own\n  // event emitter implementation with them.\n  if (typeof emitter.prependListener === 'function') return emitter.prependListener(event, fn);\n\n  // This is a hack to make sure that our error handler is attached before any\n  // userland ones.  NEVER DO THIS. This is here only because this code needs\n  // to continue to work with older versions of Node.js that do not include\n  // the prependListener() method. The goal is to eventually remove this hack.\n  if (!emitter._events || !emitter._events[event]) emitter.on(event, fn);else if (isArray(emitter._events[event])) emitter._events[event].unshift(fn);else emitter._events[event] = [fn, emitter._events[event]];\n}\n\nfunction ReadableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var readableHwm = options.readableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (readableHwm || readableHwm === 0)) this.highWaterMark = readableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // A linked list is used to store data chunks instead of an array because the\n  // linked list can remove elements from the beginning faster than\n  // array.shift()\n  this.buffer = new BufferList();\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the event 'readable'/'data' is emitted\n  // immediately, or on a later tick.  We set this to true at first, because\n  // any actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first read call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n  this.resumeScheduled = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  if (!(this instanceof Readable)) return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  if (options) {\n    if (typeof options.read === 'function') this._read = options.read;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n  }\n\n  Stream.call(this);\n}\n\nObject.defineProperty(Readable.prototype, 'destroyed', {\n  get: function () {\n    if (this._readableState === undefined) {\n      return false;\n    }\n    return this._readableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._readableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._readableState.destroyed = value;\n  }\n});\n\nReadable.prototype.destroy = destroyImpl.destroy;\nReadable.prototype._undestroy = destroyImpl.undestroy;\nReadable.prototype._destroy = function (err, cb) {\n  this.push(null);\n  cb(err);\n};\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function (chunk, encoding) {\n  var state = this._readableState;\n  var skipChunkCheck;\n\n  if (!state.objectMode) {\n    if (typeof chunk === 'string') {\n      encoding = encoding || state.defaultEncoding;\n      if (encoding !== state.encoding) {\n        chunk = Buffer.from(chunk, encoding);\n        encoding = '';\n      }\n      skipChunkCheck = true;\n    }\n  } else {\n    skipChunkCheck = true;\n  }\n\n  return readableAddChunk(this, chunk, encoding, false, skipChunkCheck);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function (chunk) {\n  return readableAddChunk(this, chunk, null, true, false);\n};\n\nfunction readableAddChunk(stream, chunk, encoding, addToFront, skipChunkCheck) {\n  var state = stream._readableState;\n  if (chunk === null) {\n    state.reading = false;\n    onEofChunk(stream, state);\n  } else {\n    var er;\n    if (!skipChunkCheck) er = chunkInvalid(state, chunk);\n    if (er) {\n      stream.emit('error', er);\n    } else if (state.objectMode || chunk && chunk.length > 0) {\n      if (typeof chunk !== 'string' && !state.objectMode && Object.getPrototypeOf(chunk) !== Buffer.prototype) {\n        chunk = _uint8ArrayToBuffer(chunk);\n      }\n\n      if (addToFront) {\n        if (state.endEmitted) stream.emit('error', new Error('stream.unshift() after end event'));else addChunk(stream, state, chunk, true);\n      } else if (state.ended) {\n        stream.emit('error', new Error('stream.push() after EOF'));\n      } else {\n        state.reading = false;\n        if (state.decoder && !encoding) {\n          chunk = state.decoder.write(chunk);\n          if (state.objectMode || chunk.length !== 0) addChunk(stream, state, chunk, false);else maybeReadMore(stream, state);\n        } else {\n          addChunk(stream, state, chunk, false);\n        }\n      }\n    } else if (!addToFront) {\n      state.reading = false;\n    }\n  }\n\n  return needMoreData(state);\n}\n\nfunction addChunk(stream, state, chunk, addToFront) {\n  if (state.flowing && state.length === 0 && !state.sync) {\n    stream.emit('data', chunk);\n    stream.read(0);\n  } else {\n    // update the buffer info.\n    state.length += state.objectMode ? 1 : chunk.length;\n    if (addToFront) state.buffer.unshift(chunk);else state.buffer.push(chunk);\n\n    if (state.needReadable) emitReadable(stream);\n  }\n  maybeReadMore(stream, state);\n}\n\nfunction chunkInvalid(state, chunk) {\n  var er;\n  if (!_isUint8Array(chunk) && typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended && (state.needReadable || state.length < state.highWaterMark || state.length === 0);\n}\n\nReadable.prototype.isPaused = function () {\n  return this._readableState.flowing === false;\n};\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function (enc) {\n  if (!StringDecoder) StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 8MB\nvar MAX_HWM = 0x800000;\nfunction computeNewHighWaterMark(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2 to prevent increasing hwm excessively in\n    // tiny amounts\n    n--;\n    n |= n >>> 1;\n    n |= n >>> 2;\n    n |= n >>> 4;\n    n |= n >>> 8;\n    n |= n >>> 16;\n    n++;\n  }\n  return n;\n}\n\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction howMuchToRead(n, state) {\n  if (n <= 0 || state.length === 0 && state.ended) return 0;\n  if (state.objectMode) return 1;\n  if (n !== n) {\n    // Only flow one buffer at a time\n    if (state.flowing && state.length) return state.buffer.head.data.length;else return state.length;\n  }\n  // If we're asking for more than the current hwm, then raise the hwm.\n  if (n > state.highWaterMark) state.highWaterMark = computeNewHighWaterMark(n);\n  if (n <= state.length) return n;\n  // Don't have enough\n  if (!state.ended) {\n    state.needReadable = true;\n    return 0;\n  }\n  return state.length;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function (n) {\n  debug('read', n);\n  n = parseInt(n, 10);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (n !== 0) state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 && state.needReadable && (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended) endReadable(this);else emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0) endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  } else if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0) state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n    // If _read pushed data synchronously, then `reading` will be false,\n    // and we need to re-evaluate how much data we can return to the user.\n    if (!state.reading) n = howMuchToRead(nOrig, state);\n  }\n\n  var ret;\n  if (n > 0) ret = fromList(n, state);else ret = null;\n\n  if (ret === null) {\n    state.needReadable = true;\n    n = 0;\n  } else {\n    state.length -= n;\n  }\n\n  if (state.length === 0) {\n    // If we have nothing in the buffer, then we want to know\n    // as soon as we *do* get something into the buffer.\n    if (!state.ended) state.needReadable = true;\n\n    // If we tried to read() past the EOF, then emit end on the next tick.\n    if (nOrig !== n && state.ended) endReadable(this);\n  }\n\n  if (ret !== null) this.emit('data', ret);\n\n  return ret;\n};\n\nfunction onEofChunk(stream, state) {\n  if (state.ended) return;\n  if (state.decoder) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync) processNextTick(emitReadable_, stream);else emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    processNextTick(maybeReadMore_, stream, state);\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended && state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;else len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function (n) {\n  this.emit('error', new Error('_read() is not implemented'));\n};\n\nReadable.prototype.pipe = function (dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) && dest !== process.stdout && dest !== process.stderr;\n\n  var endFn = doEnd ? onend : unpipe;\n  if (state.endEmitted) processNextTick(endFn);else src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable, unpipeInfo) {\n    debug('onunpipe');\n    if (readable === src) {\n      if (unpipeInfo && unpipeInfo.hasUnpiped === false) {\n        unpipeInfo.hasUnpiped = true;\n        cleanup();\n      }\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  var cleanedUp = false;\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', unpipe);\n    src.removeListener('data', ondata);\n\n    cleanedUp = true;\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain && (!dest._writableState || dest._writableState.needDrain)) ondrain();\n  }\n\n  // If the user pushes more data while we're writing to dest then we'll end up\n  // in ondata again. However, we only want to increase awaitDrain once because\n  // dest will only emit one 'drain' event for the multiple writes.\n  // => Introduce a guard on increasing awaitDrain.\n  var increasedAwaitDrain = false;\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    increasedAwaitDrain = false;\n    var ret = dest.write(chunk);\n    if (false === ret && !increasedAwaitDrain) {\n      // If the user unpiped during `dest.write()`, it is possible\n      // to get stuck in a permanently paused state if that write\n      // also returned false.\n      // => Check whether `dest` is still a piping destination.\n      if ((state.pipesCount === 1 && state.pipes === dest || state.pipesCount > 1 && indexOf(state.pipes, dest) !== -1) && !cleanedUp) {\n        debug('false write response, pause', src._readableState.awaitDrain);\n        src._readableState.awaitDrain++;\n        increasedAwaitDrain = true;\n      }\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EElistenerCount(dest, 'error') === 0) dest.emit('error', er);\n  }\n\n  // Make sure our error handler is attached before userland ones.\n  prependListener(dest, 'error', onerror);\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function () {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain) state.awaitDrain--;\n    if (state.awaitDrain === 0 && EElistenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\nReadable.prototype.unpipe = function (dest) {\n  var state = this._readableState;\n  var unpipeInfo = { hasUnpiped: false };\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0) return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes) return this;\n\n    if (!dest) dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest) dest.emit('unpipe', this, unpipeInfo);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++) {\n      dests[i].emit('unpipe', this, unpipeInfo);\n    }return this;\n  }\n\n  // try to find the right one.\n  var index = indexOf(state.pipes, dest);\n  if (index === -1) return this;\n\n  state.pipes.splice(index, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1) state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this, unpipeInfo);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function (ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  if (ev === 'data') {\n    // Start flowing on next tick if stream isn't explicitly paused\n    if (this._readableState.flowing !== false) this.resume();\n  } else if (ev === 'readable') {\n    var state = this._readableState;\n    if (!state.endEmitted && !state.readableListening) {\n      state.readableListening = state.needReadable = true;\n      state.emittedReadable = false;\n      if (!state.reading) {\n        processNextTick(nReadingNextTick, this);\n      } else if (state.length) {\n        emitReadable(this);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\nfunction nReadingNextTick(self) {\n  debug('readable nexttick read 0');\n  self.read(0);\n}\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function () {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    processNextTick(resume_, stream, state);\n  }\n}\n\nfunction resume_(stream, state) {\n  if (!state.reading) {\n    debug('resume read 0');\n    stream.read(0);\n  }\n\n  state.resumeScheduled = false;\n  state.awaitDrain = 0;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading) stream.read(0);\n}\n\nReadable.prototype.pause = function () {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  while (state.flowing && stream.read() !== null) {}\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function (stream) {\n  var _this = this;\n\n  var state = this._readableState;\n  var paused = false;\n\n  stream.on('end', function () {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length) _this.push(chunk);\n    }\n\n    _this.push(null);\n  });\n\n  stream.on('data', function (chunk) {\n    debug('wrapped data');\n    if (state.decoder) chunk = state.decoder.write(chunk);\n\n    // don't skip over falsy values in objectMode\n    if (state.objectMode && (chunk === null || chunk === undefined)) return;else if (!state.objectMode && (!chunk || !chunk.length)) return;\n\n    var ret = _this.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (this[i] === undefined && typeof stream[i] === 'function') {\n      this[i] = function (method) {\n        return function () {\n          return stream[method].apply(stream, arguments);\n        };\n      }(i);\n    }\n  }\n\n  // proxy certain important events.\n  for (var n = 0; n < kProxyEvents.length; n++) {\n    stream.on(kProxyEvents[n], this.emit.bind(this, kProxyEvents[n]));\n  }\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  this._read = function (n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return this;\n};\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromList(n, state) {\n  // nothing buffered\n  if (state.length === 0) return null;\n\n  var ret;\n  if (state.objectMode) ret = state.buffer.shift();else if (!n || n >= state.length) {\n    // read it all, truncate the list\n    if (state.decoder) ret = state.buffer.join('');else if (state.buffer.length === 1) ret = state.buffer.head.data;else ret = state.buffer.concat(state.length);\n    state.buffer.clear();\n  } else {\n    // read part of list\n    ret = fromListPartial(n, state.buffer, state.decoder);\n  }\n\n  return ret;\n}\n\n// Extracts only enough buffered data to satisfy the amount requested.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction fromListPartial(n, list, hasStrings) {\n  var ret;\n  if (n < list.head.data.length) {\n    // slice is the same for buffers and strings\n    ret = list.head.data.slice(0, n);\n    list.head.data = list.head.data.slice(n);\n  } else if (n === list.head.data.length) {\n    // first chunk is a perfect match\n    ret = list.shift();\n  } else {\n    // result spans more than one buffer\n    ret = hasStrings ? copyFromBufferString(n, list) : copyFromBuffer(n, list);\n  }\n  return ret;\n}\n\n// Copies a specified amount of characters from the list of buffered data\n// chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBufferString(n, list) {\n  var p = list.head;\n  var c = 1;\n  var ret = p.data;\n  n -= ret.length;\n  while (p = p.next) {\n    var str = p.data;\n    var nb = n > str.length ? str.length : n;\n    if (nb === str.length) ret += str;else ret += str.slice(0, n);\n    n -= nb;\n    if (n === 0) {\n      if (nb === str.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = str.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\n// Copies a specified amount of bytes from the list of buffered data chunks.\n// This function is designed to be inlinable, so please take care when making\n// changes to the function body.\nfunction copyFromBuffer(n, list) {\n  var ret = Buffer.allocUnsafe(n);\n  var p = list.head;\n  var c = 1;\n  p.data.copy(ret);\n  n -= p.data.length;\n  while (p = p.next) {\n    var buf = p.data;\n    var nb = n > buf.length ? buf.length : n;\n    buf.copy(ret, ret.length - n, 0, nb);\n    n -= nb;\n    if (n === 0) {\n      if (nb === buf.length) {\n        ++c;\n        if (p.next) list.head = p.next;else list.head = list.tail = null;\n      } else {\n        list.head = p;\n        p.data = buf.slice(nb);\n      }\n      break;\n    }\n    ++c;\n  }\n  list.length -= c;\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0) throw new Error('\"endReadable()\" called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    processNextTick(endReadableNT, state, stream);\n  }\n}\n\nfunction endReadableNT(state, stream) {\n  // Check that we didn't get one last unshift.\n  if (!state.endEmitted && state.length === 0) {\n    state.endEmitted = true;\n    stream.readable = false;\n    stream.emit('end');\n  }\n}\n\nfunction forEach(xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf(xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\n'use strict';\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\nfunction afterTransform(er, data) {\n  var ts = this._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb) {\n    return this.emit('error', new Error('write callback called multiple times'));\n  }\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    this.push(data);\n\n  cb(er);\n\n  var rs = this._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    this._read(rs.highWaterMark);\n  }\n}\n\nfunction Transform(options) {\n  if (!(this instanceof Transform)) return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = {\n    afterTransform: afterTransform.bind(this),\n    needTransform: false,\n    transforming: false,\n    writecb: null,\n    writechunk: null,\n    writeencoding: null\n  };\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  if (options) {\n    if (typeof options.transform === 'function') this._transform = options.transform;\n\n    if (typeof options.flush === 'function') this._flush = options.flush;\n  }\n\n  // When the writable side finishes, then flush out anything remaining.\n  this.on('prefinish', prefinish);\n}\n\nfunction prefinish() {\n  var _this = this;\n\n  if (typeof this._flush === 'function') {\n    this._flush(function (er, data) {\n      done(_this, er, data);\n    });\n  } else {\n    done(this, null, null);\n  }\n}\n\nTransform.prototype.push = function (chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function (chunk, encoding, cb) {\n  throw new Error('_transform() is not implemented');\n};\n\nTransform.prototype._write = function (chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform || rs.needReadable || rs.length < rs.highWaterMark) this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function (n) {\n  var ts = this._transformState;\n\n  if (ts.writechunk !== null && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\nTransform.prototype._destroy = function (err, cb) {\n  var _this2 = this;\n\n  Duplex.prototype._destroy.call(this, err, function (err2) {\n    cb(err2);\n    _this2.emit('close');\n  });\n};\n\nfunction done(stream, er, data) {\n  if (er) return stream.emit('error', er);\n\n  if (data != null) // single equals check for both `null` and `undefined`\n    stream.push(data);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  if (stream._writableState.length) throw new Error('Calling transform done when ws.length != 0');\n\n  if (stream._transformState.transforming) throw new Error('Calling transform done when still transforming');\n\n  return stream.push(null);\n}","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, encoding, cb), and it'll handle all\n// the drain event emission and buffering.\n\n'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args').nextTick;\n/*</replacement>*/\n\nmodule.exports = Writable;\n\n/* <replacement> */\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n  this.next = null;\n}\n\n// It seems a linked list but it is not\n// there will be only 2 of these for each stream\nfunction CorkedRequest(state) {\n  var _this = this;\n\n  this.next = null;\n  this.entry = null;\n  this.finish = function () {\n    onCorkedFinish(_this, state);\n  };\n}\n/* </replacement> */\n\n/*<replacement>*/\nvar asyncWrite = !process.browser && ['v0.10', 'v0.9.'].indexOf(process.version.slice(0, 5)) > -1 ? setImmediate : processNextTick;\n/*</replacement>*/\n\n/*<replacement>*/\nvar Duplex;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\n/*<replacement>*/\nvar internalUtil = {\n  deprecate: require('util-deprecate')\n};\n/*</replacement>*/\n\n/*<replacement>*/\nvar Stream = require('./internal/streams/stream');\n/*</replacement>*/\n\n/*<replacement>*/\n\nvar Buffer = require('safe-buffer').Buffer;\nvar OurUint8Array = global.Uint8Array || function () {};\nfunction _uint8ArrayToBuffer(chunk) {\n  return Buffer.from(chunk);\n}\nfunction _isUint8Array(obj) {\n  return Buffer.isBuffer(obj) || obj instanceof OurUint8Array;\n}\n\n/*</replacement>*/\n\nvar destroyImpl = require('./internal/streams/destroy');\n\nutil.inherits(Writable, Stream);\n\nfunction nop() {}\n\nfunction WritableState(options, stream) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  options = options || {};\n\n  // Duplex streams are both readable and writable, but share\n  // the same options object.\n  // However, some cases require setting options to different\n  // values for the readable and the writable sides of the duplex stream.\n  // These options can be provided separately as readableXXX and writableXXX.\n  var isDuplex = stream instanceof Duplex;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (isDuplex) this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var writableHwm = options.writableHighWaterMark;\n  var defaultHwm = this.objectMode ? 16 : 16 * 1024;\n\n  if (hwm || hwm === 0) this.highWaterMark = hwm;else if (isDuplex && (writableHwm || writableHwm === 0)) this.highWaterMark = writableHwm;else this.highWaterMark = defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = Math.floor(this.highWaterMark);\n\n  // if _final has been called\n  this.finalCalled = false;\n\n  // drain event flag.\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // has it been destroyed\n  this.destroyed = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function (er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.bufferedRequest = null;\n  this.lastBufferedRequest = null;\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n\n  // count buffered requests\n  this.bufferedRequestCount = 0;\n\n  // allocate the first CorkedRequest, there is always\n  // one allocated and free to use, and we maintain at most two\n  this.corkedRequestsFree = new CorkedRequest(this);\n}\n\nWritableState.prototype.getBuffer = function getBuffer() {\n  var current = this.bufferedRequest;\n  var out = [];\n  while (current) {\n    out.push(current);\n    current = current.next;\n  }\n  return out;\n};\n\n(function () {\n  try {\n    Object.defineProperty(WritableState.prototype, 'buffer', {\n      get: internalUtil.deprecate(function () {\n        return this.getBuffer();\n      }, '_writableState.buffer is deprecated. Use _writableState.getBuffer ' + 'instead.', 'DEP0003')\n    });\n  } catch (_) {}\n})();\n\n// Test _writableState for inheritance to account for Duplex streams,\n// whose prototype chain only points to Readable.\nvar realHasInstance;\nif (typeof Symbol === 'function' && Symbol.hasInstance && typeof Function.prototype[Symbol.hasInstance] === 'function') {\n  realHasInstance = Function.prototype[Symbol.hasInstance];\n  Object.defineProperty(Writable, Symbol.hasInstance, {\n    value: function (object) {\n      if (realHasInstance.call(this, object)) return true;\n      if (this !== Writable) return false;\n\n      return object && object._writableState instanceof WritableState;\n    }\n  });\n} else {\n  realHasInstance = function (object) {\n    return object instanceof this;\n  };\n}\n\nfunction Writable(options) {\n  Duplex = Duplex || require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, too.\n  // `realHasInstance` is necessary because using plain `instanceof`\n  // would return false, as no `_writableState` property is attached.\n\n  // Trying to use the custom `instanceof` for Writable here will also break the\n  // Node.js LazyTransform implementation, which has a non-trivial getter for\n  // `_writableState` that would lead to infinite recursion.\n  if (!realHasInstance.call(Writable, this) && !(this instanceof Duplex)) {\n    return new Writable(options);\n  }\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  if (options) {\n    if (typeof options.write === 'function') this._write = options.write;\n\n    if (typeof options.writev === 'function') this._writev = options.writev;\n\n    if (typeof options.destroy === 'function') this._destroy = options.destroy;\n\n    if (typeof options.final === 'function') this._final = options.final;\n  }\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function () {\n  this.emit('error', new Error('Cannot pipe, not readable'));\n};\n\nfunction writeAfterEnd(stream, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  processNextTick(cb, er);\n}\n\n// Checks that a user-supplied chunk is valid, especially for the particular\n// mode the stream is in. Currently this means that `null` is never accepted\n// and undefined/non-string values are only allowed in object mode.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  var er = false;\n\n  if (chunk === null) {\n    er = new TypeError('May not write null values to stream');\n  } else if (typeof chunk !== 'string' && chunk !== undefined && !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  if (er) {\n    stream.emit('error', er);\n    processNextTick(cb, er);\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function (chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n  var isBuf = !state.objectMode && _isUint8Array(chunk);\n\n  if (isBuf && !Buffer.isBuffer(chunk)) {\n    chunk = _uint8ArrayToBuffer(chunk);\n  }\n\n  if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (isBuf) encoding = 'buffer';else if (!encoding) encoding = state.defaultEncoding;\n\n  if (typeof cb !== 'function') cb = nop;\n\n  if (state.ended) writeAfterEnd(this, cb);else if (isBuf || validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, isBuf, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function () {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function () {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing && !state.corked && !state.finished && !state.bufferProcessing && state.bufferedRequest) clearBuffer(this, state);\n  }\n};\n\nWritable.prototype.setDefaultEncoding = function setDefaultEncoding(encoding) {\n  // node::ParseEncoding() requires lower case.\n  if (typeof encoding === 'string') encoding = encoding.toLowerCase();\n  if (!(['hex', 'utf8', 'utf-8', 'ascii', 'binary', 'base64', 'ucs2', 'ucs-2', 'utf16le', 'utf-16le', 'raw'].indexOf((encoding + '').toLowerCase()) > -1)) throw new TypeError('Unknown encoding: ' + encoding);\n  this._writableState.defaultEncoding = encoding;\n  return this;\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode && state.decodeStrings !== false && typeof chunk === 'string') {\n    chunk = Buffer.from(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, isBuf, chunk, encoding, cb) {\n  if (!isBuf) {\n    var newChunk = decodeChunk(state, chunk, encoding);\n    if (chunk !== newChunk) {\n      isBuf = true;\n      encoding = 'buffer';\n      chunk = newChunk;\n    }\n  }\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret) state.needDrain = true;\n\n  if (state.writing || state.corked) {\n    var last = state.lastBufferedRequest;\n    state.lastBufferedRequest = {\n      chunk: chunk,\n      encoding: encoding,\n      isBuf: isBuf,\n      callback: cb,\n      next: null\n    };\n    if (last) {\n      last.next = state.lastBufferedRequest;\n    } else {\n      state.bufferedRequest = state.lastBufferedRequest;\n    }\n    state.bufferedRequestCount += 1;\n  } else {\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n  }\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev) stream._writev(chunk, state.onwrite);else stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  --state.pendingcb;\n\n  if (sync) {\n    // defer the callback if we are being called synchronously\n    // to avoid piling up things on the stack\n    processNextTick(cb, er);\n    // this can emit finish, and it will always happen\n    // after error\n    processNextTick(finishMaybe, stream, state);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n  } else {\n    // the caller expect this to happen before if\n    // it is async\n    cb(er);\n    stream._writableState.errorEmitted = true;\n    stream.emit('error', er);\n    // this can emit finish, but finish must\n    // always follow error\n    finishMaybe(stream, state);\n  }\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er) onwriteError(stream, state, sync, er, cb);else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(state);\n\n    if (!finished && !state.corked && !state.bufferProcessing && state.bufferedRequest) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      /*<replacement>*/\n      asyncWrite(afterWrite, stream, state, finished, cb);\n      /*</replacement>*/\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished) onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n  var entry = state.bufferedRequest;\n\n  if (stream._writev && entry && entry.next) {\n    // Fast case, write everything using _writev()\n    var l = state.bufferedRequestCount;\n    var buffer = new Array(l);\n    var holder = state.corkedRequestsFree;\n    holder.entry = entry;\n\n    var count = 0;\n    var allBuffers = true;\n    while (entry) {\n      buffer[count] = entry;\n      if (!entry.isBuf) allBuffers = false;\n      entry = entry.next;\n      count += 1;\n    }\n    buffer.allBuffers = allBuffers;\n\n    doWrite(stream, state, true, state.length, buffer, '', holder.finish);\n\n    // doWrite is almost always async, defer these to save a bit of time\n    // as the hot path ends with doWrite\n    state.pendingcb++;\n    state.lastBufferedRequest = null;\n    if (holder.next) {\n      state.corkedRequestsFree = holder.next;\n      holder.next = null;\n    } else {\n      state.corkedRequestsFree = new CorkedRequest(state);\n    }\n    state.bufferedRequestCount = 0;\n  } else {\n    // Slow case, write chunks one-by-one\n    while (entry) {\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n      entry = entry.next;\n      state.bufferedRequestCount--;\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        break;\n      }\n    }\n\n    if (entry === null) state.lastBufferedRequest = null;\n  }\n\n  state.bufferedRequest = entry;\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function (chunk, encoding, cb) {\n  cb(new Error('_write() is not implemented'));\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function (chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (typeof chunk === 'function') {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (typeof encoding === 'function') {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (chunk !== null && chunk !== undefined) this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished) endWritable(this, state, cb);\n};\n\nfunction needFinish(state) {\n  return state.ending && state.length === 0 && state.bufferedRequest === null && !state.finished && !state.writing;\n}\nfunction callFinal(stream, state) {\n  stream._final(function (err) {\n    state.pendingcb--;\n    if (err) {\n      stream.emit('error', err);\n    }\n    state.prefinished = true;\n    stream.emit('prefinish');\n    finishMaybe(stream, state);\n  });\n}\nfunction prefinish(stream, state) {\n  if (!state.prefinished && !state.finalCalled) {\n    if (typeof stream._final === 'function') {\n      state.pendingcb++;\n      state.finalCalled = true;\n      processNextTick(callFinal, stream, state);\n    } else {\n      state.prefinished = true;\n      stream.emit('prefinish');\n    }\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(state);\n  if (need) {\n    prefinish(stream, state);\n    if (state.pendingcb === 0) {\n      state.finished = true;\n      stream.emit('finish');\n    }\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished) processNextTick(cb);else stream.once('finish', cb);\n  }\n  state.ended = true;\n  stream.writable = false;\n}\n\nfunction onCorkedFinish(corkReq, state, err) {\n  var entry = corkReq.entry;\n  corkReq.entry = null;\n  while (entry) {\n    var cb = entry.callback;\n    state.pendingcb--;\n    cb(err);\n    entry = entry.next;\n  }\n  if (state.corkedRequestsFree) {\n    state.corkedRequestsFree.next = corkReq;\n  } else {\n    state.corkedRequestsFree = corkReq;\n  }\n}\n\nObject.defineProperty(Writable.prototype, 'destroyed', {\n  get: function () {\n    if (this._writableState === undefined) {\n      return false;\n    }\n    return this._writableState.destroyed;\n  },\n  set: function (value) {\n    // we ignore the value if the stream\n    // has not been initialized yet\n    if (!this._writableState) {\n      return;\n    }\n\n    // backward compatibility, the user is explicitly\n    // managing destroyed\n    this._writableState.destroyed = value;\n  }\n});\n\nWritable.prototype.destroy = destroyImpl.destroy;\nWritable.prototype._undestroy = destroyImpl.undestroy;\nWritable.prototype._destroy = function (err, cb) {\n  this.end();\n  cb(err);\n};","'use strict';\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Buffer = require('safe-buffer').Buffer;\nvar util = require('util');\n\nfunction copyBuffer(src, target, offset) {\n  src.copy(target, offset);\n}\n\nmodule.exports = function () {\n  function BufferList() {\n    _classCallCheck(this, BufferList);\n\n    this.head = null;\n    this.tail = null;\n    this.length = 0;\n  }\n\n  BufferList.prototype.push = function push(v) {\n    var entry = { data: v, next: null };\n    if (this.length > 0) this.tail.next = entry;else this.head = entry;\n    this.tail = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.unshift = function unshift(v) {\n    var entry = { data: v, next: this.head };\n    if (this.length === 0) this.tail = entry;\n    this.head = entry;\n    ++this.length;\n  };\n\n  BufferList.prototype.shift = function shift() {\n    if (this.length === 0) return;\n    var ret = this.head.data;\n    if (this.length === 1) this.head = this.tail = null;else this.head = this.head.next;\n    --this.length;\n    return ret;\n  };\n\n  BufferList.prototype.clear = function clear() {\n    this.head = this.tail = null;\n    this.length = 0;\n  };\n\n  BufferList.prototype.join = function join(s) {\n    if (this.length === 0) return '';\n    var p = this.head;\n    var ret = '' + p.data;\n    while (p = p.next) {\n      ret += s + p.data;\n    }return ret;\n  };\n\n  BufferList.prototype.concat = function concat(n) {\n    if (this.length === 0) return Buffer.alloc(0);\n    if (this.length === 1) return this.head.data;\n    var ret = Buffer.allocUnsafe(n >>> 0);\n    var p = this.head;\n    var i = 0;\n    while (p) {\n      copyBuffer(p.data, ret, i);\n      i += p.data.length;\n      p = p.next;\n    }\n    return ret;\n  };\n\n  return BufferList;\n}();\n\nif (util && util.inspect && util.inspect.custom) {\n  module.exports.prototype[util.inspect.custom] = function () {\n    var obj = util.inspect({ length: this.length });\n    return this.constructor.name + ' ' + obj;\n  };\n}","'use strict';\n\n/*<replacement>*/\n\nvar processNextTick = require('process-nextick-args').nextTick;\n/*</replacement>*/\n\n// undocumented cb() API, needed for core, not for public API\nfunction destroy(err, cb) {\n  var _this = this;\n\n  var readableDestroyed = this._readableState && this._readableState.destroyed;\n  var writableDestroyed = this._writableState && this._writableState.destroyed;\n\n  if (readableDestroyed || writableDestroyed) {\n    if (cb) {\n      cb(err);\n    } else if (err && (!this._writableState || !this._writableState.errorEmitted)) {\n      processNextTick(emitErrorNT, this, err);\n    }\n    return this;\n  }\n\n  // we set destroyed to true before firing error callbacks in order\n  // to make it re-entrance safe in case destroy() is called within callbacks\n\n  if (this._readableState) {\n    this._readableState.destroyed = true;\n  }\n\n  // if this is a duplex stream mark the writable part as destroyed as well\n  if (this._writableState) {\n    this._writableState.destroyed = true;\n  }\n\n  this._destroy(err || null, function (err) {\n    if (!cb && err) {\n      processNextTick(emitErrorNT, _this, err);\n      if (_this._writableState) {\n        _this._writableState.errorEmitted = true;\n      }\n    } else if (cb) {\n      cb(err);\n    }\n  });\n\n  return this;\n}\n\nfunction undestroy() {\n  if (this._readableState) {\n    this._readableState.destroyed = false;\n    this._readableState.reading = false;\n    this._readableState.ended = false;\n    this._readableState.endEmitted = false;\n  }\n\n  if (this._writableState) {\n    this._writableState.destroyed = false;\n    this._writableState.ended = false;\n    this._writableState.ending = false;\n    this._writableState.finished = false;\n    this._writableState.errorEmitted = false;\n  }\n}\n\nfunction emitErrorNT(self, err) {\n  self.emit('error', err);\n}\n\nmodule.exports = {\n  destroy: destroy,\n  undestroy: undestroy\n};","module.exports = require('events').EventEmitter;\n","exports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = exports;\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","'use strict';\n\nvar Buffer = require('safe-buffer').Buffer;\n\nvar isEncoding = Buffer.isEncoding || function (encoding) {\n  encoding = '' + encoding;\n  switch (encoding && encoding.toLowerCase()) {\n    case 'hex':case 'utf8':case 'utf-8':case 'ascii':case 'binary':case 'base64':case 'ucs2':case 'ucs-2':case 'utf16le':case 'utf-16le':case 'raw':\n      return true;\n    default:\n      return false;\n  }\n};\n\nfunction _normalizeEncoding(enc) {\n  if (!enc) return 'utf8';\n  var retried;\n  while (true) {\n    switch (enc) {\n      case 'utf8':\n      case 'utf-8':\n        return 'utf8';\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return 'utf16le';\n      case 'latin1':\n      case 'binary':\n        return 'latin1';\n      case 'base64':\n      case 'ascii':\n      case 'hex':\n        return enc;\n      default:\n        if (retried) return; // undefined\n        enc = ('' + enc).toLowerCase();\n        retried = true;\n    }\n  }\n};\n\n// Do not cache `Buffer.isEncoding` when checking encoding names as some\n// modules monkey-patch it to support additional encodings\nfunction normalizeEncoding(enc) {\n  var nenc = _normalizeEncoding(enc);\n  if (typeof nenc !== 'string' && (Buffer.isEncoding === isEncoding || !isEncoding(enc))) throw new Error('Unknown encoding: ' + enc);\n  return nenc || enc;\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters.\nexports.StringDecoder = StringDecoder;\nfunction StringDecoder(encoding) {\n  this.encoding = normalizeEncoding(encoding);\n  var nb;\n  switch (this.encoding) {\n    case 'utf16le':\n      this.text = utf16Text;\n      this.end = utf16End;\n      nb = 4;\n      break;\n    case 'utf8':\n      this.fillLast = utf8FillLast;\n      nb = 4;\n      break;\n    case 'base64':\n      this.text = base64Text;\n      this.end = base64End;\n      nb = 3;\n      break;\n    default:\n      this.write = simpleWrite;\n      this.end = simpleEnd;\n      return;\n  }\n  this.lastNeed = 0;\n  this.lastTotal = 0;\n  this.lastChar = Buffer.allocUnsafe(nb);\n}\n\nStringDecoder.prototype.write = function (buf) {\n  if (buf.length === 0) return '';\n  var r;\n  var i;\n  if (this.lastNeed) {\n    r = this.fillLast(buf);\n    if (r === undefined) return '';\n    i = this.lastNeed;\n    this.lastNeed = 0;\n  } else {\n    i = 0;\n  }\n  if (i < buf.length) return r ? r + this.text(buf, i) : this.text(buf, i);\n  return r || '';\n};\n\nStringDecoder.prototype.end = utf8End;\n\n// Returns only complete characters in a Buffer\nStringDecoder.prototype.text = utf8Text;\n\n// Attempts to complete a partial non-UTF-8 character using bytes from a Buffer\nStringDecoder.prototype.fillLast = function (buf) {\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, this.lastTotal - this.lastNeed, 0, buf.length);\n  this.lastNeed -= buf.length;\n};\n\n// Checks the type of a UTF-8 byte, whether it's ASCII, a leading byte, or a\n// continuation byte.\nfunction utf8CheckByte(byte) {\n  if (byte <= 0x7F) return 0;else if (byte >> 5 === 0x06) return 2;else if (byte >> 4 === 0x0E) return 3;else if (byte >> 3 === 0x1E) return 4;\n  return -1;\n}\n\n// Checks at most 3 bytes at the end of a Buffer in order to detect an\n// incomplete multi-byte UTF-8 character. The total number of bytes (2, 3, or 4)\n// needed to complete the UTF-8 character (if applicable) are returned.\nfunction utf8CheckIncomplete(self, buf, i) {\n  var j = buf.length - 1;\n  if (j < i) return 0;\n  var nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 1;\n    return nb;\n  }\n  if (--j < i) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) self.lastNeed = nb - 2;\n    return nb;\n  }\n  if (--j < i) return 0;\n  nb = utf8CheckByte(buf[j]);\n  if (nb >= 0) {\n    if (nb > 0) {\n      if (nb === 2) nb = 0;else self.lastNeed = nb - 3;\n    }\n    return nb;\n  }\n  return 0;\n}\n\n// Validates as many continuation bytes for a multi-byte UTF-8 character as\n// needed or are available. If we see a non-continuation byte where we expect\n// one, we \"replace\" the validated continuation bytes we've seen so far with\n// UTF-8 replacement characters ('\\ufffd'), to match v8's UTF-8 decoding\n// behavior. The continuation byte check is included three times in the case\n// where all of the continuation bytes for a character exist in the same buffer.\n// It is also done this way as a slight performance increase instead of using a\n// loop.\nfunction utf8CheckExtraBytes(self, buf, p) {\n  if ((buf[0] & 0xC0) !== 0x80) {\n    self.lastNeed = 0;\n    return '\\ufffd'.repeat(p);\n  }\n  if (self.lastNeed > 1 && buf.length > 1) {\n    if ((buf[1] & 0xC0) !== 0x80) {\n      self.lastNeed = 1;\n      return '\\ufffd'.repeat(p + 1);\n    }\n    if (self.lastNeed > 2 && buf.length > 2) {\n      if ((buf[2] & 0xC0) !== 0x80) {\n        self.lastNeed = 2;\n        return '\\ufffd'.repeat(p + 2);\n      }\n    }\n  }\n}\n\n// Attempts to complete a multi-byte UTF-8 character using bytes from a Buffer.\nfunction utf8FillLast(buf) {\n  var p = this.lastTotal - this.lastNeed;\n  var r = utf8CheckExtraBytes(this, buf, p);\n  if (r !== undefined) return r;\n  if (this.lastNeed <= buf.length) {\n    buf.copy(this.lastChar, p, 0, this.lastNeed);\n    return this.lastChar.toString(this.encoding, 0, this.lastTotal);\n  }\n  buf.copy(this.lastChar, p, 0, buf.length);\n  this.lastNeed -= buf.length;\n}\n\n// Returns all complete UTF-8 characters in a Buffer. If the Buffer ended on a\n// partial character, the character's bytes are buffered until the required\n// number of bytes are available.\nfunction utf8Text(buf, i) {\n  var total = utf8CheckIncomplete(this, buf, i);\n  if (!this.lastNeed) return buf.toString('utf8', i);\n  this.lastTotal = total;\n  var end = buf.length - (total - this.lastNeed);\n  buf.copy(this.lastChar, 0, end);\n  return buf.toString('utf8', i, end);\n}\n\n// For UTF-8, a replacement character for each buffered byte of a (partial)\n// character needs to be added to the output.\nfunction utf8End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + '\\ufffd'.repeat(this.lastTotal - this.lastNeed);\n  return r;\n}\n\n// UTF-16LE typically needs two bytes per character, but even if we have an even\n// number of bytes available, we need to check if we end on a leading/high\n// surrogate. In that case, we need to wait for the next two bytes in order to\n// decode the last character properly.\nfunction utf16Text(buf, i) {\n  if ((buf.length - i) % 2 === 0) {\n    var r = buf.toString('utf16le', i);\n    if (r) {\n      var c = r.charCodeAt(r.length - 1);\n      if (c >= 0xD800 && c <= 0xDBFF) {\n        this.lastNeed = 2;\n        this.lastTotal = 4;\n        this.lastChar[0] = buf[buf.length - 2];\n        this.lastChar[1] = buf[buf.length - 1];\n        return r.slice(0, -1);\n      }\n    }\n    return r;\n  }\n  this.lastNeed = 1;\n  this.lastTotal = 2;\n  this.lastChar[0] = buf[buf.length - 1];\n  return buf.toString('utf16le', i, buf.length - 1);\n}\n\n// For UTF-16LE we do not explicitly append special replacement characters if we\n// end on a partial character, we simply let v8 handle that.\nfunction utf16End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) {\n    var end = this.lastTotal - this.lastNeed;\n    return r + this.lastChar.toString('utf16le', 0, end);\n  }\n  return r;\n}\n\nfunction base64Text(buf, i) {\n  var n = (buf.length - i) % 3;\n  if (n === 0) return buf.toString('base64', i);\n  this.lastNeed = 3 - n;\n  this.lastTotal = 3;\n  if (n === 1) {\n    this.lastChar[0] = buf[buf.length - 1];\n  } else {\n    this.lastChar[0] = buf[buf.length - 2];\n    this.lastChar[1] = buf[buf.length - 1];\n  }\n  return buf.toString('base64', i, buf.length - n);\n}\n\nfunction base64End(buf) {\n  var r = buf && buf.length ? this.write(buf) : '';\n  if (this.lastNeed) return r + this.lastChar.toString('base64', 0, 3 - this.lastNeed);\n  return r;\n}\n\n// Pass bytes on through for single-byte encodings (e.g. ascii, latin1, hex)\nfunction simpleWrite(buf) {\n  return buf.toString(this.encoding);\n}\n\nfunction simpleEnd(buf) {\n  return buf && buf.length ? this.write(buf) : '';\n}","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar punycode = require('punycode');\nvar util = require('./util');\n\nexports.parse = urlParse;\nexports.resolve = urlResolve;\nexports.resolveObject = urlResolveObject;\nexports.format = urlFormat;\n\nexports.Url = Url;\n\nfunction Url() {\n  this.protocol = null;\n  this.slashes = null;\n  this.auth = null;\n  this.host = null;\n  this.port = null;\n  this.hostname = null;\n  this.hash = null;\n  this.search = null;\n  this.query = null;\n  this.pathname = null;\n  this.path = null;\n  this.href = null;\n}\n\n// Reference: RFC 3986, RFC 1808, RFC 2396\n\n// define these here so at least they only have to be\n// compiled once on the first module load.\nvar protocolPattern = /^([a-z0-9.+-]+:)/i,\n    portPattern = /:[0-9]*$/,\n\n    // Special case for a simple path URL\n    simplePathPattern = /^(\\/\\/?(?!\\/)[^\\?\\s]*)(\\?[^\\s]*)?$/,\n\n    // RFC 2396: characters reserved for delimiting URLs.\n    // We actually just auto-escape these.\n    delims = ['<', '>', '\"', '`', ' ', '\\r', '\\n', '\\t'],\n\n    // RFC 2396: characters not allowed for various reasons.\n    unwise = ['{', '}', '|', '\\\\', '^', '`'].concat(delims),\n\n    // Allowed by RFCs, but cause of XSS attacks.  Always escape these.\n    autoEscape = ['\\''].concat(unwise),\n    // Characters that are never ever allowed in a hostname.\n    // Note that any invalid chars are also handled, but these\n    // are the ones that are *expected* to be seen, so we fast-path\n    // them.\n    nonHostChars = ['%', '/', '?', ';', '#'].concat(autoEscape),\n    hostEndingChars = ['/', '?', '#'],\n    hostnameMaxLen = 255,\n    hostnamePartPattern = /^[+a-z0-9A-Z_-]{0,63}$/,\n    hostnamePartStart = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,\n    // protocols that can allow \"unsafe\" and \"unwise\" chars.\n    unsafeProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that never have a hostname.\n    hostlessProtocol = {\n      'javascript': true,\n      'javascript:': true\n    },\n    // protocols that always contain a // bit.\n    slashedProtocol = {\n      'http': true,\n      'https': true,\n      'ftp': true,\n      'gopher': true,\n      'file': true,\n      'http:': true,\n      'https:': true,\n      'ftp:': true,\n      'gopher:': true,\n      'file:': true\n    },\n    querystring = require('querystring');\n\nfunction urlParse(url, parseQueryString, slashesDenoteHost) {\n  if (url && util.isObject(url) && url instanceof Url) return url;\n\n  var u = new Url;\n  u.parse(url, parseQueryString, slashesDenoteHost);\n  return u;\n}\n\nUrl.prototype.parse = function(url, parseQueryString, slashesDenoteHost) {\n  if (!util.isString(url)) {\n    throw new TypeError(\"Parameter 'url' must be a string, not \" + typeof url);\n  }\n\n  // Copy chrome, IE, opera backslash-handling behavior.\n  // Back slashes before the query string get converted to forward slashes\n  // See: https://code.google.com/p/chromium/issues/detail?id=25916\n  var queryIndex = url.indexOf('?'),\n      splitter =\n          (queryIndex !== -1 && queryIndex < url.indexOf('#')) ? '?' : '#',\n      uSplit = url.split(splitter),\n      slashRegex = /\\\\/g;\n  uSplit[0] = uSplit[0].replace(slashRegex, '/');\n  url = uSplit.join(splitter);\n\n  var rest = url;\n\n  // trim before proceeding.\n  // This is to support parse stuff like \"  http://foo.com  \\n\"\n  rest = rest.trim();\n\n  if (!slashesDenoteHost && url.split('#').length === 1) {\n    // Try fast path regexp\n    var simplePath = simplePathPattern.exec(rest);\n    if (simplePath) {\n      this.path = rest;\n      this.href = rest;\n      this.pathname = simplePath[1];\n      if (simplePath[2]) {\n        this.search = simplePath[2];\n        if (parseQueryString) {\n          this.query = querystring.parse(this.search.substr(1));\n        } else {\n          this.query = this.search.substr(1);\n        }\n      } else if (parseQueryString) {\n        this.search = '';\n        this.query = {};\n      }\n      return this;\n    }\n  }\n\n  var proto = protocolPattern.exec(rest);\n  if (proto) {\n    proto = proto[0];\n    var lowerProto = proto.toLowerCase();\n    this.protocol = lowerProto;\n    rest = rest.substr(proto.length);\n  }\n\n  // figure out if it's got a host\n  // user@server is *always* interpreted as a hostname, and url\n  // resolution will treat //foo/bar as host=foo,path=bar because that's\n  // how the browser resolves relative URLs.\n  if (slashesDenoteHost || proto || rest.match(/^\\/\\/[^@\\/]+@[^@\\/]+/)) {\n    var slashes = rest.substr(0, 2) === '//';\n    if (slashes && !(proto && hostlessProtocol[proto])) {\n      rest = rest.substr(2);\n      this.slashes = true;\n    }\n  }\n\n  if (!hostlessProtocol[proto] &&\n      (slashes || (proto && !slashedProtocol[proto]))) {\n\n    // there's a hostname.\n    // the first instance of /, ?, ;, or # ends the host.\n    //\n    // If there is an @ in the hostname, then non-host chars *are* allowed\n    // to the left of the last @ sign, unless some host-ending character\n    // comes *before* the @-sign.\n    // URLs are obnoxious.\n    //\n    // ex:\n    // http://a@b@c/ => user:a@b host:c\n    // http://a@b?@c => user:a host:c path:/?@c\n\n    // v0.12 TODO(isaacs): This is not quite how Chrome does things.\n    // Review our test case against browsers more comprehensively.\n\n    // find the first instance of any hostEndingChars\n    var hostEnd = -1;\n    for (var i = 0; i < hostEndingChars.length; i++) {\n      var hec = rest.indexOf(hostEndingChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n\n    // at this point, either we have an explicit point where the\n    // auth portion cannot go past, or the last @ char is the decider.\n    var auth, atSign;\n    if (hostEnd === -1) {\n      // atSign can be anywhere.\n      atSign = rest.lastIndexOf('@');\n    } else {\n      // atSign must be in auth portion.\n      // http://a@b/c@d => host:b auth:a path:/c@d\n      atSign = rest.lastIndexOf('@', hostEnd);\n    }\n\n    // Now we have a portion which is definitely the auth.\n    // Pull that off.\n    if (atSign !== -1) {\n      auth = rest.slice(0, atSign);\n      rest = rest.slice(atSign + 1);\n      this.auth = decodeURIComponent(auth);\n    }\n\n    // the host is the remaining to the left of the first non-host char\n    hostEnd = -1;\n    for (var i = 0; i < nonHostChars.length; i++) {\n      var hec = rest.indexOf(nonHostChars[i]);\n      if (hec !== -1 && (hostEnd === -1 || hec < hostEnd))\n        hostEnd = hec;\n    }\n    // if we still have not hit it, then the entire thing is a host.\n    if (hostEnd === -1)\n      hostEnd = rest.length;\n\n    this.host = rest.slice(0, hostEnd);\n    rest = rest.slice(hostEnd);\n\n    // pull out port.\n    this.parseHost();\n\n    // we've indicated that there is a hostname,\n    // so even if it's empty, it has to be present.\n    this.hostname = this.hostname || '';\n\n    // if hostname begins with [ and ends with ]\n    // assume that it's an IPv6 address.\n    var ipv6Hostname = this.hostname[0] === '[' &&\n        this.hostname[this.hostname.length - 1] === ']';\n\n    // validate a little.\n    if (!ipv6Hostname) {\n      var hostparts = this.hostname.split(/\\./);\n      for (var i = 0, l = hostparts.length; i < l; i++) {\n        var part = hostparts[i];\n        if (!part) continue;\n        if (!part.match(hostnamePartPattern)) {\n          var newpart = '';\n          for (var j = 0, k = part.length; j < k; j++) {\n            if (part.charCodeAt(j) > 127) {\n              // we replace non-ASCII char with a temporary placeholder\n              // we need this to make sure size of hostname is not\n              // broken by replacing non-ASCII by nothing\n              newpart += 'x';\n            } else {\n              newpart += part[j];\n            }\n          }\n          // we test again with ASCII char only\n          if (!newpart.match(hostnamePartPattern)) {\n            var validParts = hostparts.slice(0, i);\n            var notHost = hostparts.slice(i + 1);\n            var bit = part.match(hostnamePartStart);\n            if (bit) {\n              validParts.push(bit[1]);\n              notHost.unshift(bit[2]);\n            }\n            if (notHost.length) {\n              rest = '/' + notHost.join('.') + rest;\n            }\n            this.hostname = validParts.join('.');\n            break;\n          }\n        }\n      }\n    }\n\n    if (this.hostname.length > hostnameMaxLen) {\n      this.hostname = '';\n    } else {\n      // hostnames are always lower case.\n      this.hostname = this.hostname.toLowerCase();\n    }\n\n    if (!ipv6Hostname) {\n      // IDNA Support: Returns a punycoded representation of \"domain\".\n      // It only converts parts of the domain name that\n      // have non-ASCII characters, i.e. it doesn't matter if\n      // you call it with a domain that already is ASCII-only.\n      this.hostname = punycode.toASCII(this.hostname);\n    }\n\n    var p = this.port ? ':' + this.port : '';\n    var h = this.hostname || '';\n    this.host = h + p;\n    this.href += this.host;\n\n    // strip [ and ] from the hostname\n    // the host field still retains them, though\n    if (ipv6Hostname) {\n      this.hostname = this.hostname.substr(1, this.hostname.length - 2);\n      if (rest[0] !== '/') {\n        rest = '/' + rest;\n      }\n    }\n  }\n\n  // now rest is set to the post-host stuff.\n  // chop off any delim chars.\n  if (!unsafeProtocol[lowerProto]) {\n\n    // First, make 100% sure that any \"autoEscape\" chars get\n    // escaped, even if encodeURIComponent doesn't think they\n    // need to be.\n    for (var i = 0, l = autoEscape.length; i < l; i++) {\n      var ae = autoEscape[i];\n      if (rest.indexOf(ae) === -1)\n        continue;\n      var esc = encodeURIComponent(ae);\n      if (esc === ae) {\n        esc = escape(ae);\n      }\n      rest = rest.split(ae).join(esc);\n    }\n  }\n\n\n  // chop off from the tail first.\n  var hash = rest.indexOf('#');\n  if (hash !== -1) {\n    // got a fragment string.\n    this.hash = rest.substr(hash);\n    rest = rest.slice(0, hash);\n  }\n  var qm = rest.indexOf('?');\n  if (qm !== -1) {\n    this.search = rest.substr(qm);\n    this.query = rest.substr(qm + 1);\n    if (parseQueryString) {\n      this.query = querystring.parse(this.query);\n    }\n    rest = rest.slice(0, qm);\n  } else if (parseQueryString) {\n    // no query string, but parseQueryString still requested\n    this.search = '';\n    this.query = {};\n  }\n  if (rest) this.pathname = rest;\n  if (slashedProtocol[lowerProto] &&\n      this.hostname && !this.pathname) {\n    this.pathname = '/';\n  }\n\n  //to support http.request\n  if (this.pathname || this.search) {\n    var p = this.pathname || '';\n    var s = this.search || '';\n    this.path = p + s;\n  }\n\n  // finally, reconstruct the href based on what has been validated.\n  this.href = this.format();\n  return this;\n};\n\n// format a parsed object into a url string\nfunction urlFormat(obj) {\n  // ensure it's an object, and not a string url.\n  // If it's an obj, this is a no-op.\n  // this way, you can call url_format() on strings\n  // to clean up potentially wonky urls.\n  if (util.isString(obj)) obj = urlParse(obj);\n  if (!(obj instanceof Url)) return Url.prototype.format.call(obj);\n  return obj.format();\n}\n\nUrl.prototype.format = function() {\n  var auth = this.auth || '';\n  if (auth) {\n    auth = encodeURIComponent(auth);\n    auth = auth.replace(/%3A/i, ':');\n    auth += '@';\n  }\n\n  var protocol = this.protocol || '',\n      pathname = this.pathname || '',\n      hash = this.hash || '',\n      host = false,\n      query = '';\n\n  if (this.host) {\n    host = auth + this.host;\n  } else if (this.hostname) {\n    host = auth + (this.hostname.indexOf(':') === -1 ?\n        this.hostname :\n        '[' + this.hostname + ']');\n    if (this.port) {\n      host += ':' + this.port;\n    }\n  }\n\n  if (this.query &&\n      util.isObject(this.query) &&\n      Object.keys(this.query).length) {\n    query = querystring.stringify(this.query);\n  }\n\n  var search = this.search || (query && ('?' + query)) || '';\n\n  if (protocol && protocol.substr(-1) !== ':') protocol += ':';\n\n  // only the slashedProtocols get the //.  Not mailto:, xmpp:, etc.\n  // unless they had them to begin with.\n  if (this.slashes ||\n      (!protocol || slashedProtocol[protocol]) && host !== false) {\n    host = '//' + (host || '');\n    if (pathname && pathname.charAt(0) !== '/') pathname = '/' + pathname;\n  } else if (!host) {\n    host = '';\n  }\n\n  if (hash && hash.charAt(0) !== '#') hash = '#' + hash;\n  if (search && search.charAt(0) !== '?') search = '?' + search;\n\n  pathname = pathname.replace(/[?#]/g, function(match) {\n    return encodeURIComponent(match);\n  });\n  search = search.replace('#', '%23');\n\n  return protocol + host + pathname + search + hash;\n};\n\nfunction urlResolve(source, relative) {\n  return urlParse(source, false, true).resolve(relative);\n}\n\nUrl.prototype.resolve = function(relative) {\n  return this.resolveObject(urlParse(relative, false, true)).format();\n};\n\nfunction urlResolveObject(source, relative) {\n  if (!source) return relative;\n  return urlParse(source, false, true).resolveObject(relative);\n}\n\nUrl.prototype.resolveObject = function(relative) {\n  if (util.isString(relative)) {\n    var rel = new Url();\n    rel.parse(relative, false, true);\n    relative = rel;\n  }\n\n  var result = new Url();\n  var tkeys = Object.keys(this);\n  for (var tk = 0; tk < tkeys.length; tk++) {\n    var tkey = tkeys[tk];\n    result[tkey] = this[tkey];\n  }\n\n  // hash is always overridden, no matter what.\n  // even href=\"\" will remove it.\n  result.hash = relative.hash;\n\n  // if the relative url is empty, then there's nothing left to do here.\n  if (relative.href === '') {\n    result.href = result.format();\n    return result;\n  }\n\n  // hrefs like //foo/bar always cut to the protocol.\n  if (relative.slashes && !relative.protocol) {\n    // take everything except the protocol from relative\n    var rkeys = Object.keys(relative);\n    for (var rk = 0; rk < rkeys.length; rk++) {\n      var rkey = rkeys[rk];\n      if (rkey !== 'protocol')\n        result[rkey] = relative[rkey];\n    }\n\n    //urlParse appends trailing / to urls like http://www.example.com\n    if (slashedProtocol[result.protocol] &&\n        result.hostname && !result.pathname) {\n      result.path = result.pathname = '/';\n    }\n\n    result.href = result.format();\n    return result;\n  }\n\n  if (relative.protocol && relative.protocol !== result.protocol) {\n    // if it's a known url protocol, then changing\n    // the protocol does weird things\n    // first, if it's not file:, then we MUST have a host,\n    // and if there was a path\n    // to begin with, then we MUST have a path.\n    // if it is file:, then the host is dropped,\n    // because that's known to be hostless.\n    // anything else is assumed to be absolute.\n    if (!slashedProtocol[relative.protocol]) {\n      var keys = Object.keys(relative);\n      for (var v = 0; v < keys.length; v++) {\n        var k = keys[v];\n        result[k] = relative[k];\n      }\n      result.href = result.format();\n      return result;\n    }\n\n    result.protocol = relative.protocol;\n    if (!relative.host && !hostlessProtocol[relative.protocol]) {\n      var relPath = (relative.pathname || '').split('/');\n      while (relPath.length && !(relative.host = relPath.shift()));\n      if (!relative.host) relative.host = '';\n      if (!relative.hostname) relative.hostname = '';\n      if (relPath[0] !== '') relPath.unshift('');\n      if (relPath.length < 2) relPath.unshift('');\n      result.pathname = relPath.join('/');\n    } else {\n      result.pathname = relative.pathname;\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    result.host = relative.host || '';\n    result.auth = relative.auth;\n    result.hostname = relative.hostname || relative.host;\n    result.port = relative.port;\n    // to support http.request\n    if (result.pathname || result.search) {\n      var p = result.pathname || '';\n      var s = result.search || '';\n      result.path = p + s;\n    }\n    result.slashes = result.slashes || relative.slashes;\n    result.href = result.format();\n    return result;\n  }\n\n  var isSourceAbs = (result.pathname && result.pathname.charAt(0) === '/'),\n      isRelAbs = (\n          relative.host ||\n          relative.pathname && relative.pathname.charAt(0) === '/'\n      ),\n      mustEndAbs = (isRelAbs || isSourceAbs ||\n                    (result.host && relative.pathname)),\n      removeAllDots = mustEndAbs,\n      srcPath = result.pathname && result.pathname.split('/') || [],\n      relPath = relative.pathname && relative.pathname.split('/') || [],\n      psychotic = result.protocol && !slashedProtocol[result.protocol];\n\n  // if the url is a non-slashed url, then relative\n  // links like ../.. should be able\n  // to crawl up to the hostname, as well.  This is strange.\n  // result.protocol has already been set by now.\n  // Later on, put the first path part into the host field.\n  if (psychotic) {\n    result.hostname = '';\n    result.port = null;\n    if (result.host) {\n      if (srcPath[0] === '') srcPath[0] = result.host;\n      else srcPath.unshift(result.host);\n    }\n    result.host = '';\n    if (relative.protocol) {\n      relative.hostname = null;\n      relative.port = null;\n      if (relative.host) {\n        if (relPath[0] === '') relPath[0] = relative.host;\n        else relPath.unshift(relative.host);\n      }\n      relative.host = null;\n    }\n    mustEndAbs = mustEndAbs && (relPath[0] === '' || srcPath[0] === '');\n  }\n\n  if (isRelAbs) {\n    // it's absolute.\n    result.host = (relative.host || relative.host === '') ?\n                  relative.host : result.host;\n    result.hostname = (relative.hostname || relative.hostname === '') ?\n                      relative.hostname : result.hostname;\n    result.search = relative.search;\n    result.query = relative.query;\n    srcPath = relPath;\n    // fall through to the dot-handling below.\n  } else if (relPath.length) {\n    // it's relative\n    // throw away the existing file, and take the new path instead.\n    if (!srcPath) srcPath = [];\n    srcPath.pop();\n    srcPath = srcPath.concat(relPath);\n    result.search = relative.search;\n    result.query = relative.query;\n  } else if (!util.isNullOrUndefined(relative.search)) {\n    // just pull out the search.\n    // like href='?foo'.\n    // Put this after the other two cases because it simplifies the booleans\n    if (psychotic) {\n      result.hostname = result.host = srcPath.shift();\n      //occationaly the auth can get stuck only in host\n      //this especially happens in cases like\n      //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n      var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                       result.host.split('@') : false;\n      if (authInHost) {\n        result.auth = authInHost.shift();\n        result.host = result.hostname = authInHost.shift();\n      }\n    }\n    result.search = relative.search;\n    result.query = relative.query;\n    //to support http.request\n    if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n      result.path = (result.pathname ? result.pathname : '') +\n                    (result.search ? result.search : '');\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  if (!srcPath.length) {\n    // no path at all.  easy.\n    // we've already handled the other stuff above.\n    result.pathname = null;\n    //to support http.request\n    if (result.search) {\n      result.path = '/' + result.search;\n    } else {\n      result.path = null;\n    }\n    result.href = result.format();\n    return result;\n  }\n\n  // if a url ENDs in . or .., then it must get a trailing slash.\n  // however, if it ends in anything else non-slashy,\n  // then it must NOT get a trailing slash.\n  var last = srcPath.slice(-1)[0];\n  var hasTrailingSlash = (\n      (result.host || relative.host || srcPath.length > 1) &&\n      (last === '.' || last === '..') || last === '');\n\n  // strip single dots, resolve double dots to parent dir\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = srcPath.length; i >= 0; i--) {\n    last = srcPath[i];\n    if (last === '.') {\n      srcPath.splice(i, 1);\n    } else if (last === '..') {\n      srcPath.splice(i, 1);\n      up++;\n    } else if (up) {\n      srcPath.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (!mustEndAbs && !removeAllDots) {\n    for (; up--; up) {\n      srcPath.unshift('..');\n    }\n  }\n\n  if (mustEndAbs && srcPath[0] !== '' &&\n      (!srcPath[0] || srcPath[0].charAt(0) !== '/')) {\n    srcPath.unshift('');\n  }\n\n  if (hasTrailingSlash && (srcPath.join('/').substr(-1) !== '/')) {\n    srcPath.push('');\n  }\n\n  var isAbsolute = srcPath[0] === '' ||\n      (srcPath[0] && srcPath[0].charAt(0) === '/');\n\n  // put the host back\n  if (psychotic) {\n    result.hostname = result.host = isAbsolute ? '' :\n                                    srcPath.length ? srcPath.shift() : '';\n    //occationaly the auth can get stuck only in host\n    //this especially happens in cases like\n    //url.resolveObject('mailto:local1@domain1', 'local2@domain2')\n    var authInHost = result.host && result.host.indexOf('@') > 0 ?\n                     result.host.split('@') : false;\n    if (authInHost) {\n      result.auth = authInHost.shift();\n      result.host = result.hostname = authInHost.shift();\n    }\n  }\n\n  mustEndAbs = mustEndAbs || (result.host && srcPath.length);\n\n  if (mustEndAbs && !isAbsolute) {\n    srcPath.unshift('');\n  }\n\n  if (!srcPath.length) {\n    result.pathname = null;\n    result.path = null;\n  } else {\n    result.pathname = srcPath.join('/');\n  }\n\n  //to support request.http\n  if (!util.isNull(result.pathname) || !util.isNull(result.search)) {\n    result.path = (result.pathname ? result.pathname : '') +\n                  (result.search ? result.search : '');\n  }\n  result.auth = relative.auth || result.auth;\n  result.slashes = result.slashes || relative.slashes;\n  result.href = result.format();\n  return result;\n};\n\nUrl.prototype.parseHost = function() {\n  var host = this.host;\n  var port = portPattern.exec(host);\n  if (port) {\n    port = port[0];\n    if (port !== ':') {\n      this.port = port.substr(1);\n    }\n    host = host.substr(0, host.length - port.length);\n  }\n  if (host) this.hostname = host;\n};\n","'use strict';\n\nmodule.exports = {\n  isString: function(arg) {\n    return typeof(arg) === 'string';\n  },\n  isObject: function(arg) {\n    return typeof(arg) === 'object' && arg !== null;\n  },\n  isNull: function(arg) {\n    return arg === null;\n  },\n  isNullOrUndefined: function(arg) {\n    return arg == null;\n  }\n};\n","\n/**\n * Module exports.\n */\n\nmodule.exports = deprecate;\n\n/**\n * Mark that a method should not be used.\n * Returns a modified function which warns once by default.\n *\n * If `localStorage.noDeprecation = true` is set, then it is a no-op.\n *\n * If `localStorage.throwDeprecation = true` is set, then deprecated functions\n * will throw an Error when invoked.\n *\n * If `localStorage.traceDeprecation = true` is set, then deprecated functions\n * will invoke `console.trace()` instead of `console.error()`.\n *\n * @param {Function} fn - the function to deprecate\n * @param {String} msg - the string to print to the console when `fn` is invoked\n * @returns {Function} a new \"deprecated\" version of `fn`\n * @api public\n */\n\nfunction deprecate (fn, msg) {\n  if (config('noDeprecation')) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (config('throwDeprecation')) {\n        throw new Error(msg);\n      } else if (config('traceDeprecation')) {\n        console.trace(msg);\n      } else {\n        console.warn(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n}\n\n/**\n * Checks `localStorage` for boolean values for the given `name`.\n *\n * @param {String} name\n * @returns {Boolean}\n * @api private\n */\n\nfunction config (name) {\n  // accessing global.localStorage can trigger a DOMException in sandboxed iframes\n  try {\n    if (!global.localStorage) return false;\n  } catch (_) {\n    return false;\n  }\n  var val = global.localStorage[name];\n  if (null == val) return false;\n  return String(val).toLowerCase() === 'true';\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend() {\n    var target = {}\n\n    for (var i = 0; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","\r\nexport * from 'red-agate-util/modules/';\r\nexport * from 'red-agate-math/modules/';\r\nexport * from 'red-agate-svg-canvas/modules/';\r\nexport * from 'red-agate/modules/';\r\nexport * from 'red-agate-react-host/modules/';\r\nexport * from 'red-agate-barcode/modules/';\r\n","/* (ignored) */","/* (ignored) */","module.exports = __WEBPACK_EXTERNAL_MODULE_react_dom_server__;"],"sourceRoot":""}