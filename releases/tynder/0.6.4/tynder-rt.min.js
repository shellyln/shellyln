!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.tynder=t():e.tynder=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=19)}([,function(e,t,n){"use strict";n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return m}));const r=Function("return this")(),a={}.constructor,i=Function,s=/^[A-Za-z_$][A-Za-z0-9_$]*$/,o=/^([\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?)$/,c=/^(\d{4}-[01]\d-[0-3]\d)$/,u=/^((?:(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d))(?:[+-][0-2]\d:[0-5]\d|Z))$/,l=/^((?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d))$/,d={};function p(e,t){if(e===r||"__proto__"===t||"__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t)return!0;if(!("prototype"!==t&&"constructor"!==t||null!=e&&"function"!=typeof e))return!0;if((null==e||e===a)&&a.hasOwnProperty(t))return!0;if(null==e||e===i){let e=i;for(;e;){if(e.hasOwnProperty(t))return!0;e=e.__proto__}}return"function"==typeof e&&!e.hasOwnProperty(t)}function f(e,t){return null!=e?e:t}function m(e,t,n){return null!=e?t(e):n}},function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.InvalidDefinition=1]="InvalidDefinition",e[e.Required=2]="Required",e[e.TypeUnmatched=3]="TypeUnmatched",e[e.AdditionalPropUnmatched=4]="AdditionalPropUnmatched",e[e.RepeatQtyUnmatched=5]="RepeatQtyUnmatched",e[e.SequenceUnmatched=6]="SequenceUnmatched",e[e.ValueRangeUnmatched=7]="ValueRangeUnmatched",e[e.ValuePatternUnmatched=8]="ValuePatternUnmatched",e[e.ValueLengthUnmatched=9]="ValueLengthUnmatched",e[e.ValueUnmatched=10]="ValueUnmatched"}(r||(r={}))},,,function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return j})),n.d(t,"q",(function(){return w})),n.d(t,"E",(function(){return O})),n.d(t,"J",(function(){return v})),n.d(t,"F",(function(){return T})),n.d(t,"s",(function(){return x})),n.d(t,"G",(function(){return U})),n.d(t,"B",(function(){return N})),n.d(t,"y",(function(){return V})),n.d(t,"u",(function(){return D})),n.d(t,"v",(function(){return P})),n.d(t,"A",(function(){return E})),n.d(t,"x",(function(){return M})),n.d(t,"w",(function(){return S})),n.d(t,"I",(function(){return C})),n.d(t,"r",(function(){return A})),n.d(t,"t",(function(){return F})),n.d(t,"H",(function(){return L})),n.d(t,"z",(function(){return q})),n.d(t,"C",(function(){return $})),n.d(t,"D",(function(){return R}));var r=n(1);function a(e,...t){switch(e.kind){case"object":{const n=[];for(const r of t){const t=e.members.find(e=>e[0]===r);if(t)if(t[2]){const e=[...t];3<e.length?e[2]=!1:e.length=2,n.push(e)}else n.push(t)}return{kind:"object",members:n}}case"symlink":case"operator":return{kind:"operator",operator:"picked",operands:[e,...t]};default:return{kind:"object",members:[]}}}function i(e,...t){switch(e.kind){case"object":{const n=[];for(const r of e.members)if(!t.find(e=>r[0]===e))if(r[2]){const e=[...r];3<e.length?e[2]=!1:e.length=2,n.push(e)}else n.push(r);return{kind:"object",members:n}}case"symlink":case"operator":return{kind:"operator",operator:"omit",operands:[e,...t]};default:return{kind:"object",members:[]}}}function s(e){switch(e.kind){case"object":{const t=[];for(const n of e.members){let e="optional"===n[1].kind?n:[n[0],f(n[1]),...n.slice(2)];e[2]&&(e=[...e],3<e.length?e[2]=!1:e.length=2),e[1].name=e[0];const r=Object.assign({},e[1].optional);e[1].optional=r,r.name&&r.name!==r.typeName&&delete r.name,!r.name&&r.typeName&&(r.name=r.typeName),t.push(e)}return{kind:"object",members:t}}case"symlink":case"operator":return{kind:"operator",operator:"partial",operands:[e]};default:return e}}function o(...e){if(0===e.length)throw new Error("Empty intersection type is not allowed.");if(0<e.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)return{kind:"operator",operator:"intersect",operands:e.slice()};let t=null;const n=new Map;for(const r of e){if(!r||"object"!=typeof r)return{kind:"never"};if(t&&t.kind!==r.kind)return{kind:"never"};if(t=r,"object"===r.kind)for(const e of r.members)if(e[2]){const t=[...e];3<t.length?t[2]=!1:t.length=2,n.set(e[0],t)}else n.set(e[0],e)}return t&&"object"!==t.kind?t:{kind:"object",members:Array.from(n.values())}}function c(...e){if(0===e.length)throw new Error("Empty union type is not allowed.");if(1===e.length){const t=e[0];return t&&"object"==typeof t?t:p(t)}const t={kind:"one-of",oneOf:[]};for(const n of e)n&&"object"==typeof n?"one-of"===n.kind?t.oneOf=t.oneOf.concat(n.oneOf):t.oneOf.push(n):t.oneOf.push(p(n));return t}function u(...e){if(0===e.length)throw new Error("Empty subtraction type is not allowed.");if(0<e.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)return{kind:"operator",operator:"subtract",operands:e.slice()};let t=e[0];if(!t||"object"!=typeof t||"object"!==t.kind)throw new Error("First parameter of subtraction type should be 'object'.");for(const n of e.slice(1))n&&"object"==typeof n&&"object"===n.kind&&(t=i(t,...n.members.map(e=>e[0])));return t}function l(e){switch(e){case"never":return{kind:"never"};case"any":return{kind:"any"};case"unknown":return{kind:"unknown"};case"number":case"integer":case"bigint":case"string":case"boolean":case"null":case"undefined":return{kind:"primitive",primitiveName:e};case"never?":return f({kind:"never"});case"any?":return f({kind:"any"});case"unknown?":return f({kind:"unknown"});case"number?":case"integer?":case"bigint?":case"string?":case"boolean?":case"null?":case"undefined?":return f({kind:"primitive",primitiveName:e.substring(0,e.length-1)});default:throw new Error("Unknown primitive type assertion: "+e)}}function d(e){return{kind:"primitive",primitiveName:"string",pattern:e}}function p(e){if(null==e)return{kind:"primitive-value",value:e};switch(typeof e){case"number":case"bigint":case"string":case"boolean":return{kind:"primitive-value",value:e};default:throw new Error("Unknown primitive value assertion: "+e)}}function f(e){return e&&"object"==typeof e&&e.kind?"optional"===e.kind?e:Object.assign({kind:"optional",optional:e},e.typeName?{typeName:e.typeName}:{}):{kind:"optional",optional:p(e)}}function m(e,t){return e&&"object"==typeof e&&e.kind?{kind:"repeated",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,repeated:e}:{kind:"repeated",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,repeated:l(e)}}function g(...e){return{kind:"sequence",sequence:e.map(e=>e&&"object"==typeof e&&e.kind?e:p(e))}}function h(e,t){return e&&"object"==typeof e&&e.kind?{kind:"spread",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,spread:e}:{kind:"spread",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,spread:p(e)}}function b(...e){const t=e.slice();let n=0;for(let e=0;e<t.length;e++){if(Object(r.g)(r.f,t[e][0]))throw new Error("Unsafe symbol name is appeared in enum assertion: "+t[e][0]);null===t[e][1]||void 0===t[e][1]?t[e][1]=n++:"number"==typeof t[e][1]&&(n=t[e][1]+1),t[e][2]||(t[e].length=2)}return{kind:"enum",values:t}}function y(...e){const t=e.slice().reverse();for(const n of e)if("string"==typeof n[0]){if(Object(r.g)(r.f,n[0]))throw new Error("Unsafe symbol name is appeared in object assertion: "+n[0]);if(e.find(e=>e[0]===n[0])!==t.find(e=>e[0]===n[0]))throw new Error("Duplicated member is found: "+n[0])}const n=e.filter(e=>"string"==typeof e[0]).map(e=>e[1]&&"object"==typeof e[1]&&e[1].kind?[e[0],O(e[1],e[0]),e[2]]:[e[0],O(p(e[1]),e[0]),e[2]]).map(e=>e[2]?[e[0],e[1],!1,...e.slice(2)]:[e[0],e[1]]),a=e.filter(e=>"string"!=typeof e[0]).map(e=>e[1]&&"object"==typeof e[1]&&e[1].kind?e:[e[0],p(e[1]),e[2]]).map(e=>e[2]?[e[0],e[1],!1,...e.slice(2)]:[e[0],e[1]]);return Object.assign({kind:"object",members:n},0<a.length?{additionalProps:a}:{})}function k(e,t){if(e===t)return!1;if(e.typeName&&(e.typeName===t.typeName||"symlink"===t.kind&&e.typeName===t.symlinkTargetName))return!1;if("object"===t.kind&&t.baseTypes)for(const n of t.baseTypes)if(!k(e,n))return!1;return!0}function j(e,...t){const n={kind:"object",members:[],baseTypes:[]};for(const r of t)switch(r.kind){case"object":if(!k(e,r))throw new Error("Recursive extend is found: "+(e.name||"(unnamed)"));for(const e of r.members)n.members.find(t=>t[0]===e[0])||n.members.push([e[0],e[1],!0,...e.slice(3)]);case"symlink":n.baseTypes.push(r);break;case"operator":throw new Error("Unresolved type operator is found: "+r.operator)}n.members=e.members.concat(n.members),e.baseTypes&&(n.baseTypes=e.baseTypes.filter(e=>"symlink"!==e.kind).concat(n.baseTypes)),0===n.baseTypes.length&&delete n.baseTypes;const r=n.members.slice().reverse();for(const t of n.members)if(n.members.find(e=>e[0]===t[0])!==r.find(e=>e[0]===t[0]))throw new Error(`Duplicated member is found: ${t[0]} in ${e.name||"(unnamed)"}`);let a=[];if(n.baseTypes)for(const e of n.baseTypes)"object"===e.kind&&e.additionalProps&&0<e.additionalProps.length&&(a=a.concat(e.additionalProps.map(e=>[e[0],e[1],!0,...e.slice(3)])));return e.additionalProps&&0<e.additionalProps.length&&(a=a.concat(e.additionalProps)),0<a.length&&(n.additionalProps=a),n}function w(e){return{kind:"symlink",symlinkTargetName:e}}function O(e,t){return t?Object.assign(Object.assign({},e),{name:t}):e}function v(e,t){return t?Object.assign(Object.assign({},e),{typeName:t}):e}function T(e,t){return t?Object.assign(Object.assign({},e),{originalTypeName:t}):e}function x(e,t){return t?Object.assign(Object.assign({},e),{docComment:t}):e}function U(e,t){return n=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@range' parameter 'minValue' should be number or string.");if("number"!=typeof t&&"string"!=typeof t)throw new Error("Decorator '@range' parameter 'maxValue' should be number or string.");if("optional"===n.kind){const r=n.optional;if("primitive"!==r.kind)throw new Error("Decorator '@range' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},n),{optional:Object.assign(Object.assign({},r),{minValue:e,maxValue:t})})}if(!n||"primitive"!==n.kind)throw new Error("Decorator '@range' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},n),{minValue:e,maxValue:t})}}function N(e){return t=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@minValue' parameter 'minValue' should be number or string.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@minValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{minValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@minValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{minValue:e})}}function V(e){return t=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@maxValue' parameter 'maxValue' should be number or string.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@maxValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{maxValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@maxValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{maxValue:e})}}function D(e){return t=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@greaterThan' parameter 'greaterThan' should be number or string.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@greaterThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{greaterThanValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@greaterThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{greaterThanValue:e})}}function P(e){return t=>{if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@lessThan' parameter 'lessThan' should be number or string.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@lessThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{lessThanValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@lessThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{lessThanValue:e})}}function E(e){return t=>{if("number"!=typeof e)throw new Error("Decorator '@minLength' parameter 'minLength' should be number.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@minLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{minLength:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@minLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{minLength:e})}}function M(e){return t=>{if("number"!=typeof e)throw new Error("Decorator '@maxLength' parameter 'maxLength' should be number.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@maxLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{maxLength:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@maxLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{maxLength:e})}}function S(e){return t=>{if("object"!=typeof e)throw new Error("Decorator '@match' parameter 'pattern' should be RegExp.");if("optional"===t.kind){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@match' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{pattern:e})})}if(!t||"primitive"!==t.kind||"string"!==t.primitiveName)throw new Error("Decorator '@match' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{pattern:e})}}function C(e){if("string"!=typeof e)throw new Error("Decorator '@stereotype' parameter 'stereotype' should be string.");if(Object(r.g)(r.f,e))throw new Error("Unsafe symbol name is appeared in stereotype assertion: "+e);return t=>{if("optional"===t.kind){return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},t.optional),{stereotype:e})})}return Object.assign(Object.assign({},t),{stereotype:e})}}function A(e,t){if("string"!=typeof e)throw new Error("Decorator '@constraint' parameter 'name' should be string.");if(Object(r.g)(r.f,e))throw new Error("Unsafe symbol name is appeared in constraint assertion: "+e);return n=>{if("optional"===n.kind){const r=n.optional;return Object.assign(Object.assign({},n),{optional:Object.assign(Object.assign({},r),{customConstraints:r.customConstraints?r.customConstraints.slice().push(e):[e],customConstraintsArgs:r.customConstraintsArgs?Object.assign(Object.assign({},r.customConstraintsArgs),{[e]:t}):{[e]:t}})})}return Object.assign(Object.assign({},n),{customConstraints:n.customConstraints?n.customConstraints.slice().push(e):[e],customConstraintsArgs:n.customConstraintsArgs?Object.assign(Object.assign({},n.customConstraintsArgs),{[e]:t}):{[e]:t}})}}function F(){return e=>{if("optional"===e.kind){return Object.assign(Object.assign({},e),{optional:Object.assign(Object.assign({},e.optional),{forceCast:!0})})}return Object.assign(Object.assign({},e),{forceCast:!0})}}function L(){return e=>{if("optional"===e.kind){return Object.assign(Object.assign({},e),{optional:Object.assign(Object.assign({},e.optional),{isRecordTypeField:!0})})}return Object.assign(Object.assign({},e),{isRecordTypeField:!0})}}function q(e){return t=>Object.assign(Object.assign({},t),{meta:e})}function $(e){return t=>{if("optional"===t.kind){if("string"==typeof e){const n=Object.assign(Object.assign({},t),{message:e,optional:Object.assign(Object.assign({},t.optional),{message:e})});return delete n.messages,delete n.optional.messages,n}{const n=Object.assign(Object.assign({},t),{messages:e,optional:Object.assign(Object.assign({},t.optional),{messages:e})});return delete n.message,delete n.optional.message,n}}if("string"==typeof e){const n=Object.assign(Object.assign({},t),{message:e});return delete n.messages,n}{const n=Object.assign(Object.assign({},t),{messages:e});return delete n.message,n}}}function R(e){return t=>"optional"===t.kind?Object.assign(Object.assign({},t),{messageId:e,optional:Object.assign(Object.assign({},t.optional),{messageId:e})}):Object.assign(Object.assign({},t),{messageId:e})}},,function(e,t,n){"use strict";function r(e){return e.replace(/\x08/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\"/g,'\\"').replace(/\`/g,"\\`")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r extends Error{constructor(e,t,n){super(e),this.ty=t,this.ctx=n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(5),a=n(1);function i(e,t,n,r){if(r&&t.has(r)){const a=t.get(r);a.ty===e&&t.set(r,Object.assign(Object.assign({},a),{ty:n,resolved:!0}))}return n}function s(e,t,n,r){const i=(e,a,i)=>a?Object.assign(Object.assign({},e),{typeName:0===r?`${t}.${n.join(".")}`:`${a}.${i}`}):e;for(let o=r;o<n.length;o++){const r=n[o];switch(e.kind){case"optional":return s(e.optional,t,n,o+1);case"object":for(const a of e.members)if(r===a[0])return i(s(a[1],t,n,o+1),e.typeName,r);if(e.additionalProps)for(const i of e.additionalProps)for(const e of i[0])switch(e){case"number":if(a.d.test(r))return s(i[1],t,n,o+1);break;case"string":return s(i[1],t,n,o+1);default:if(e.test(r))return s(i[1],t,n,o+1)}throw new Error("Undefined member name is appeared: "+r);case"symlink":if(!e.typeName)throw new Error("Reference of anonymous type is appeared: "+r);return Object.assign({kind:"symlink",symlinkTargetName:t,name:r,typeName:t},0<n.length?{memberTree:n}:{});default:throw new Error(`Unsupported type kind is appeared: (kind:${e.kind}).${r}`)}}return e}function o(e,t,n){var a;const c=Object.assign(Object.assign({},n),{nestLevel:n.nestLevel+1});switch(t.kind){case"symlink":{const r=e.get(t.symlinkTargetName);if(!r)throw new Error(`Undefined symbol '${t.symlinkTargetName}' is referred.`);if(0<=n.symlinkStack.findIndex(e=>e===t.symlinkTargetName))return t;const a=Object.assign({},t);let i=r.ty;return t.memberTree&&0<t.memberTree.length&&(i=Object.assign({},s(i,t.symlinkTargetName,t.memberTree,0)),a.typeName=i.typeName),o(e,function(e,t){const n=Object.assign({},t);return delete n.kind,delete n.symlinkTargetName,delete n.memberTree,Object.assign(Object.assign({},e),n)}(i,a),Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,a.symlinkTargetName]}))}case"repeated":return i(t,e,Object.assign(Object.assign({},t),{repeated:o(e,t.repeated,c)}),t.typeName);case"spread":return i(t,e,Object.assign(Object.assign({},t),{spread:o(e,t.spread,c)}),t.typeName);case"sequence":return i(t,e,Object.assign(Object.assign({},t),{sequence:t.sequence.map(t=>o(e,t,c))}),t.typeName);case"one-of":return i(t,e,Object.assign(Object.assign({},t),{oneOf:t.oneOf.map(t=>o(e,t,c))}),t.typeName);case"optional":return i(t,e,Object.assign(Object.assign({},t),{optional:o(e,t.optional,c)}),t.typeName);case"object":{if(0<n.nestLevel&&t.typeName&&0<=n.symlinkStack.findIndex(e=>e===t.typeName)&&e.has(t.typeName)){const n=e.get(t.typeName);if(n.resolved)return n.ty}const s=null===(a=t.baseTypes)||void 0===a?void 0:a.filter(e=>"symlink"===e.kind);if(s&&s.length>0&&!n.isDeserialization){const n=s.map(t=>o(e,t,c)).filter(e=>"object"===e.kind),a=o(e,r.a(Object.assign(Object.assign({},t),t.baseTypes?{baseTypes:t.baseTypes.filter(e=>"symlink"!==e.kind)}:{}),...n),t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c);return i(t,e,Object.assign(Object.assign({},t),a),t.typeName)}return i(t,e,Object.assign(Object.assign(Object.assign({},Object.assign(Object.assign({},t),{members:t.members.map(n=>[n[0],o(e,n[1],t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c),...n.slice(2)])})),t.additionalProps&&0<t.additionalProps.length?{additionalProps:t.additionalProps.map(n=>[n[0],o(e,n[1],t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c),...n.slice(2)])}:{}),t.baseTypes&&0<t.baseTypes.length?{baseTypes:n.isDeserialization?t.baseTypes.map(t=>"symlink"===t.kind?o(e,t,c):t).filter(e=>"object"===e.kind):t.baseTypes}:{}),t.typeName)}case"operator":if(c.operators){const n=t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c,r=t.operands.map(t=>"object"==typeof t&&t.kind?o(e,t,n):t);if(0<r.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)throw new Error("Unresolved type operator is found: "+t.operator);if(!c.operators[t.operator])throw new Error("Undefined type operator is found: "+t.operator);const a=Object.assign({},t);return delete a.operator,delete a.operands,i(t,e,Object.assign(Object.assign({},a),o(e,c.operators[t.operator](...r),n)),t.typeName)}return t;default:return t}}const c={picked:r.i,omit:r.e,partial:r.h,intersect:r.c,subtract:r.p};function u(e,t){for(const n of e.entries()){const r=o(e,n[1].ty,Object.assign(Object.assign({},t),{nestLevel:0,symlinkStack:[n[0]],operators:c}));n[1].ty=r}return e}},function(e,t,n){"use strict";n.d(t,"e",(function(){return k})),n.d(t,"d",(function(){return j})),n.d(t,"c",(function(){return w})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return v}));var r=n(2),a=n(8),i=n(1),s=n(7);const o=["","InvalidDefinition","Required","TypeUnmatched","AdditionalPropUnmatched","RepeatQtyUnmatched","SequenceUnmatched","ValueRangeUnmatched","ValuePatternUnmatched","ValueLengthUnmatched","ValueUnmatched"],c={invalidDefinition:'"%{name}" of "%{parentType}" type definition is invalid.',required:'"%{name}" of "%{parentType}" is required.',typeUnmatched:'"%{name}" of "%{parentType}" should be type "%{expectedType}".',additionalPropUnmatched:'"%{addtionalProps}" of "%{parentType}" are not matched to additional property patterns.',repeatQtyUnmatched:'"%{name}" of "%{parentType}" should repeat %{repeatQty} times.',sequenceUnmatched:'"%{name}" of "%{parentType}" sequence is not matched',valueRangeUnmatched:'"%{name}" of "%{parentType}" value should be in the range %{minValue} to %{maxValue}.',valuePatternUnmatched:'"%{name}" of "%{parentType}" value should be matched to pattern "%{pattern}"',valueLengthUnmatched:'"%{name}" of "%{parentType}" length should be in the range %{minLength} to %{maxLength}.',valueUnmatched:'"%{name}" of "%{parentType}" value should be "%{expectedValue}".'};function u(e,...t){for(const n of t)switch(e){case r.a.InvalidDefinition:if(n.invalidDefinition)return n.invalidDefinition;break;case r.a.Required:if(n.required)return n.required;break;case r.a.TypeUnmatched:if(n.typeUnmatched)return n.typeUnmatched;break;case r.a.AdditionalPropUnmatched:if(n.additionalPropUnmatched)return n.additionalPropUnmatched;break;case r.a.RepeatQtyUnmatched:if(n.repeatQtyUnmatched)return n.repeatQtyUnmatched;break;case r.a.SequenceUnmatched:if(n.sequenceUnmatched)return n.sequenceUnmatched;break;case r.a.ValueRangeUnmatched:if(n.valueRangeUnmatched)return n.valueRangeUnmatched;break;case r.a.ValuePatternUnmatched:if(n.valuePatternUnmatched)return n.valuePatternUnmatched;break;case r.a.ValueLengthUnmatched:if(n.valueLengthUnmatched)return n.valueLengthUnmatched;break;case r.a.ValueUnmatched:if(n.valueUnmatched)return n.valueUnmatched}return""}function l(e){switch(e.kind){case"repeated":return`(repeated ${l(e.repeated)})`;case"spread":return l(e.spread);case"sequence":return"(sequence)";case"primitive":return e.primitiveName;case"primitive-value":return`(value ${"string"==typeof e.value?`'${String(e.value)}'`:String(e.value)})`;case"optional":return l(e.optional);case"one-of":return`(one of ${e.oneOf.map(e=>l(e)).join(", ")})`;case"never":case"any":case"unknown":return e.kind;case"symlink":return e.symlinkTargetName;default:return e.typeName?e.typeName:"?"}}function d(e,t,n,r,a){let o=e;const c=a.topRepeatable,u=new Map([["expectedType",n.stereotype?n.stereotype:Object(s.a)(l(n))],["type",Object(s.a)(typeof t)],["expectedValue",Object(s.a)("primitive-value"===n.kind?String(n.value):"enum"===n.kind&&n.typeName?"enum member of "+n.typeName:"?")],["value",Object(s.a)(String(t))],["repeatQty",Object(s.a)(c?"optional"!==c.kind?`${Object(i.h)(c.min,"")}${null!==c.min&&void 0!==c.min||null!==c.max&&void 0!==c.max?"..":""}${Object(i.h)(c.max,"")}`:"0..1":"?")],["minValue",Object(s.a)("primitive"===n.kind?""+Object(i.h)(n.minValue,Object(i.h)(n.greaterThanValue,"(smallest)")):"?")],["maxValue",Object(s.a)("primitive"===n.kind?""+Object(i.h)(n.maxValue,Object(i.h)(n.lessThanValue,"(biggest)")):"?")],["pattern",Object(s.a)("primitive"===n.kind?""+(n.pattern?`/${n.pattern.source}/${n.pattern.flags}`:"(pattern)"):"?")],["minLength",Object(s.a)("primitive"===n.kind?""+Object(i.h)(n.minLength,"0"):"?")],["maxLength",Object(s.a)("primitive"===n.kind?""+Object(i.h)(n.maxLength,"(biggest)"):"?")],["name",Object(s.a)(`${"repeated"!==n.kind&&a.dataPath.endsWith("repeated)")?"repeated item of ":"sequence"!==n.kind&&a.dataPath.endsWith("sequence)")?"sequence item of ":""}${a.entryName||"?"}`)],["parentType",Object(s.a)(a.parentType||"?")],["dataPath",a.dataPath],...r.substitutions||[]]);for(const e of u.entries())o=o.replace(new RegExp(`%{${e[0]}}`),e[1]);return o}function p(e,t,n,a){const s=[];n.messages&&s.push(n.messages),a.ctx.errorMessages&&s.push(a.ctx.errorMessages),s.push(c);const l=[];for(let e=0;e<a.ctx.typeStack.length;e++){const t=a.ctx.typeStack[e],n=a.ctx.typeStack[e+1],r=Array.isArray(t)?t[0]:t,i=Array.isArray(n)?n[1]:void 0;let s=!1;if("repeated"===r.kind?e!==a.ctx.typeStack.length-1&&(r.name&&l.push({kind:"key",name:r.name}),l.push({kind:"index",name:`(${void 0!==i?i+":":""}repeated)`}),s=!0):"sequence"===r.kind&&e!==a.ctx.typeStack.length-1&&(r.name&&l.push({kind:"key",name:r.name}),l.push({kind:"index",name:`(${void 0!==i?i+":":""}sequence)`}),s=!0),!s)if(r.name)if(0===e)r.typeName?l.push({kind:"type",name:r.typeName}):l.push({kind:"key",name:r.name});else{const e=l.length;e&&"type"===l[e-1].kind?"object"===r.kind&&n&&r.typeName?l.push({kind:"type",name:r.typeName}):l.push({kind:"key",name:r.name}):r.typeName?l.push({kind:"type",name:r.typeName}):l.push({kind:"key",name:r.name})}else r.typeName&&l.push({kind:"type",name:r.typeName})}let p="";for(let e=0;e<l.length;e++){const t=l[e];if(p+=t.name,e+1===l.length)break;p+="type"===t.kind?":":"."}let f="",m="";for(let e=l.length-1;0<=e;e--){const t=l[e];if("type"===t.kind){if(0!==e&&e===l.length-1){if("index"===l[e-1].kind)continue}f=t.name;for(let t=e+1;t<l.length;t++){const e=l[t];if("key"===e.kind){m=e.name;break}}break}}if(!f)for(let e=a.ctx.typeStack.length-1;0<=e;e--){const t=a.ctx.typeStack[e],n=Array.isArray(t)?t[0]:t;n.typeName&&(f=n.typeName)}const g=a.ctx.typeStack.slice().reverse().map(e=>Array.isArray(e)?e[0]:e).find(e=>"repeated"===e.kind||"spread"===e.kind||"optional"===e.kind)||null;const h={dataPath:p,topRepeatable:g,parentType:f,entryName:m},b={},y=[n];e===r.a.RepeatQtyUnmatched&&g&&y.unshift(g);for(const e of y){if(Object(i.h)(e.minValue,!1)&&(b.minValue=e.minValue),Object(i.h)(e.maxValue,!1)&&(b.maxValue=e.maxValue),Object(i.h)(e.greaterThanValue,!1)&&(b.greaterThanValue=e.greaterThanValue),Object(i.h)(e.lessThanValue,!1)&&(b.lessThanValue=e.lessThanValue),Object(i.h)(e.minLength,!1)&&(b.minLength=e.minLength),Object(i.h)(e.maxLength,!1)&&(b.maxLength=e.maxLength),Object(i.h)(e.pattern,!1)){const t=e.pattern;b.pattern=`/${t.source}/${t.flags}`}Object(i.h)(e.min,!1)&&(b.min=e.min),Object(i.h)(e.max,!1)&&(b.max=e.max)}const k={};switch(typeof t){case"number":case"bigint":case"string":case"boolean":case"undefined":k.value=t;break;case"object":null===t&&(k.value=t)}n.messageId?a.ctx.errors.push(Object.assign({code:`${n.messageId}-${o[e]}`,message:d(n.message?n.message:u(e,...s),t,n,a,h),dataPath:p,constraints:b},k)):n.message?a.ctx.errors.push(Object.assign({code:""+o[e],message:d(n.message,t,n,a,h),dataPath:p,constraints:b},k)):a.ctx.errors.push(Object.assign({code:""+o[e],message:d(u(e,...s),t,n,a,h),dataPath:p,constraints:b},k))}function f(e,t,n,r){try{r.ctx.typeStack.push(n),p(e,t,n[0],r)}finally{r.ctx.typeStack.pop()}}var m=n(9);const g={tryParse:e=>({value:e}),evaluateFormula:e=>e,compare:(e,t)=>{const n=typeof e;if(n!==typeof t)return NaN;switch(n){case"number":return Number.isNaN(e)&&Number.isNaN(t)?0:e-t;default:return e===t?0:e>t?1:e<t?-1:NaN}},doCast:!1};function h(e,t,n){if(t.stereotype&&n.stereotypes){if(n.stereotypes.has(t.stereotype)){const r=n.stereotypes.get(t.stereotype),a=r.tryParse(e);return a?{value:a.value,stereotype:r}:null}throw new Error("Undefined stereotype is specified: "+t.stereotype)}return!1}function b(e,t){switch(e){case"number":if("number"==typeof t)return t;{const e=Number.parseFloat(String(t));return Number.isNaN(e)?Number(null!=t?t:0):e}case"integer":if("number"==typeof t&&Math.trunc(t)===t)return t;{let e=Number.parseFloat(String(t));return Number.isNaN(e)&&(e=Number(null!=t?t:0)),Math.trunc(e)}case"bigint":try{return BigInt(null!=t?t:0)}catch(e){return NaN}case"string":return String(t);case"boolean":return Boolean(t);case"undefined":return;case"null":return null;default:return t}}function y(e,t,n){if(t.customConstraints&&n.customConstraints){for(const r of t.customConstraints){if(!n.customConstraints.has(r))throw new Error("Undefined constraint is specified: "+r);{const a=n.customConstraints.get(r);if(a.kinds&&!a.kinds.includes(t.kind))return null;if(!a.check(e,t.customConstraintsArgs&&t.customConstraintsArgs[r]))return null}}return!0}return!1}function k(e,t,n,s){try{switch(n.typeStack.push("number"==typeof s||"string"==typeof s?[t,s]:t),t.kind){case"never":return function(e,t,n){return p(r.a.TypeUnmatched,e,t,{ctx:n}),null}(e,t,n);case"any":return function(e,t,n){let a=h(e,t,n);if(null===a)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;!1===a&&(a={value:e,stereotype:g});const i=a.stereotype;return null===y(e,t,n)?(p(r.a.ValueUnmatched,e,t,{ctx:n}),null):{value:n.mapper?n.mapper(i.doCast?a.value:e,t):i.doCast?a.value:e}}(e,t,n);case"unknown":return function(e,t,n){let a=h(e,t,n);if(null===a)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;!1===a&&(a={value:e,stereotype:g});const i=a.stereotype;return null===y(e,t,n)?(p(r.a.ValueUnmatched,e,t,{ctx:n}),null):{value:n.mapper?n.mapper(i.doCast?a.value:e,t):i.doCast?a.value:e}}(e,t,n);case"primitive":return function(e,t,n){const a=t.forceCast?b(t.primitiveName,e):e;if("null"===t.primitiveName){if(null!==a)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null}else if("integer"===t.primitiveName){if("number"!=typeof a)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;if(Math.trunc(a)!==a)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null}else if(typeof a!==t.primitiveName)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;let i=h(a,t,n);if(null===i)return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;!1===i&&(i={value:a,stereotype:(t.forceCast,g)});const s=i.value,o=i.stereotype;let c=!1,u=!1;switch(typeof t.minValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.minValue))<0&&(u||p(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.maxValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.maxValue))>0&&(u||p(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.greaterThanValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.greaterThanValue))<=0&&(u||p(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.lessThanValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.lessThanValue))>=0&&(u||p(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}let l=!1;switch(typeof t.minLength){case"number":("string"!=typeof s||s.length<t.minLength)&&(l||p(r.a.ValueLengthUnmatched,e,t,{ctx:n}),l=!0,c=!0)}switch(typeof t.maxLength){case"number":("string"!=typeof s||s.length>t.maxLength)&&(l||p(r.a.ValueLengthUnmatched,e,t,{ctx:n}),l=!0,c=!0)}return t.pattern&&("string"==typeof s&&t.pattern.test(s)||(p(r.a.ValuePatternUnmatched,e,t,{ctx:n}),c=!0)),null===y(e,t,n)&&(p(r.a.ValueUnmatched,e,t,{ctx:n}),c=!0),c?null:{value:n.mapper?n.mapper(o.doCast?i.value:a,t):o.doCast?i.value:a}}(e,t,n);case"primitive-value":return function(e,t,n){const a=t.forceCast?b(typeof t.value,e):e;let i=h(a,t,n);if(null===i)return p(r.a.ValueUnmatched,e,t,{ctx:n}),null;!1===i&&(i={value:a,stereotype:(t.forceCast,g)});const s=i.stereotype;let o=0===s.compare(i.value,s.evaluateFormula(t.value))?{value:n.mapper?n.mapper(s.doCast?i.value:a,t):s.doCast?i.value:a}:null;return o||p(r.a.ValueUnmatched,e,t,{ctx:n}),o&&null===y(e,t,n)&&(p(r.a.ValueUnmatched,e,t,{ctx:n}),o=null),o}(e,t,n);case"repeated":return function(e,t,n){if(!Array.isArray(e))return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;if("number"==typeof t.min&&e.length<t.min)return p(r.a.RepeatQtyUnmatched,e,t,{ctx:n}),null;if("number"==typeof t.max&&e.length>t.max)return p(r.a.RepeatQtyUnmatched,e,t,{ctx:n}),null;const a=[];for(let r=0;r<e.length;r++){const i=k(e[r],t.repeated,n,r);if(!i)return null;a.push(i.value)}return null===y(e,t,n)?(p(r.a.ValueUnmatched,e,t,{ctx:n}),null):{value:a}}(e,t,n);case"sequence":return function(e,t,n){if(!Array.isArray(e))return p(r.a.TypeUnmatched,e,t,{ctx:n}),null;let a=0,i=0,s=0,o=!1;const c=(t,a)=>"number"==typeof t.min&&s<t.min?(f(0===s?r.a.TypeUnmatched:r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null):"number"==typeof t.max&&s>t.max?(f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null):t,u=(t,a)=>{if(0===s)o=!0;else{if(o)return f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null;if(s>1)return f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null}return t},l=[];for(;a<e.length&&i<t.sequence.length;){const r=t.sequence[i];if("spread"===r.kind){const t=n.errors.length,o=k(e[a],r.spread,n,a);if(o)l.push(o.value),a++,s++;else{if(n.errors.length=t,!c(r,a))return null;s=0,i++}}else if("optional"===r.kind){const t=n.errors.length,o=k(e[a],r.optional,n,a);if(o)l.push(o.value),a++,s++;else{if(n.errors.length=t,!u(r,a))return null;s=0,i++}}else{const t=k(e[a],r,n,a);if(!t)return null;l.push(t.value),a++,i++}}for(;i<t.sequence.length;){const o=t.sequence[i];if("spread"===o.kind){if(!c(o,a))return null;s=0,i++}else{if("optional"!==o.kind)return f(r.a.RepeatQtyUnmatched,e,[o,a],{ctx:n}),null;if(!u(o,a))return null;s=0,i++}}const d=e.length===a?{value:l}:null;return d||p(r.a.SequenceUnmatched,e,t,{ctx:n}),d&&null===y(e,t,n)?(p(r.a.ValueUnmatched,e,t,{ctx:n}),null):d}(e,t,n);case"one-of":return function(e,t,n){let a=!1;const i=n.recordTypeFieldValidated;n.recordTypeFieldValidated=!1;const s=n.errors.length;let o=0,c=s;for(const r of t.oneOf){const t=k(e,r,n);if(t)return n.errors.length=s,n.recordTypeFieldValidated=i,t;if(n.recordTypeFieldValidated){if(0!==o){const e=n.errors.slice(c);n.errors.length=s,n.errors.push(...e)}a=!0;break}0===o?c=n.errors.length:n.errors.length=c,o++}return a||(n.checkAll||(n.errors.length=s),p(r.a.TypeUnmatched,e,t,{ctx:n})),n.recordTypeFieldValidated=i,null}(e,t,n);case"enum":return function(e,t,n){for(const r of t.values)if(e===r[1])return{value:n.mapper?n.mapper(e,t):e};return p(r.a.ValueUnmatched,e,t,{ctx:n}),null}(e,t,n);case"object":return function(e,t,n){let s=Array.isArray(e)?[...e]:Object.assign({},e);const o=t.members.slice().reverse();for(const i of t.members)if(t.members.find(e=>e[0]===i[0])!==o.find(e=>e[0]===i[0]))throw p(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Duplicated member is found: ${i[0]} in ${t.name||"(unnamed)"}`,t,n);if(null===e||"object"!=typeof e){if(p(r.a.TypeUnmatched,e,t,{ctx:n}),!n||!n.checkAll)return null;s=null}else{const a=new Set;if((n.noAdditionalProps||t.additionalProps&&0<t.additionalProps.length)&&!Array.isArray(e))for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.add(t);if(n.noAdditionalProps&&Array.isArray(e)&&0<e.length){if(0===(t.additionalProps||[]).filter(e=>e[0].includes("number")).length){if(p(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps","[number]"]]}),!n||!n.checkAll)return null;s=null}}for(const o of t.members)if(a.delete(o[0]),Object.prototype.hasOwnProperty.call(e,o[0])){const t="optional"===o[1].kind?Object.assign(Object.assign({},o[1].optional),{name:o[0],message:o[1].message,messages:o[1].messages,messageId:o[1].messageId}):o[1],r=k(e[o[0]],t,n);if(r){if(s){if(Object(i.g)(s,o[0]))continue;s[o[0]]=r.value,t.isRecordTypeField&&(n.recordTypeFieldValidated=!0)}}else{if(!n||!n.checkAll)return null;s=null}}else if("optional"!==o[1].kind){if(f(r.a.Required,e,[o[1],void 0],{ctx:n}),!n||!n.checkAll)return null;s=null}if(t.additionalProps&&0<t.additionalProps.length){for(const o of function*(){for(const e of a.values())yield e;if(Array.isArray(e))for(let t=0;t<e.length;t++)yield String(t)}()){let c=!1;const u=[];for(const e of t.additionalProps)for(const t of e[0]){const n=e[1];"number"===t?i.d.test(o)&&u.push(n):("string"===t||t.test(o))&&u.push(n),"optional"===n.kind&&(c=!0)}if(0===u.length){if(c)continue;if(p(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps",o]]}),n&&n.checkAll){s=null;continue}return null}a.delete(o);let l=!1;const d=n.errors.length;for(const t of u){const r=k(e[o],"optional"===t.kind?Object.assign(Object.assign({},t.optional),{message:t.message,messages:t.messages,messageId:t.messageId,name:o}):Object.assign(Object.assign({},t),{name:o}),n);if(r){if(s){if(l=!1,n.errors.length=d,Object(i.g)(s,o))continue;s[o]=r.value}break}l=!0}if(l){if(!n||!n.checkAll)return null;s=null}}}if(n.noAdditionalProps&&0<a.size){if(p(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps",Array.from(a.values()).join(", ")]]}),!n||!n.checkAll)return null;s=null}}return s&&null===y(e,t,n)?(p(r.a.ValueUnmatched,e,t,{ctx:n}),null):s?{value:n&&n.mapper?n.mapper(s,t):s}:null}(e,t,n);case"symlink":if(n.schema)return k(e,Object(m.c)(n.schema,t,{nestLevel:0,symlinkStack:[]}),n);throw p(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Unresolved symbol '${t.symlinkTargetName}' is appeared.`,t,n);case"operator":if(n.schema)return k(e,Object(m.c)(n.schema,t,{nestLevel:0,symlinkStack:[]}),n);throw p(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a("Unresolved type operator is found: "+t.operator,t,n);case"spread":case"optional":throw p(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a("Unexpected type assertion: "+t.kind,t,n);default:throw p(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a("Unknown type assertion: "+t.kind,t,n)}}finally{n.typeStack.pop()}}function j(e,t,n){const r=Object.assign({errors:[],typeStack:[]},n||{});try{return k(e,t,r)}finally{n&&(n.errors=r.errors)}}function w(e,t,n){return!!j(e,t,n)}function O(e,t,n){if(!j(e,t,n))throw new Error(`Assertion failed: Expected data should be of type "${t.typeName||t.name||"?"}".`)}function v(e,t){var n;if(e.has(t))return null===(n=e.get(t))||void 0===n?void 0:n.ty;throw new Error("Undefined type name is referred: "+t)}},,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(8),a=n(1),i=n(10);function s(e,t){switch(t.kind){case"object":{const n=Array.isArray(e)?[]:{},r=new Set;if(!Array.isArray(e))for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.add(t);for(const a of t.members)Object.hasOwnProperty.call(e,a[0])&&(r.delete(a[0]),n[a[0]]=e[a[0]]);if(t.additionalProps&&0<t.additionalProps.length){for(const t of function*(){for(const e of r.values())yield e;if(Array.isArray(e))for(let t=0;t<e.length;t++)yield String(t)}())n[t]=e[t]}return n}default:return e}}function o(e,t,n){switch(t.kind){case"never":throw new r.a("Type unmatched: "+t.kind,t,n);case"any":case"unknown":case"primitive":case"primitive-value":case"repeated":case"sequence":case"one-of":case"enum":case"object":{const a=Object(i.d)(e,t,n);if(a)return a.value;throw new r.a("Validation failed.",t,n)}case"spread":case"optional":case"symlink":case"operator":throw new r.a("Unexpected type assertion: "+t.kind,t,n);default:throw new r.a("Unknown type assertion: "+t.kind,t,n)}}function c(e,t,n){const r=Object.assign(Object.assign({errors:[],typeStack:[]},n||{}),{mapper:s});try{return o(e,t,r)}finally{n&&(n.errors=r.errors)}}function u(e,t,n,r){return function e(t,n){if(null==t)return n;switch(typeof t){case"object":if(Array.isArray(t))return[...n];{const r=Object.assign({},t);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(Object(a.g)(r,t))continue;r[t]=e(r[t],n[t])}return r}default:return n}}(e,c(t,n,Object.assign({errors:[],typeStack:[]},r||{})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1);const a=/^first-date-of-fy\(([0-9]+)\)$/,i=/^([-+@])([0-9]+)(yr|mo|day|days|hr|min|sec|ms)$/;class s extends Date{constructor(e,t,n,a,i,s,o){if(super(),void 0!==e)if("string"!=typeof e)this.setUTCDate(1),this.setUTCFullYear(e),this.setUTCMonth("number"==typeof t?t:0),this.setUTCDate("number"==typeof n?n:1),this.setUTCHours("number"==typeof a?a:0),this.setUTCMinutes("number"==typeof i?i:0),this.setUTCSeconds("number"==typeof s?s:0),this.setUTCMilliseconds("number"==typeof o?o:0);else if(r.c.test(e))this.setTime(Date.parse(e));else if(r.a.test(e)){const t=new Date(e);this.setTime(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))}else if(r.b.test(e)){const t=new Date(e);this.setTime(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}else this.setTime(NaN)}getFullYear(){return this.getUTCFullYear()}getMonth(){return this.getUTCMonth()}getDate(){return this.getUTCDate()}getHours(){return this.getUTCHours()}getMinutes(){return this.getUTCMinutes()}getSeconds(){return this.getUTCSeconds()}getMilliseconds(){return this.getUTCMilliseconds()}}class o extends Date{constructor(e,t,n,a,i,s,o){if(super(),void 0!==e)if("string"!=typeof e)this.setDate(1),this.setFullYear(e),this.setMonth("number"==typeof t?t:0),this.setDate("number"==typeof n?n:1),this.setHours("number"==typeof a?a:0),this.setMinutes("number"==typeof i?i:0),this.setSeconds("number"==typeof s?s:0),this.setMilliseconds("number"==typeof o?o:0);else if(r.c.test(e))this.setTime(Date.parse(e));else if(r.a.test(e)){const t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());this.setTime(n.getTime())}else if(r.b.test(e)){const t=new Date(e);this.setTime(t.getTime())}else this.setTime(NaN)}}function c(e,t){const n="evaluateFormula: invalid parameter "+t;if("string"!=typeof t)throw new Error(n);if(t.startsWith("=")){const s=t.slice(1).split(" ");let o=new e;const c=new e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes()),u=new e(o.getFullYear(),o.getMonth(),o.getDate());o=c;for(const t of s)switch(t){case"current":case"now":o=c;break;case"today":o=u;break;case"first-date-of-yr":case"first-date-of-fy(1)":o=new e(o.getFullYear(),0,1);break;case"last-date-of-yr":o=new e(o.getFullYear(),11,31);break;case"first-date-of-mo":o=new e(o.getFullYear(),o.getMonth(),1);break;case"last-date-of-mo":o=new e(o.getFullYear(),o.getMonth()+1,0);break;default:if(t.startsWith("first-date-of-fy(")){const r=a.exec(t);if(!r)throw new Error(n);{const t=Number.parseInt(r[1],10);if(!(0<t&&t<=12))throw new Error(n);{const n=o.getMonth()+1;let r=o.getFullYear();n<t&&r--,o=new e(r,t-1,1)}}}else{const a=i.exec(t);if(a){let t=Number.parseInt(a[2],10);switch(a[3]){case"yr":switch(a[1]){case"@":break;case"+":t=o.getFullYear()+t;break;case"-":t=o.getFullYear()-t}o=new e(t,o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds());break;case"mo":switch(a[1]){case"@":t-=1;break;case"+":t=o.getMonth()+t;break;case"-":t=o.getMonth()-t}o=new e(o.getFullYear(),t,o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds());break;case"day":case"days":switch(a[1]){case"@":break;case"+":t=o.getDate()+t;break;case"-":t=o.getDate()-t}o=new e(o.getFullYear(),o.getMonth(),t,o.getHours(),o.getMinutes(),o.getSeconds(),o.getMilliseconds());break;case"hr":switch(a[1]){case"@":break;case"+":t=o.getHours()+t;break;case"-":t=o.getHours()-t}o=new e(o.getFullYear(),o.getMonth(),o.getDate(),t,o.getMinutes(),o.getSeconds(),o.getMilliseconds());break;case"min":switch(a[1]){case"@":break;case"+":t=o.getMinutes()+t;break;case"-":t=o.getMinutes()-t}o=new e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),t,o.getSeconds(),o.getMilliseconds());break;case"sec":switch(a[1]){case"@":break;case"+":t=o.getSeconds()+t;break;case"-":t=o.getSeconds()-t}o=new e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),t,o.getMilliseconds());break;case"ms":switch(a[1]){case"@":break;case"+":t=o.getMilliseconds()+t;break;case"-":t=o.getMilliseconds()-t}o=new e(o.getFullYear(),o.getMonth(),o.getDate(),o.getHours(),o.getMinutes(),o.getSeconds(),t);break;default:throw new Error(n)}}else{if(!(r.a.test(t)||r.c.test(t)||r.b.test(t)))throw new Error(n);o=new e(t)}}}return o}if(!r.a.test(t))throw new Error(n);return new e(t)}const u={tryParse:e=>"string"==typeof e&&r.a.test(e)?{value:new s(e).getTime()}:null,evaluateFormula:e=>{const t=c(s,e);return new s(t.getFullYear(),t.getMonth(),t.getDate()).getTime()},compare:(e,t)=>e-t,doCast:!1},l={tryParse:e=>"string"==typeof e&&(r.c.test(e)||r.b.test(e))?{value:new s(e).getTime()}:null,evaluateFormula:e=>c(s,e).getTime(),compare:(e,t)=>e-t,doCast:!1},d=[["date",u],["lcdate",Object.assign(Object.assign({},u),{tryParse:e=>"string"==typeof e&&r.a.test(e)?{value:new o(e).getTime()}:null,evaluateFormula:e=>{const t=c(o,e);return new o(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}})],["datetime",l],["lcdatetime",Object.assign(Object.assign({},l),{tryParse:e=>"string"==typeof e&&(r.c.test(e)||r.b.test(e))?{value:new o(e).getTime()}:null,evaluateFormula:e=>c(o,e).getTime()})]]},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(1);const a="Unsafe symbol name is appeared in unique constraint assertion:",i=e=>(t,n)=>{const r="evaluateFormula: invalid parameter "+n;if(!Array.isArray(t))throw new Error(r);const a=[];if("string"==typeof n)a.push(n);else if(Array.isArray(n)){for(const e of n)if("string"!=typeof e)throw new Error(r);a.push(...n)}const i=t.map(t=>e(t,a));for(let e=0;e<i.length;e++)e:for(let t=0;t<i.length;t++){if(e===t)continue;const n=i[e],r=i[t];for(let e=0;e<n.length;e++)if(n[e]!==r[e])continue e;return!1}return!0},s=[["unique",{kinds:["repeated","sequence"],check:i((e,t)=>{const n=[];if(0<t.length)for(const i of t){if(Object(r.g)(r.f,i))throw new Error(`${a} ${i}`);n.push(e[i])}else n.push(e);return n})}],["unique-non-null",{kinds:["repeated","sequence"],check:i((e,t)=>{var n;const i=[];if(0<t.length)for(const s of t){if(Object(r.g)(r.f,s))throw new Error(`${a} ${s}`);i.push(null!==(n=e[s])&&void 0!==n?n:NaN)}else i.push(e);return i})}]]},,,,,function(e,t,n){e.exports=n(20)},function(e,t,n){"use strict";n.r(t),n.d(t,"stereotypes",(function(){return u})),n.d(t,"customConstraints",(function(){return l}));var r=n(13),a=n(14),i=n(2);n.d(t,"ErrorTypes",(function(){return i.a}));var s=n(5);n.d(t,"picked",(function(){return s.i})),n.d(t,"omit",(function(){return s.e})),n.d(t,"partial",(function(){return s.h})),n.d(t,"intersect",(function(){return s.c})),n.d(t,"oneOf",(function(){return s.f})),n.d(t,"subtract",(function(){return s.p})),n.d(t,"primitive",(function(){return s.j})),n.d(t,"regexpPatternStringType",(function(){return s.l})),n.d(t,"primitiveValue",(function(){return s.k})),n.d(t,"optional",(function(){return s.g})),n.d(t,"repeated",(function(){return s.m})),n.d(t,"sequenceOf",(function(){return s.n})),n.d(t,"spread",(function(){return s.o})),n.d(t,"enumType",(function(){return s.b})),n.d(t,"objectType",(function(){return s.d})),n.d(t,"derived",(function(){return s.a})),n.d(t,"symlinkType",(function(){return s.q})),n.d(t,"withName",(function(){return s.E})),n.d(t,"withTypeName",(function(){return s.J})),n.d(t,"withOriginalTypeName",(function(){return s.F})),n.d(t,"withDocComment",(function(){return s.s})),n.d(t,"withRange",(function(){return s.G})),n.d(t,"withMinValue",(function(){return s.B})),n.d(t,"withMaxValue",(function(){return s.y})),n.d(t,"withGreaterThan",(function(){return s.u})),n.d(t,"withLessThan",(function(){return s.v})),n.d(t,"withMinLength",(function(){return s.A})),n.d(t,"withMaxLength",(function(){return s.x})),n.d(t,"withMatch",(function(){return s.w})),n.d(t,"withStereotype",(function(){return s.I})),n.d(t,"withConstraint",(function(){return s.r})),n.d(t,"withForceCast",(function(){return s.t})),n.d(t,"withRecordType",(function(){return s.H})),n.d(t,"withMeta",(function(){return s.z})),n.d(t,"withMsg",(function(){return s.C})),n.d(t,"withMsgId",(function(){return s.D}));var o=n(10);n.d(t,"validateRoot",(function(){return o.e})),n.d(t,"validate",(function(){return o.d})),n.d(t,"isType",(function(){return o.c})),n.d(t,"assertType",(function(){return o.a})),n.d(t,"getType",(function(){return o.b}));var c=n(12);n.d(t,"pickRoot",(function(){return c.c})),n.d(t,"pick",(function(){return c.b})),n.d(t,"patch",(function(){return c.a}));const u=[...r.a],l=[...a.a]}])}));
//# sourceMappingURL=tynder-rt.min.js.map