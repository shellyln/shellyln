!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.tynder=t():e.tynder=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=18)}([,,function(e,t,n){"use strict";var r;!function(e){e[e.InvalidDefinition=1]="InvalidDefinition",e[e.Required=2]="Required",e[e.TypeUnmatched=3]="TypeUnmatched",e[e.AdditionalPropUnmatched=4]="AdditionalPropUnmatched",e[e.RepeatQtyUnmatched=5]="RepeatQtyUnmatched",e[e.SequenceUnmatched=6]="SequenceUnmatched",e[e.ValueRangeUnmatched=7]="ValueRangeUnmatched",e[e.ValuePatternUnmatched=8]="ValuePatternUnmatched",e[e.ValueLengthUnmatched=9]="ValueLengthUnmatched",e[e.ValueUnmatched=10]="ValueUnmatched"}(r||(r={})),n.d(t,"a",(function(){return r}))},,function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d}));const r=Function("return this")(),a={}.constructor,i=Function,s=/^([\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?)$/,o=/^(\d{4}-[01]\d-[0-3]\d)$/,c=/^((?:(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d))(?:[+-][0-2]\d:[0-5]\d|Z))$/,u=/^((?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d)|(?:\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d))$/,l={};function d(e,t){if(e===r||"__proto__"===t||"__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t)return!0;if(!("prototype"!==t&&"constructor"!==t||null!=e&&"function"!=typeof e))return!0;if((null==e||e===a)&&a.hasOwnProperty(t))return!0;if(null==e||e===i){let e=i;for(;e;){if(e.hasOwnProperty(t))return!0;e=e.__proto__}}return"function"==typeof e&&!e.hasOwnProperty(t)}},function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"h",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"f",(function(){return c})),n.d(t,"p",(function(){return u})),n.d(t,"j",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"k",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return h})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return y})),n.d(t,"a",(function(){return v})),n.d(t,"q",(function(){return j})),n.d(t,"C",(function(){return w})),n.d(t,"G",(function(){return O})),n.d(t,"D",(function(){return T})),n.d(t,"r",(function(){return x})),n.d(t,"E",(function(){return U})),n.d(t,"z",(function(){return N})),n.d(t,"x",(function(){return V})),n.d(t,"t",(function(){return D})),n.d(t,"u",(function(){return P})),n.d(t,"y",(function(){return S})),n.d(t,"w",(function(){return M})),n.d(t,"v",(function(){return $})),n.d(t,"F",(function(){return E})),n.d(t,"s",(function(){return A})),n.d(t,"A",(function(){return L})),n.d(t,"B",(function(){return F}));var r=n(4);function a(e,...t){switch(e.kind){case"object":{const n=[];for(const r of t){const t=e.members.find(e=>e[0]===r);if(t)if(t[2]){const e=[...t];3<e.length?e[2]=!1:e.length=2,n.push(e)}else n.push(t)}return{kind:"object",members:n}}case"symlink":case"operator":return{kind:"operator",operator:"picked",operands:[e,...t]};default:return{kind:"object",members:[]}}}function i(e,...t){switch(e.kind){case"object":{const n=[];for(const r of e.members)if(!t.find(e=>r[0]===e))if(r[2]){const e=[...r];3<e.length?e[2]=!1:e.length=2,n.push(e)}else n.push(r);return{kind:"object",members:n}}case"symlink":case"operator":return{kind:"operator",operator:"omit",operands:[e,...t]};default:return{kind:"object",members:[]}}}function s(e){switch(e.kind){case"object":{const t=[];for(const n of e.members){let e="optional"===n[1].kind?n:[n[0],m(n[1]),...n.slice(2)];e[2]&&(e=[...e],3<e.length?e[2]=!1:e.length=2),e[1].name=e[0];const r=Object.assign({},e[1].optional);e[1].optional=r,r.name&&r.name!==r.typeName&&delete r.name,!r.name&&r.typeName&&(r.name=r.typeName),t.push(e)}return{kind:"object",members:t}}case"symlink":case"operator":return{kind:"operator",operator:"partial",operands:[e]};default:return e}}function o(...e){if(0===e.length)throw new Error("Empty intersection type is not allowed.");if(0<e.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)return{kind:"operator",operator:"intersect",operands:e.slice()};let t=null;const n=new Map;for(const r of e){if(!r||"object"!=typeof r)return{kind:"never"};if(t&&t.kind!==r.kind)return{kind:"never"};if(t=r,"object"===r.kind)for(const e of r.members)if(e[2]){const t=[...e];3<t.length?t[2]=!1:t.length=2,n.set(e[0],t)}else n.set(e[0],e)}return t&&"object"!==t.kind?t:{kind:"object",members:Array.from(n.values())}}function c(...e){if(0===e.length)throw new Error("Empty union type is not allowed.");if(1===e.length){const t=e[0];return t&&"object"==typeof t?t:p(t)}const t={kind:"one-of",oneOf:[]};for(const n of e)n&&"object"==typeof n?"one-of"===n.kind?t.oneOf=t.oneOf.concat(n.oneOf):t.oneOf.push(n):t.oneOf.push(p(n));return t}function u(...e){if(0===e.length)throw new Error("Empty subtraction type is not allowed.");if(0<e.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)return{kind:"operator",operator:"subtract",operands:e.slice()};let t=e[0];if(!t||"object"!=typeof t||"object"!==t.kind)throw new Error("First parameter of subtraction type should be 'object'.");for(const n of e.slice(1))n&&"object"==typeof n&&"object"===n.kind&&(t=i(t,...n.members.map(e=>e[0])));return t}function l(e){switch(e){case"never":return{kind:"never"};case"any":return{kind:"any"};case"unknown":return{kind:"unknown"};case"number":case"integer":case"bigint":case"string":case"boolean":case"null":case"undefined":return{kind:"primitive",primitiveName:e};case"never?":return m({kind:"never"});case"any?":return m({kind:"any"});case"unknown?":return m({kind:"unknown"});case"number?":case"integer?":case"bigint?":case"string?":case"boolean?":case"null?":case"undefined?":return m({kind:"primitive",primitiveName:e.substring(0,e.length-1)});default:throw new Error(`Unknown primitive type assertion: ${e}`)}}function d(e){return{kind:"primitive",primitiveName:"string",pattern:e}}function p(e){if(null==e)return{kind:"primitive-value",value:e};switch(typeof e){case"number":case"bigint":case"string":case"boolean":return{kind:"primitive-value",value:e};default:throw new Error(`Unknown primitive value assertion: ${e}`)}}function m(e){return e&&"object"==typeof e&&e.kind?"optional"===e.kind?e:Object.assign({kind:"optional",optional:e},e.typeName?{typeName:e.typeName}:{}):{kind:"optional",optional:p(e)}}function f(e,t){return e&&"object"==typeof e&&e.kind?{kind:"repeated",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,repeated:e}:{kind:"repeated",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,repeated:l(e)}}function g(...e){return{kind:"sequence",sequence:e.map(e=>e&&"object"==typeof e&&e.kind?e:p(e))}}function h(e,t){return e&&"object"==typeof e&&e.kind?{kind:"spread",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,spread:e}:{kind:"spread",min:t&&"number"==typeof t.min?t.min:null,max:t&&"number"==typeof t.max?t.max:null,spread:p(e)}}function b(...e){const t=e.slice();let n=0;for(let e=0;e<t.length;e++){if(Object(r.f)(r.e,t[e][0]))throw new Error(`Unsafe symbol name is appeared in enum assertion: ${t[e][0]}`);null===t[e][1]||void 0===t[e][1]?t[e][1]=n++:"number"==typeof t[e][1]&&(n=t[e][1]+1),t[e][2]||(t[e].length=2)}return{kind:"enum",values:t}}function y(...e){const t=e.slice().reverse();for(const n of e)if("string"==typeof n[0]){if(Object(r.f)(r.e,n[0]))throw new Error(`Unsafe symbol name is appeared in object assertion: ${n[0]}`);if(e.find(e=>e[0]===n[0])!==t.find(e=>e[0]===n[0]))throw new Error(`Duplicated member is found: ${n[0]}`)}const n=e.filter(e=>"string"==typeof e[0]).map(e=>e[1]&&"object"==typeof e[1]&&e[1].kind?[e[0],w(e[1],e[0]),e[2]]:[e[0],w(p(e[1]),e[0]),e[2]]).map(e=>e[2]?[e[0],e[1],!1,...e.slice(2)]:[e[0],e[1]]),a=e.filter(e=>"string"!=typeof e[0]).map(e=>e[1]&&"object"==typeof e[1]&&e[1].kind?e:[e[0],p(e[1]),e[2]]).map(e=>e[2]?[e[0],e[1],!1,...e.slice(2)]:[e[0],e[1]]);return Object.assign({kind:"object",members:n},0<a.length?{additionalProps:a}:{})}function k(e,t){if(e===t)return!1;if(e.typeName&&(e.typeName===t.typeName||"symlink"===t.kind&&e.typeName===t.symlinkTargetName))return!1;if("object"===t.kind&&t.baseTypes)for(const n of t.baseTypes)if(!k(e,n))return!1;return!0}function v(e,...t){const n={kind:"object",members:[],baseTypes:[]};for(const r of t)switch(r.kind){case"object":if(!k(e,r))throw new Error(`Recursive extend is found: ${e.name||"(unnamed)"}`);for(const e of r.members)n.members.find(t=>t[0]===e[0])||n.members.push([e[0],e[1],!0,...e.slice(3)]);case"symlink":n.baseTypes.push(r);break;case"operator":throw new Error(`Unresolved type operator is found: ${r.operator}`)}n.members=e.members.concat(n.members),e.baseTypes&&(n.baseTypes=e.baseTypes.filter(e=>"symlink"!==e.kind).concat(n.baseTypes)),0===n.baseTypes.length&&delete n.baseTypes;const r=n.members.slice().reverse();for(const t of n.members)if(n.members.find(e=>e[0]===t[0])!==r.find(e=>e[0]===t[0]))throw new Error(`Duplicated member is found: ${t[0]} in ${e.name||"(unnamed)"}`);let a=[];if(n.baseTypes)for(const e of n.baseTypes)"object"===e.kind&&e.additionalProps&&0<e.additionalProps.length&&(a=a.concat(e.additionalProps.map(e=>[e[0],e[1],!0,...e.slice(3)])));return e.additionalProps&&0<e.additionalProps.length&&(a=a.concat(e.additionalProps)),0<a.length&&(n.additionalProps=a),n}function j(e){return{kind:"symlink",symlinkTargetName:e}}function w(e,t){return t?Object.assign(Object.assign({},e),{name:t}):e}function O(e,t){return t?Object.assign(Object.assign({},e),{typeName:t}):e}function T(e,t){return t?Object.assign(Object.assign({},e),{originalTypeName:t}):e}function x(e,t){return t?Object.assign(Object.assign({},e),{docComment:t}):e}function U(e,t){return n=>{var r;if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@range' parameter 'minValue' should be number or string.");if("number"!=typeof t&&"string"!=typeof t)throw new Error("Decorator '@range' parameter 'maxValue' should be number or string.");if("optional"===(null===(r=n)||void 0===r?void 0:r.kind)){const r=n.optional;if("primitive"!==r.kind)throw new Error("Decorator '@range' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},n),{optional:Object.assign(Object.assign({},r),{minValue:e,maxValue:t})})}if(!n||"primitive"!==n.kind)throw new Error("Decorator '@range' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},n),{minValue:e,maxValue:t})}}function N(e){return t=>{var n;if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@minValue' parameter 'minValue' should be number or string.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@minValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{minValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@minValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{minValue:e})}}function V(e){return t=>{var n;if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@maxValue' parameter 'maxValue' should be number or string.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@maxValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{maxValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@maxValue' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{maxValue:e})}}function D(e){return t=>{var n;if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@greaterThan' parameter 'greaterThan' should be number or string.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@greaterThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{greaterThanValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@greaterThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{greaterThanValue:e})}}function P(e){return t=>{var n;if("number"!=typeof e&&"string"!=typeof e)throw new Error("Decorator '@lessThan' parameter 'lessThan' should be number or string.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@lessThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{lessThanValue:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@lessThan' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{lessThanValue:e})}}function S(e){return t=>{var n;if("number"!=typeof e)throw new Error("Decorator '@minLength' parameter 'minLength' should be number.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@minLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{minLength:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@minLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{minLength:e})}}function M(e){return t=>{var n;if("number"!=typeof e)throw new Error("Decorator '@maxLength' parameter 'maxLength' should be number.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@maxLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{maxLength:e})})}if(!t||"primitive"!==t.kind)throw new Error("Decorator '@maxLength' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{maxLength:e})}}function $(e){return t=>{var n;if("object"!=typeof e)throw new Error("Decorator '@match' parameter 'pattern' should be RegExp.");if("optional"===(null===(n=t)||void 0===n?void 0:n.kind)){const n=t.optional;if("primitive"!==n.kind)throw new Error("Decorator '@match' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{optional:Object.assign(Object.assign({},n),{pattern:e})})}if(!t||"primitive"!==t.kind||"string"!==t.primitiveName)throw new Error("Decorator '@match' cannot be applied to anything other than 'primitive'.");return Object.assign(Object.assign({},t),{pattern:e})}}function E(e){if("string"!=typeof e)throw new Error("Decorator '@stereotype' parameter 'pattern' stereotype be string.");return t=>Object.assign(Object.assign({},t),{stereotype:e})}function A(){return e=>Object.assign(Object.assign({},e),{forceCast:!0})}function L(e){return t=>{if("optional"===t.kind){if("string"==typeof e){const n=Object.assign(Object.assign({},t),{message:e,optional:Object.assign(Object.assign({},t.optional),{message:e})});return delete n.messages,delete n.optional.messages,n}{const n=Object.assign(Object.assign({},t),{messages:e,optional:Object.assign(Object.assign({},t.optional),{messages:e})});return delete n.message,delete n.optional.message,n}}if("string"==typeof e){const n=Object.assign(Object.assign({},t),{message:e});return delete n.messages,n}{const n=Object.assign(Object.assign({},t),{messages:e});return delete n.message,n}}}function F(e){return t=>"optional"===t.kind?Object.assign(Object.assign({},t),{messageId:e,optional:Object.assign(Object.assign({},t.optional),{messageId:e})}):Object.assign(Object.assign({},t),{messageId:e})}},,function(e,t,n){"use strict";function r(e){return e.replace(/\x08/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\\/g,"\\\\").replace(/\'/g,"\\'").replace(/\"/g,'\\"').replace(/\`/g,"\\`")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r extends Error{constructor(e,t,n){super(e),this.ty=t,this.ctx=n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return u}));var r=n(5),a=n(4);function i(e,t,n,r){if(r&&t.has(r)){const a=t.get(r);a.ty===e&&t.set(r,Object.assign(Object.assign({},a),{ty:n,resolved:!0}))}return n}function s(e,t,n,r){const i=(e,a,i)=>a?Object.assign(Object.assign({},e),{typeName:0===r?`${t}.${n.join(".")}`:`${a}.${i}`}):e;for(let o=r;o<n.length;o++){const r=n[o];switch(e.kind){case"optional":return s(e.optional,t,n,o+1);case"object":for(const a of e.members)if(r===a[0])return i(s(a[1],t,n,o+1),e.typeName,r);if(e.additionalProps)for(const i of e.additionalProps)for(const e of i[0])switch(e){case"number":if(a.d.test(r))return s(i[1],t,n,o+1);break;case"string":return s(i[1],t,n,o+1);default:if(e.test(r))return s(i[1],t,n,o+1)}throw new Error(`Undefined member name is appeared: ${r}`);case"symlink":if(!e.typeName)throw new Error(`Reference of anonymous type is appeared: ${r}`);return Object.assign({kind:"symlink",symlinkTargetName:t,name:r,typeName:t},0<n.length?{memberTree:n}:{});default:throw new Error(`Unsupported type kind is appeared: (kind:${e.kind}).${r}`)}}return e}function o(e,t,n){var a;const c=Object.assign(Object.assign({},n),{nestLevel:n.nestLevel+1});switch(t.kind){case"symlink":{const r=e.get(t.symlinkTargetName);if(!r)throw new Error(`Undefined symbol '${t.symlinkTargetName}' is referred.`);if(0<=n.symlinkStack.findIndex(e=>e===t.symlinkTargetName))return t;const a=Object.assign({},t);let i=r.ty;return t.memberTree&&0<t.memberTree.length&&(i=Object.assign({},s(i,t.symlinkTargetName,t.memberTree,0)),a.typeName=i.typeName),o(e,function(e,t){const n=Object.assign({},t);return delete n.kind,delete n.symlinkTargetName,delete n.memberTree,Object.assign(Object.assign({},e),n)}(i,a),Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,a.symlinkTargetName]}))}case"repeated":return i(t,e,Object.assign(Object.assign({},t),{repeated:o(e,t.repeated,c)}),t.typeName);case"spread":return i(t,e,Object.assign(Object.assign({},t),{spread:o(e,t.spread,c)}),t.typeName);case"sequence":return i(t,e,Object.assign(Object.assign({},t),{sequence:t.sequence.map(t=>o(e,t,c))}),t.typeName);case"one-of":return i(t,e,Object.assign(Object.assign({},t),{oneOf:t.oneOf.map(t=>o(e,t,c))}),t.typeName);case"optional":return i(t,e,Object.assign(Object.assign({},t),{optional:o(e,t.optional,c)}),t.typeName);case"object":{if(0<n.nestLevel&&t.typeName&&0<=n.symlinkStack.findIndex(e=>e===t.typeName)&&e.has(t.typeName)){const n=e.get(t.typeName);if(n.resolved)return n.ty}const s=null===(a=t.baseTypes)||void 0===a?void 0:a.filter(e=>"symlink"===e.kind);if(s&&s.length>0&&!n.isDeserialization){const n=s.map(t=>o(e,t,c)).filter(e=>"object"===e.kind),a=o(e,r.a(Object.assign(Object.assign({},t),t.baseTypes?{baseTypes:t.baseTypes.filter(e=>"symlink"!==e.kind)}:{}),...n),t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c);return i(t,e,Object.assign(Object.assign({},t),a),t.typeName)}return i(t,e,Object.assign(Object.assign(Object.assign({},Object.assign(Object.assign({},t),{members:t.members.map(n=>[n[0],o(e,n[1],t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c),...n.slice(2)])})),t.additionalProps&&0<t.additionalProps.length?{additionalProps:t.additionalProps.map(n=>[n[0],o(e,n[1],t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c),...n.slice(2)])}:{}),t.baseTypes&&0<t.baseTypes.length?{baseTypes:n.isDeserialization?t.baseTypes.map(t=>"symlink"===t.kind?o(e,t,c):t).filter(e=>"object"===e.kind):t.baseTypes}:{}),t.typeName)}case"operator":if(c.operators){const n=t.typeName?Object.assign(Object.assign({},c),{symlinkStack:[...c.symlinkStack,t.typeName]}):c,r=t.operands.map(t=>"object"==typeof t&&t.kind?o(e,t,n):t);if(0<r.filter(e=>e&&"object"==typeof e&&("symlink"===e.kind||"operator"===e.kind)).length)throw new Error(`Unresolved type operator is found: ${t.operator}`);if(!c.operators[t.operator])throw new Error(`Undefined type operator is found: ${t.operator}`);const a=Object.assign({},t);return delete a.operator,delete a.operands,i(t,e,Object.assign(Object.assign({},a),o(e,c.operators[t.operator](...r),n)),t.typeName)}return t;default:return t}}const c={picked:r.i,omit:r.e,partial:r.h,intersect:r.c,subtract:r.p};function u(e,t){for(const n of e.entries()){const r=o(e,n[1].ty,Object.assign(Object.assign({},t),{nestLevel:0,symlinkStack:[n[0]],operators:c}));n[1].ty=r}return e}},function(e,t,n){"use strict";var r=n(2),a=n(8),i=n(4),s=n(7);const o=["","InvalidDefinition","Required","TypeUnmatched","AdditionalPropUnmatched","RepeatQtyUnmatched","SequenceUnmatched","ValueRangeUnmatched","ValuePatternUnmatched","ValueLengthUnmatched","ValueUnmatched"],c={invalidDefinition:'"%{name}" of "%{parentType}" type definition is invalid.',required:'"%{name}" of "%{parentType}" is required.',typeUnmatched:'"%{name}" of "%{parentType}" should be type "%{expectedType}".',additionalPropUnmatched:'"%{addtionalProps}" of "%{parentType}" are not matched to additional property patterns.',repeatQtyUnmatched:'"%{name}" of "%{parentType}" should repeat %{repeatQty} times.',sequenceUnmatched:'"%{name}" of "%{parentType}" sequence is not matched',valueRangeUnmatched:'"%{name}" of "%{parentType}" value should be in the range %{minValue} to %{maxValue}.',valuePatternUnmatched:'"%{name}" of "%{parentType}" value should be matched to pattern "%{pattern}"',valueLengthUnmatched:'"%{name}" of "%{parentType}" length should be in the range %{minLength} to %{maxLength}.',valueUnmatched:'"%{name}" of "%{parentType}" value should be "%{expectedValue}".'};function u(e,...t){for(const n of t)switch(e){case r.a.InvalidDefinition:if(n.invalidDefinition)return n.invalidDefinition;break;case r.a.Required:if(n.required)return n.required;break;case r.a.TypeUnmatched:if(n.typeUnmatched)return n.typeUnmatched;break;case r.a.AdditionalPropUnmatched:if(n.additionalPropUnmatched)return n.additionalPropUnmatched;break;case r.a.RepeatQtyUnmatched:if(n.repeatQtyUnmatched)return n.repeatQtyUnmatched;break;case r.a.SequenceUnmatched:if(n.sequenceUnmatched)return n.sequenceUnmatched;break;case r.a.ValueRangeUnmatched:if(n.valueRangeUnmatched)return n.valueRangeUnmatched;break;case r.a.ValuePatternUnmatched:if(n.valuePatternUnmatched)return n.valuePatternUnmatched;break;case r.a.ValueLengthUnmatched:if(n.valueLengthUnmatched)return n.valueLengthUnmatched;break;case r.a.ValueUnmatched:if(n.valueUnmatched)return n.valueUnmatched}return""}function l(e,t){return null!=e?e:t}function d(e){switch(e.kind){case"repeated":return`(repeated ${d(e.repeated)})`;case"spread":return d(e.spread);case"sequence":return"(sequence)";case"primitive":return e.primitiveName;case"primitive-value":return`(value ${"string"==typeof e.value?`'${String(e.value)}'`:String(e.value)})`;case"optional":return d(e.optional);case"one-of":return`(one of ${e.oneOf.map(e=>d(e)).join(", ")})`;case"never":case"any":case"unknown":return e.kind;case"symlink":return e.symlinkTargetName;default:return e.typeName?e.typeName:"?"}}function p(e,t,n,r,a){let i=e;const o=a.topRepeatable,c=new Map([["expectedType",Object(s.a)(d(n))],["type",Object(s.a)(typeof t)],["expectedValue",Object(s.a)("primitive-value"===n.kind?String(n.value):"enum"===n.kind&&n.typeName?`enum member of ${n.typeName}`:"?")],["value",Object(s.a)(String(t))],["repeatQty",Object(s.a)(o?"optional"!==o.kind?`${l(o.min,"")}${null!==o.min&&void 0!==o.min||null!==o.max&&void 0!==o.max?"..":""}${l(o.max,"")}`:"0..1":"?")],["minValue",Object(s.a)("primitive"===n.kind?`${l(n.minValue,l(n.greaterThanValue,"(smallest)"))}`:"?")],["maxValue",Object(s.a)("primitive"===n.kind?`${l(n.maxValue,l(n.lessThanValue,"(biggest)"))}`:"?")],["pattern",Object(s.a)("primitive"===n.kind?`${n.pattern?`/${n.pattern.source}/${n.pattern.flags}`:"(pattern)"}`:"?")],["minLength",Object(s.a)("primitive"===n.kind?`${l(n.minLength,"0")}`:"?")],["maxLength",Object(s.a)("primitive"===n.kind?`${l(n.maxLength,"(biggest)")}`:"?")],["name",Object(s.a)(`${"repeated"!==n.kind&&a.dataPath.endsWith("repeated)")?"repeated item of ":"sequence"!==n.kind&&a.dataPath.endsWith("sequence)")?"sequence item of ":""}${a.entryName||"?"}`)],["parentType",Object(s.a)(a.parentType||"?")],["dataPath",a.dataPath],...r.substitutions||[]]);for(const e of c.entries())i=i.replace(new RegExp(`%{${e[0]}}`),e[1]);return i}function m(e,t,n,a){const i=[];n.messages&&i.push(n.messages),a.ctx.errorMessages&&i.push(a.ctx.errorMessages),i.push(c);const s=[];for(let e=0;e<a.ctx.typeStack.length;e++){const t=a.ctx.typeStack[e],n=a.ctx.typeStack[e+1],r=Array.isArray(t)?t[0]:t,i=Array.isArray(n)?n[1]:void 0;let o=!1;if("repeated"===r.kind?e!==a.ctx.typeStack.length-1&&(r.name&&s.push({kind:"key",name:r.name}),s.push({kind:"index",name:`(${void 0!==i?`${i}:`:""}repeated)`}),o=!0):"sequence"===r.kind&&e!==a.ctx.typeStack.length-1&&(r.name&&s.push({kind:"key",name:r.name}),s.push({kind:"index",name:`(${void 0!==i?`${i}:`:""}sequence)`}),o=!0),!o)if(r.name)if(0===e)r.typeName?s.push({kind:"type",name:r.typeName}):s.push({kind:"key",name:r.name});else{const e=s.length;e&&"type"===s[e-1].kind?s.push({kind:"key",name:r.name}):r.typeName?s.push({kind:"type",name:r.typeName}):s.push({kind:"key",name:r.name})}else r.typeName&&s.push({kind:"type",name:r.typeName})}let d="";for(let e=0;e<s.length;e++){const t=s[e];if(d+=t.name,e+1===s.length)break;d+="type"===t.kind?":":"."}let m="",f="";for(let e=s.length-1;0<=e;e--){const t=s[e];if("type"===t.kind){if(0!==e&&e===s.length-1){if("index"===s[e-1].kind)continue}m=t.name;for(let t=e+1;t<s.length;t++){const e=s[t];if("key"===e.kind){f=e.name;break}}break}}if(!m)for(let e=a.ctx.typeStack.length-1;0<=e;e--){const t=a.ctx.typeStack[e],n=Array.isArray(t)?t[0]:t;n.typeName&&(m=n.typeName)}const g=a.ctx.typeStack.slice().reverse().map(e=>Array.isArray(e)?e[0]:e).find(e=>"repeated"===e.kind||"spread"===e.kind||"optional"===e.kind)||null;const h={dataPath:d,topRepeatable:g,parentType:m,entryName:f},b={},y=[n];e===r.a.RepeatQtyUnmatched&&g&&y.unshift(g);for(const e of y){if(l(e.minValue,!1)&&(b.minValue=e.minValue),l(e.maxValue,!1)&&(b.maxValue=e.maxValue),l(e.greaterThanValue,!1)&&(b.greaterThanValue=e.greaterThanValue),l(e.lessThanValue,!1)&&(b.lessThanValue=e.lessThanValue),l(e.minLength,!1)&&(b.minLength=e.minLength),l(e.maxLength,!1)&&(b.maxLength=e.maxLength),l(e.pattern,!1)){const t=e.pattern;b.pattern=`/${t.source}/${t.flags}`}l(e.min,!1)&&(b.min=e.min),l(e.max,!1)&&(b.max=e.max)}const k={};switch(typeof t){case"number":case"bigint":case"string":case"boolean":case"undefined":k.value=t;break;case"object":null===t&&(k.value=t)}n.messageId?a.ctx.errors.push(Object.assign({code:`${n.messageId}-${o[e]}`,message:p(n.message?n.message:u(e,...i),t,n,a,h),dataPath:d,constraints:b},k)):n.message?a.ctx.errors.push(Object.assign({code:`${o[e]}`,message:p(n.message,t,n,a,h),dataPath:d,constraints:b},k)):a.ctx.errors.push(Object.assign({code:`${o[e]}`,message:p(u(e,...i),t,n,a,h),dataPath:d,constraints:b},k))}function f(e,t,n,r){try{r.ctx.typeStack.push(n),m(e,t,n[0],r)}finally{r.ctx.typeStack.pop()}}var g=n(9);const h={tryParse:e=>({value:e}),evaluateFormula:e=>e,compare:(e,t)=>{const n=typeof e;if(n!==typeof t)return NaN;switch(n){case"number":return Number.isNaN(e)&&Number.isNaN(t)?0:e-t;default:return e===t?0:e>t?1:e<t?-1:NaN}},doCast:!1};function b(e,t,n){if(t.stereotype&&n.stereotypes){if(n.stereotypes.has(t.stereotype)){const r=n.stereotypes.get(t.stereotype),a=r.tryParse(e);return a?{value:a.value,stereotype:r}:null}throw new Error(`Undefined stereotype is specified: ${t.stereotype}`)}return!1}function y(e,t){switch(e){case"number":if("number"==typeof t)return t;{const e=Number.parseFloat(String(t));return Number.isNaN(e)?Number(null!=t?t:0):e}case"integer":if("number"==typeof t&&Math.trunc(t)===t)return t;{let e=Number.parseFloat(String(t));return Number.isNaN(e)&&(e=Number(null!=t?t:0)),Math.trunc(e)}case"bigint":try{return BigInt(null!=t?t:0)}catch(e){return NaN}case"string":return String(t);case"boolean":return Boolean(t);case"undefined":return;case"null":return null;default:return t}}function k(e,t,n,s){try{switch(n.typeStack.push("number"==typeof s||"string"==typeof s?[t,s]:t),t.kind){case"never":return function(e,t,n){return m(r.a.TypeUnmatched,e,t,{ctx:n}),null}(e,t,n);case"any":case"unknown":return function(e,t,n){let r=b(e,t,n);if(null===r)return null;!1===r&&(r={value:e,stereotype:h});const a=r.stereotype;return{value:n.mapper?n.mapper(a.doCast?r.value:e,t):a.doCast?r.value:e}}(e,t,n);case"primitive":return function(e,t,n){const a=t.forceCast?y(t.primitiveName,e):e;if("null"===t.primitiveName){if(null!==a)return m(r.a.TypeUnmatched,e,t,{ctx:n}),null}else if("integer"===t.primitiveName){if("number"!=typeof a)return m(r.a.TypeUnmatched,e,t,{ctx:n}),null;if(Math.trunc(a)!==a)return m(r.a.TypeUnmatched,e,t,{ctx:n}),null}else if(typeof a!==t.primitiveName)return m(r.a.TypeUnmatched,e,t,{ctx:n}),null;let i=b(a,t,n);if(null===i)return null;!1===i&&(i={value:a,stereotype:(t.forceCast,h)});const s=i.value,o=i.stereotype;let c=!1,u=!1;switch(typeof t.minValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.minValue))<0&&(u||m(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.maxValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.maxValue))>0&&(u||m(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.greaterThanValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.greaterThanValue))<=0&&(u||m(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}switch(typeof t.lessThanValue){case"number":case"string":o.compare(s,o.evaluateFormula(t.lessThanValue))>=0&&(u||m(r.a.ValueRangeUnmatched,e,t,{ctx:n}),u=!0,c=!0)}let l=!1;switch(typeof t.minLength){case"number":("string"!=typeof s||s.length<t.minLength)&&(l||m(r.a.ValueLengthUnmatched,e,t,{ctx:n}),l=!0,c=!0)}switch(typeof t.maxLength){case"number":("string"!=typeof s||s.length>t.maxLength)&&(l||m(r.a.ValueLengthUnmatched,e,t,{ctx:n}),l=!0,c=!0)}return t.pattern&&("string"==typeof s&&t.pattern.test(s)||(m(r.a.ValuePatternUnmatched,e,t,{ctx:n}),c=!0)),c?null:{value:n.mapper?n.mapper(o.doCast?i.value:a,t):o.doCast?i.value:a}}(e,t,n);case"primitive-value":return function(e,t,n){const a=t.forceCast?y(typeof t.value,e):e;let i=b(a,t,n);if(null===i)return null;!1===i&&(i={value:a,stereotype:(t.forceCast,h)});const s=i.stereotype,o=0===s.compare(i.value,s.evaluateFormula(t.value))?{value:n.mapper?n.mapper(s.doCast?i.value:a,t):s.doCast?i.value:a}:null;return o||m(r.a.ValueUnmatched,e,t,{ctx:n}),o}(e,t,n);case"repeated":return function(e,t,n){if(!Array.isArray(e))return m(r.a.TypeUnmatched,e,t,{ctx:n}),null;if("number"==typeof t.min&&e.length<t.min)return m(r.a.RepeatQtyUnmatched,e,t,{ctx:n}),null;if("number"==typeof t.max&&e.length>t.max)return m(r.a.RepeatQtyUnmatched,e,t,{ctx:n}),null;const a=[];for(let r=0;r<e.length;r++){const i=k(e[r],t.repeated,n,r);if(!i)return null;a.push(i.value)}return{value:a}}(e,t,n);case"sequence":return function(e,t,n){if(!Array.isArray(e))return m(r.a.TypeUnmatched,e,t,{ctx:n}),null;let a=0,i=0,s=0,o=!1;const c=(t,a)=>"number"==typeof t.min&&s<t.min?(f(0===s?r.a.TypeUnmatched:r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null):"number"==typeof t.max&&s>t.max?(f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null):t,u=(t,a)=>{if(0===s)o=!0;else{if(o)return f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null;if(s>1)return f(r.a.RepeatQtyUnmatched,e,[t,a],{ctx:n}),null}return t},l=[];for(;a<e.length&&i<t.sequence.length;){const r=t.sequence[i];if("spread"===r.kind){const t=n.errors.length,o=k(e[a],r.spread,n,a);if(o)l.push(o.value),a++,s++;else{if(n.errors.length=t,!c(r,a))return null;s=0,i++}}else if("optional"===r.kind){const t=n.errors.length,o=k(e[a],r.optional,n,a);if(o)l.push(o.value),a++,s++;else{if(n.errors.length=t,!u(r,a))return null;s=0,i++}}else{const t=k(e[a],r,n,a);if(!t)return null;l.push(t.value),a++,i++}}for(;i<t.sequence.length;){const o=t.sequence[i];if("spread"===o.kind){if(!c(o,a))return null;s=0,i++}else{if("optional"!==o.kind)return f(r.a.RepeatQtyUnmatched,e,[o,a],{ctx:n}),null;if(!u(o,a))return null;s=0,i++}}const d=e.length===a?{value:l}:null;return d||m(r.a.SequenceUnmatched,e,t,{ctx:n}),d}(e,t,n);case"one-of":return function(e,t,n){for(const r of t.oneOf){const t=n.errors.length,a=k(e,r,n);if(a)return a;n.errors.length=t}return m(r.a.TypeUnmatched,e,t,{ctx:n}),null}(e,t,n);case"enum":return function(e,t,n){for(const r of t.values)if(e===r[1])return{value:n.mapper?n.mapper(e,t):e};return m(r.a.ValueUnmatched,e,t,{ctx:n}),null}(e,t,n);case"object":return function(e,t,n){let s=Array.isArray(e)?[...e]:Object.assign({},e);const o=t.members.slice().reverse();for(const i of t.members)if(t.members.find(e=>e[0]===i[0])!==o.find(e=>e[0]===i[0]))throw m(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Duplicated member is found: ${i[0]} in ${t.name||"(unnamed)"}`,t,n);if(null===e||"object"!=typeof e){if(m(r.a.TypeUnmatched,e,t,{ctx:n}),!n||!n.checkAll)return null;s=null}else{const a=new Set;if((n.noAdditionalProps||t.additionalProps&&0<t.additionalProps.length)&&!Array.isArray(e))for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.add(t);if(n.noAdditionalProps&&Array.isArray(e)&&0<e.length){if(0===(t.additionalProps||[]).filter(e=>e[0].includes("number")).length){if(m(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps","[number]"]]}),!n||!n.checkAll)return null;s=null}}for(const o of t.members)if(a.delete(o[0]),Object.prototype.hasOwnProperty.call(e,o[0])){const t=k(e[o[0]],"optional"===o[1].kind?Object.assign(Object.assign({},o[1].optional),{name:o[0],message:o[1].message,messages:o[1].messages,messageId:o[1].messageId}):o[1],n);if(t){if(s){if(Object(i.f)(s,o[0]))continue;s[o[0]]=t.value}}else{if(!n||!n.checkAll)return null;s=null}}else if("optional"!==o[1].kind){if(f(r.a.Required,e,[o[1],void 0],{ctx:n}),!n||!n.checkAll)return null;s=null}if(t.additionalProps&&0<t.additionalProps.length){for(const o of function*(){for(const e of a.values())yield e;if(Array.isArray(e))for(let t=0;t<e.length;t++)yield String(t)}()){let c=!1;const u=[];for(const e of t.additionalProps)for(const t of e[0]){const n=e[1];"number"===t?i.d.test(o)&&u.push(n):"string"===t?u.push(n):t.test(o)&&u.push(n),"optional"===n.kind&&(c=!0)}if(0===u.length){if(c)continue;if(m(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps",o]]}),n&&n.checkAll){s=null;continue}return null}a.delete(o);let l=!1;const d=n.errors.length;for(const t of u){const r=k(e[o],"optional"===t.kind?Object.assign(Object.assign({},t.optional),{message:t.message,messages:t.messages,messageId:t.messageId,name:o}):Object.assign(Object.assign({},t),{name:o}),n);if(r){if(s){if(l=!1,n.errors.length=d,Object(i.f)(s,o))continue;s[o]=r.value}break}l=!0}if(l){if(!n||!n.checkAll)return null;s=null}}}if(n.noAdditionalProps&&0<a.size){if(m(r.a.AdditionalPropUnmatched,e,t,{ctx:n,substitutions:[["addtionalProps",Array.from(a.values()).join(", ")]]}),!n||!n.checkAll)return null;s=null}}return s?{value:n&&n.mapper?n.mapper(s,t):s}:null}(e,t,n);case"symlink":if(n.schema)return k(e,Object(g.c)(n.schema,t,{nestLevel:0,symlinkStack:[]}),n);throw m(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Unresolved symbol '${t.symlinkTargetName}' is appeared.`,t,n);case"operator":if(n.schema)return k(e,Object(g.c)(n.schema,t,{nestLevel:0,symlinkStack:[]}),n);throw m(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Unresolved type operator is found: ${t.operator}`,t,n);case"spread":case"optional":throw m(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Unexpected type assertion: ${t.kind}`,t,n);default:throw m(r.a.InvalidDefinition,e,t,{ctx:n}),new a.a(`Unknown type assertion: ${t.kind}`,t,n)}}finally{n.typeStack.pop()}}function v(e,t,n){const r=Object.assign({errors:[],typeStack:[]},n||{});try{return k(e,t,r)}finally{n&&(n.errors=r.errors)}}function j(e,t){var n;if(e.has(t))return null===(n=e.get(t))||void 0===n?void 0:n.ty;throw new Error(`Undefined type name is referred: ${t}`)}n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return j}))},,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n(8),a=n(4),i=n(10);function s(e,t){switch(t.kind){case"object":{const n=Array.isArray(e)?[]:{},r=new Set;if(!Array.isArray(e))for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.add(t);for(const a of t.members)Object.hasOwnProperty.call(e,a[0])&&(r.delete(a[0]),n[a[0]]=e[a[0]]);if(t.additionalProps&&0<t.additionalProps.length){for(const t of function*(){for(const e of r.values())yield e;if(Array.isArray(e))for(let t=0;t<e.length;t++)yield String(t)}())n[t]=e[t]}return n}default:return e}}function o(e,t,n){switch(t.kind){case"never":throw new r.a(`Type unmatched: ${t.kind}`,t,n);case"any":case"unknown":case"primitive":case"primitive-value":case"repeated":case"sequence":case"one-of":case"enum":case"object":{const a=Object(i.b)(e,t,n);if(a)return a.value;throw new r.a("Validation failed.",t,n)}case"spread":case"optional":case"symlink":case"operator":throw new r.a(`Unexpected type assertion: ${t.kind}`,t,n);default:throw new r.a(`Unknown type assertion: ${t.kind}`,t,n)}}function c(e,t,n){const r=Object.assign(Object.assign({errors:[],typeStack:[]},n||{}),{mapper:s});try{return o(e,t,r)}finally{n&&(n.errors=r.errors)}}function u(e,t,n,r){return function e(t,n){if(null==t)return n;switch(typeof t){case"object":if(Array.isArray(t))return[...n];{const r=Object.assign({},t);for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){if(Object(a.f)(r,t))continue;r[t]=e(r[t],n[t])}return r}default:return n}}(e,c(t,n,Object.assign({errors:[],typeStack:[]},r||{})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(4);const a=/^([-+@])([0-9]+)(yr|mo|day|days|hr|min|sec|ms)$/;class i extends Date{constructor(e,t,n,a,i,s,o){if(super(),void 0!==e)if("string"!=typeof e)this.setUTCFullYear(e),this.setUTCMonth("number"==typeof t?t:0),this.setUTCDate("number"==typeof n?n:1),this.setUTCHours("number"==typeof a?a:0),this.setUTCMinutes("number"==typeof i?i:0),this.setUTCSeconds("number"==typeof s?s:0),this.setUTCMilliseconds("number"==typeof o?o:0);else if(r.c.test(e))this.setTime(Date.parse(e));else if(r.a.test(e)){const t=new Date(e);this.setTime(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))}else if(r.b.test(e)){const t=new Date(e);this.setTime(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()))}else this.setTime(NaN)}getFullYear(){return this.getUTCFullYear()}getMonth(){return this.getUTCMonth()}getDate(){return this.getUTCDate()}getHours(){return this.getUTCHours()}getMinutes(){return this.getUTCMinutes()}getSeconds(){return this.getUTCSeconds()}getMilliseconds(){return this.getUTCMilliseconds()}}class s extends Date{constructor(e,t,n,a,i,s,o){if(super(),void 0!==e)if("string"!=typeof e)this.setFullYear(e),this.setMonth("number"==typeof t?t:0),this.setDate("number"==typeof n?n:1),this.setHours("number"==typeof a?a:0),this.setMinutes("number"==typeof i?i:0),this.setSeconds("number"==typeof s?s:0),this.setMilliseconds("number"==typeof o?o:0);else if(r.c.test(e))this.setTime(Date.parse(e));else if(r.a.test(e)){const t=new Date(e),n=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate());this.setTime(n.getTime())}else if(r.b.test(e)){const t=new Date(e);this.setTime(t.getTime())}else this.setTime(NaN)}}function o(e,t){const n=`evaluateFormula: invalid parameter ${t}`;if("string"!=typeof t)throw new Error(n);if(t.startsWith("=")){const i=t.slice(1).split(" ");let s=new e;const o=new e(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes()),c=new e(s.getFullYear(),s.getMonth(),s.getDate());s=o;for(const t of i)switch(t){case"current":case"now":s=o;break;case"today":s=c;break;case"first-date-of-yr":s=new e(s.getFullYear(),0,1);break;case"last-date-of-yr":s=new e(s.getFullYear(),11,31);break;case"first-date-of-mo":s=new e(s.getFullYear(),s.getMonth(),1);break;case"last-date-of-mo":s=new e(s.getFullYear(),s.getMonth()+1,0);break;default:{const i=a.exec(t);if(i){let t=Number.parseInt(i[2],10);switch(i[3]){case"yr":switch(i[1]){case"@":break;case"+":t=s.getFullYear()+t;break;case"-":t=s.getFullYear()-t}s=new e(t,s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());break;case"mo":switch(i[1]){case"@":t-=1;break;case"+":t=s.getMonth()+t;break;case"-":t=s.getMonth()-t}s=new e(s.getFullYear(),t,s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());break;case"day":case"days":switch(i[1]){case"@":break;case"+":t=s.getDate()+t;break;case"-":t=s.getDate()-t}s=new e(s.getFullYear(),s.getMonth(),t,s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds());break;case"hr":switch(i[1]){case"@":break;case"+":t=s.getHours()+t;break;case"-":t=s.getHours()-t}s=new e(s.getFullYear(),s.getMonth(),s.getDate(),t,s.getMinutes(),s.getSeconds(),s.getMilliseconds());break;case"min":switch(i[1]){case"@":break;case"+":t=s.getMinutes()+t;break;case"-":t=s.getMinutes()-t}s=new e(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),t,s.getSeconds(),s.getMilliseconds());break;case"sec":switch(i[1]){case"@":break;case"+":t=s.getSeconds()+t;break;case"-":t=s.getSeconds()-t}s=new e(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),t,s.getMilliseconds());break;case"ms":switch(i[1]){case"@":break;case"+":t=s.getMilliseconds()+t;break;case"-":t=s.getMilliseconds()-t}s=new e(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),t);break;default:throw new Error(n)}}else{if(!(r.a.test(t)||r.c.test(t)||r.b.test(t)))throw new Error(n);s=new e(t)}}}return s}if(!r.a.test(t))throw new Error(n);return new e(t)}const c={tryParse:e=>"string"==typeof e&&r.a.test(e)?{value:new i(e).getTime()}:null,evaluateFormula:e=>{const t=o(i,e);return new i(t.getFullYear(),t.getMonth(),t.getDate()).getTime()},compare:(e,t)=>e-t,doCast:!1},u={tryParse:e=>"string"==typeof e&&(r.c.test(e)||r.b.test(e))?{value:new i(e).getTime()}:null,evaluateFormula:e=>o(i,e).getTime(),compare:(e,t)=>e-t,doCast:!1},l=[["date",c],["lcdate",Object.assign(Object.assign({},c),{tryParse:e=>"string"==typeof e&&r.a.test(e)?{value:new s(e).getTime()}:null,evaluateFormula:e=>{const t=o(s,e);return new s(t.getFullYear(),t.getMonth(),t.getDate()).getTime()}})],["datetime",u],["lcdatetime",Object.assign(Object.assign({},u),{tryParse:e=>"string"==typeof e&&(r.c.test(e)||r.b.test(e))?{value:new s(e).getTime()}:null,evaluateFormula:e=>o(s,e).getTime()})]]},,,,,function(e,t,n){e.exports=n(19)},function(e,t,n){"use strict";n.r(t),n.d(t,"stereotypes",(function(){return c}));var r=n(13),a=n(2);n.d(t,"ErrorTypes",(function(){return a.a}));var i=n(5);n.d(t,"picked",(function(){return i.i})),n.d(t,"omit",(function(){return i.e})),n.d(t,"partial",(function(){return i.h})),n.d(t,"intersect",(function(){return i.c})),n.d(t,"oneOf",(function(){return i.f})),n.d(t,"subtract",(function(){return i.p})),n.d(t,"primitive",(function(){return i.j})),n.d(t,"regexpPatternStringType",(function(){return i.l})),n.d(t,"primitiveValue",(function(){return i.k})),n.d(t,"optional",(function(){return i.g})),n.d(t,"repeated",(function(){return i.m})),n.d(t,"sequenceOf",(function(){return i.n})),n.d(t,"spread",(function(){return i.o})),n.d(t,"enumType",(function(){return i.b})),n.d(t,"objectType",(function(){return i.d})),n.d(t,"derived",(function(){return i.a})),n.d(t,"symlinkType",(function(){return i.q})),n.d(t,"withName",(function(){return i.C})),n.d(t,"withTypeName",(function(){return i.G})),n.d(t,"withOriginalTypeName",(function(){return i.D})),n.d(t,"withDocComment",(function(){return i.r})),n.d(t,"withRange",(function(){return i.E})),n.d(t,"withMinValue",(function(){return i.z})),n.d(t,"withMaxValue",(function(){return i.x})),n.d(t,"withGreaterThan",(function(){return i.t})),n.d(t,"withLessThan",(function(){return i.u})),n.d(t,"withMinLength",(function(){return i.y})),n.d(t,"withMaxLength",(function(){return i.w})),n.d(t,"withMatch",(function(){return i.v})),n.d(t,"withStereotype",(function(){return i.F})),n.d(t,"withForceCast",(function(){return i.s})),n.d(t,"withMsg",(function(){return i.A})),n.d(t,"withMsgId",(function(){return i.B}));var s=n(10);n.d(t,"validateRoot",(function(){return s.c})),n.d(t,"validate",(function(){return s.b})),n.d(t,"getType",(function(){return s.a}));var o=n(12);n.d(t,"pickRoot",(function(){return o.c})),n.d(t,"pick",(function(){return o.b})),n.d(t,"patch",(function(){return o.a}));const c=[...r.a]}])}));
//# sourceMappingURL=tynder-rt.min.js.map