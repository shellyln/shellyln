var liyad=function(n){var r={};function e(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=n,e.c=r,e.d=function(n,r,t){e.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:t})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,r){if(1&r&&(n=e(n)),8&r)return n;if(4&r&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(e.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&r&&"string"!=typeof n)for(var o in n)e.d(t,o,function(r){return n[r]}.bind(null,o));return t},e.n=function(n){var r=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(r,"a",r),r},e.o=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)},e.p="",e(e.s=25)}([function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function o(n,r){return n&&"object"===(void 0===n?"undefined":t(n))&&Object.prototype.hasOwnProperty.call(n,"symbol")?void 0!==r?n.symbol===r?n:null:n:null}r.quote=function(n,r){return[{symbol:n.config.reservedNames.quote},r]},r.isQuoted=function(n,r){if(Array.isArray(r)&&0<r.length){var e=o(r);if(e&&e.symbol===n.config.reservedNames.quote)return!0}return!1},r.isSymbol=o},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$$toNumber=r.$toNumber=r.$$toString=r.$toString=r.$$isInteger=r.$isInteger=r.$$isFinite=r.$isFinite=r.$$isNaN=r.$isNaN=r.$$isNumber=r.$isNumber=r.$$isString=r.$isString=r.$$isList=r.$isList=r.$$ge=r.$ge=r.$$gt=r.$gt=r.$$le=r.$le=r.$$lt=r.$lt=r.$$ambiguousNotEq=r.$ambiguousNotEq=r.$$ambiguousEq=r.$ambiguousEq=r.$$or=r.$or=r.$$and=r.$and=r.$$not=r.$not=r.$$boolean=r.$boolean=r.$__set=r.$__let=r.$__get=r.$__for=r.$__repeat=r.$__doUntil=r.$__until=r.$__doWhile=r.$__while=r.$__cond=r.$__if=r.$__defun=r.$__lambda=r.$__globalScope=r.$__scope=r.$$list=r.$list=r.$$notEq=r.$notEq=r.$$eq=r.$eq=r.$$atom=r.$atom=r.$$firstAndSecond=r.$firstAndSecond=r.$$rest=r.$rest=r.$$second=r.$second=r.$$first=r.$first=r.$$cons=r.$cons=r.$$cdr=r.$cdr=r.$$car=r.$car=void 0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},o=e(0),a=e(2);function l(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}var u=r.$car=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(0,1),o=1===t.length&&Array.isArray(t)?t.slice(0,1):[];return 1===o.length?o[0]:null}},i=(r.$$car=u(null,null),r.$cdr=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(0,1),o=1===t.length&&Array.isArray(t)?r.slice(1):[];return 0===o.length&&(o=null),o}}),f=(r.$$cdr=i(null,null),r.$cons=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(0,1);t=1===t.length?t[0]:null;var o=r.slice(1,2);return o=1===o.length?o[0]:null,Array.isArray(o)?(o.unshift(t),o):null===o?[t]:{car:t,cdr:o}}}),c=(r.$$cons=f(null,null),r.$first=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(0,1);return 1===t.length?t[0]:null}}),s=r.$$first=c(null,null),v=r.$second=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(1,2);return 1===t.length?t[0]:null}},y=r.$$second=v(null,null),$=r.$rest=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(1);return 0<t.length?t:null}},m=(r.$$rest=$(null,null),r.$firstAndSecond=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.slice(0,1);t=1===t.length?t[0]:null;var o=r.slice(1,2);return{car:t,cdr:o=1===o.length?o[0]:null}}}),d=r.$$firstAndSecond=m(null,null),p=r.$atom=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var a=r.slice(0,1);if(null===(a=1===a.length?a[0]:null)||void 0===a)return!0;if(Array.isArray(a))return 0===a.length;switch(void 0===a?"undefined":t(a)){case"number":case"string":case"function":return!0;case"object":return(0,o.isSymbol)(a)}return!1}},b=(r.$$atom=p(null,null),r.$eq=function(n,r){return function(){var n=d.apply(void 0,arguments);return n.car===n.cdr}}),g=(r.$$eq=b(null,null),r.$notEq=function(n,r){return function(){var n=d.apply(void 0,arguments);return n.car!==n.cdr}}),h=(r.$$notEq=g(null,null),r.$list=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.slice(0)}}),_=(r.$$list=h(null,null),r.$__scope=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var u=s.apply(void 0,e),i=y.apply(void 0,e),f=d.apply(void 0,l(e.slice(2))),c=f.car,v=f.cdr,$=null;try{var m={};if(Array.isArray(c)){var p=!0,b=!1,g=void 0;try{for(var h,_=c[Symbol.iterator]();!(p=(h=_.next()).done);p=!0){var S=h.value;if(Array.isArray(S)){var w=d.apply(void 0,l(S)),A=(0,o.isSymbol)(w.car);m[A?A.symbol:String(w.car)]=(0,a.evaluate)(n,w.cdr)}else{var N=(0,o.isSymbol)(S);m[N?N.symbol:String(S)]=null}}}catch(n){b=!0,g=n}finally{try{!p&&_.return&&_.return()}finally{if(b)throw g}}}if((0,a.installScope)(n,m,u),4<e.length)if(i){$=[];var x=!0,O=!1,j=void 0;try{for(var E,M=e.slice(3)[Symbol.iterator]();!(x=(E=M.next()).done);x=!0){var q=E.value;$.push((0,a.evaluate)(n,q))}}catch(n){O=!0,j=n}finally{try{!x&&M.return&&M.return()}finally{if(O)throw j}}}else{var P=!0,k=!1,I=void 0;try{for(var X,C=e.slice(3)[Symbol.iterator]();!(P=(X=C.next()).done);P=!0){var T=X.value;$=(0,a.evaluate)(n,T)}}catch(n){k=!0,I=n}finally{try{!P&&C.return&&C.return()}finally{if(k)throw I}}}else $=(0,a.evaluate)(n,v)}finally{(0,a.uninstallScope)(n)}return $}}),S=(r.$__globalScope=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var o=s.apply(void 0,e),u=d.apply(void 0,l(e.slice(2))),i=(u.car,u.cdr),f=null;try{if((0,a.installScope)(n,(0,a.getGlobalScope)(n),!0),2<e.length)if(o){f=[];var c=!0,v=!1,y=void 0;try{for(var $,m=e.slice(1)[Symbol.iterator]();!(c=($=m.next()).done);c=!0){var p=$.value;f.push((0,a.evaluate)(n,p))}}catch(n){v=!0,y=n}finally{try{!c&&m.return&&m.return()}finally{if(v)throw y}}}else{var b=!0,g=!1,h=void 0;try{for(var _,S=e.slice(1)[Symbol.iterator]();!(b=(_=S.next()).done);b=!0){var w=_.value;f=(0,a.evaluate)(n,w)}}catch(n){g=!0,h=n}finally{try{!b&&S.return&&S.return()}finally{if(g)throw h}}}else f=(0,a.evaluate)(n,i)}finally{(0,a.uninstallScope)(n)}return f}},r.$__lambda=function(n,r){return function(){for(var e=arguments.length,t=Array(e),u=0;u<e;u++)t[u]=arguments[u];if(t.length<2)throw new Error("[SX] $__lambda: Invalid argument length: expected: 3 / args: "+t.length+".");var i=t[0];if(!Array.isArray(i))throw new Error("[SX] $__lambda: Invalid argument(s): args[0] is not array.");var f=!0,c=!1,s=void 0;try{for(var v,y=i[Symbol.iterator]();!(f=(v=y.next()).done);f=!0){var $=v.value;if(!(0,o.isSymbol)($))throw new Error("[SX] $__lambda: Invalid argument(s): item(s) of args[0] is not symbol.")}}catch(n){c=!0,s=n}finally{try{!f&&y.return&&y.return()}finally{if(c)throw s}}var m=t.slice(1);n.config.enableTailCallOptimization&&(m=(0,a.optimizeTailCall)(n,i,m));return function e(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];if(o.length<i.length)throw new Error("[SX] func call: Actual args too short: actual "+o.length+" / formal "+i.length+".");return _(n,r).apply(void 0,[!1,!1,[[n.config.reservedNames.self,e]].concat(l(i.map(function(n,r){return[n.symbol,o[r]]})))].concat(l(m)))}}}),w=(r.$__defun=function(n,r){return function(){for(var e=arguments.length,t=Array(e),o=0;o<e;o++)t[o]=arguments[o];var a=s.apply(void 0,t);if(t.length<3)throw new Error("[SX] $__defun: Invalid argument length: expected: 3 / args: "+t.length+".");var u=S(n,r).apply(void 0,l(t.slice(1)));return n.funcMap.set(a.symbol,{name:a.symbol,fn:function(n,r){return u}}),u}},r.$__if=function(n,r){return function(){var r=s.apply(void 0,arguments);return A(r)?(0,a.evaluate)(n,arguments.length<=1?void 0:arguments[1]):(0,a.evaluate)(n,arguments.length<=2?void 0:arguments[2])}},r.$__cond=function(n,r){return function(){for(var r=0;r<arguments.length-1;r+=2){var e=arguments.length<=r?void 0:arguments[r],t=arguments.length<=r+1?void 0:arguments[r+1];if(A((0,a.evaluate)(n,e)))return(0,a.evaluate)(n,t)}return null}},r.$__while=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var o=s.apply(void 0,e),l=e.slice(1),u=null;A((0,a.evaluate)(n,o));){var i=!0,f=!1,c=void 0;try{for(var v,y=l[Symbol.iterator]();!(i=(v=y.next()).done);i=!0){var $=v.value;u=(0,a.evaluate)(n,$)}}catch(n){f=!0,c=n}finally{try{!i&&y.return&&y.return()}finally{if(f)throw c}}}return u}},r.$__doWhile=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var o=s.apply(void 0,e),l=e.slice(1),u=null;do{var i=!0,f=!1,c=void 0;try{for(var v,y=l[Symbol.iterator]();!(i=(v=y.next()).done);i=!0){var $=v.value;u=(0,a.evaluate)(n,$)}}catch(n){f=!0,c=n}finally{try{!i&&y.return&&y.return()}finally{if(f)throw c}}}while(A((0,a.evaluate)(n,o)));return u}},r.$__until=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];for(var o=s.apply(void 0,e),l=e.slice(1),u=null;x((0,a.evaluate)(n,o));){var i=!0,f=!1,c=void 0;try{for(var v,y=l[Symbol.iterator]();!(i=(v=y.next()).done);i=!0){var $=v.value;u=(0,a.evaluate)(n,$)}}catch(n){f=!0,c=n}finally{try{!i&&y.return&&y.return()}finally{if(f)throw c}}}return u}},r.$__doUntil=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var o=s.apply(void 0,e),l=e.slice(1),u=null;do{var i=!0,f=!1,c=void 0;try{for(var v,y=l[Symbol.iterator]();!(i=(v=y.next()).done);i=!0){var $=v.value;u=(0,a.evaluate)(n,$)}}catch(n){f=!0,c=n}finally{try{!i&&y.return&&y.return()}finally{if(f)throw c}}}while(x((0,a.evaluate)(n,o)));return u}},r.$__repeat=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var l=(0,o.isSymbol)(s.apply(void 0,e));if(!l)throw new Error("[SX] $__repeat: Invalid argument(s): item(s) of args[0] is not symbol.");for(var u=(0,a.resolveValueSymbolScope)(n,l,!1),i=Number(y.apply(void 0,e)),f=e.slice(2),c=null,v=0;v<i;v++){u[l.symbol]=v;var $=!0,m=!1,d=void 0;try{for(var p,b=f[Symbol.iterator]();!($=(p=b.next()).done);$=!0){var g=p.value;c=(0,a.evaluate)(n,g)}}catch(n){m=!0,d=n}finally{try{!$&&b.return&&b.return()}finally{if(m)throw d}}}return c}},r.$__for=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var l=(0,o.isSymbol)(s.apply(void 0,e));if(!l)throw new Error("[SX] $__for: Invalid argument(s): item(s) of args[0] is not symbol.");var u=(0,a.resolveValueSymbolScope)(n,l,!1),i=Number(y.apply(void 0,e));if(!Array.isArray(i))throw new Error("[SX] $__for: Invalid argument(s): item(s) of args[1] is not array.");var f=e.slice(2),c=null,v=!0,$=!1,m=void 0;try{for(var d,p=i[Symbol.iterator]();!(v=(d=p.next()).done);v=!0){var b=d.value;u[l.symbol]=b;var g=!0,h=!1,_=void 0;try{for(var S,w=f[Symbol.iterator]();!(g=(S=w.next()).done);g=!0){var A=S.value;c=(0,a.evaluate)(n,A)}}catch(n){h=!0,_=n}finally{try{!g&&w.return&&w.return()}finally{if(h)throw _}}}}catch(n){$=!0,m=n}finally{try{!v&&p.return&&p.return()}finally{if($)throw m}}return c}},r.$__get=function(n,r){return function(){for(var r=arguments.length,e=Array(r),l=0;l<r;l++)e[l]=arguments[l];if(0===e.length)return null;for(var u=(0,o.isSymbol)(e[0]),i=(0,a.resolveValueSymbol)(n,u||{symbol:String(e[0])}),f=1;f<e.length;f++)switch(t(e[f])){case"object":if(!(u=(0,o.isSymbol)(e[f])))throw new Error("[SX] $__get: Invalid argument(s): invalid name path.");i=i[(0,a.evaluate)(n,u)];break;case"string":i=i[e[f]];break;case"number":i=e[f]>=0?i[e[f]]:i[i.length+e[f]];break;default:throw new Error("[SX] $__get: Invalid argument(s): invalid name path.")}return i}},r.$__let=function(n,r){return function(){if(arguments.length<2)return null;var r=(0,o.isSymbol)(s.apply(void 0,arguments));if(!r){if("string"!=typeof(arguments.length<=0?void 0:arguments[0]))throw new Error("[SX] $__let: Invalid argument(s): invalid name.");r={symbol:arguments.length<=0?void 0:arguments[0]}}return(0,a.resolveValueSymbolScope)(n,r,!1)[r.symbol]=arguments.length<=1?void 0:arguments[1],arguments.length<=1?void 0:arguments[1]}},r.$__set=function(n,r){return function(){if(arguments.length<2)return null;var r=[];Array.isArray(arguments.length<=0?void 0:arguments[0])?r=arguments.length<=0?void 0:arguments[0]:r.push(arguments.length<=0?void 0:arguments[0]);var e=(0,o.isSymbol)(r[0]);if(!e){if("string"!=typeof r[0])throw new Error("[SX] $__set: Invalid argument(s): invalid name.");e={symbol:r[0]}}var l=(0,a.resolveValueSymbolScope)(n,e,!0);if(null===l)throw new Error("[SX] $__set: Unresolved symbol: "+e.symbol+".");for(var u=0;u<r.length-1;u++)switch(t(r[u])){case"object":if(!(e=(0,o.isSymbol)(r[u])))throw new Error("[SX] $__set: Invalid argument(s): invalid name.");l=l[(0,a.evaluate)(n,e)];break;case"string":l=l[r[u]];break;case"number":l=r[u]>=0?l[r[u]]:l[l.length+r[u]];break;default:throw new Error("[SX] $__set: Invalid argument(s): invalid name.")}for(;u<r.length;u++)switch(t(r[u])){case"object":if(!(e=(0,o.isSymbol)(r[u])))throw new Error("[SX] $__set: Invalid argument(s): invalid name.");l[(0,a.evaluate)(n,e)]=arguments.length<=1?void 0:arguments[1];break;case"string":l[r[u]]=arguments.length<=1?void 0:arguments[1];break;case"number":r[u]>=0?l[r[u]]=arguments.length<=1?void 0:arguments[1]:l[l.length+r[u]]=arguments.length<=1?void 0:arguments[1];break;default:throw new Error("[SX] $__set: Invalid argument(s): invalid name.")}return arguments.length<=1?void 0:arguments[1]}},r.$boolean=function(n,r){return function(){var n=s.apply(void 0,arguments);return(!Array.isArray(n)||0!==n.length)&&Boolean(n)}}),A=r.$$boolean=w(null,null),N=r.$not=function(n,r){return function(){return!A.apply(void 0,arguments)}},x=r.$$not=N(null,null),O=r.$and=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.reduce(function(n,r){return n&&r},!0)}},j=(r.$$and=O(null,null),r.$or=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.reduce(function(n,r){return n||r},!1)}}),E=(r.$$or=j(null,null),r.$ambiguousEq=function(n,r){return function(){var n=d.apply(void 0,arguments),r=n.car,e=n.cdr;return Array.isArray(r)&&0===r.length&&(r=null),Array.isArray(e)&&0===e.length&&(e=null),void 0===r&&(r=null),void 0===e&&(e=null),r==e}}),M=r.$$ambiguousEq=E(null,null),q=r.$ambiguousNotEq=function(n,r){return function(){return!M.apply(void 0,arguments)}},P=(r.$$ambiguousNotEq=q(null,null),r.$lt=function(n,r){return function(){var n=d.apply(void 0,arguments),r=n.car,e=n.cdr;return Number(r)<Number(e)}}),k=(r.$$lt=P(null,null),r.$le=function(n,r){return function(){var n=d.apply(void 0,arguments),r=n.car,e=n.cdr;return Number(r)<=Number(e)}}),I=(r.$$le=k(null,null),r.$gt=function(n,r){return function(){var n=d.apply(void 0,arguments),r=n.car,e=n.cdr;return Number(r)>Number(e)}}),X=(r.$$gt=I(null,null),r.$ge=function(n,r){return function(){var n=d.apply(void 0,arguments),r=n.car,e=n.cdr;return Number(r)>=Number(e)}}),C=(r.$$ge=X(null,null),r.$isList=function(n,r){return function(){return Array.isArray(s.apply(void 0,arguments))}}),T=(r.$$isList=C(null,null),r.$isString=function(n,r){return function(){return"string"==typeof s.apply(void 0,arguments)}}),F=(r.$$isString=T(null,null),r.$isNumber=function(n,r){return function(){return"number"==typeof s.apply(void 0,arguments)}}),L=(r.$$isNumber=F(null,null),r.$isNaN=function(n,r){return function(){return Number.isNaN(Number(s.apply(void 0,arguments)))}}),U=(r.$$isNaN=L(null,null),r.$isFinite=function(n,r){return function(){return Number.isFinite(Number(s.apply(void 0,arguments)))}}),V=(r.$$isFinite=U(null,null),r.$isInteger=function(n,r){return function(){return Number.isInteger(Number(s.apply(void 0,arguments)))}}),R=(r.$$isInteger=V(null,null),r.$toString=function(n,r){return function(){return String(s.apply(void 0,arguments))}}),z=(r.$$toString=R(null,null),r.$toNumber=function(n,r){return function(){return Number(s.apply(void 0,arguments))}});r.$$toNumber=z(null,null)},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.resolveMacro=a,r.resolveFunctionSymbol=l,r.resolveValueSymbolScope=u,r.resolveValueSymbol=i,r.installScope=function(n,r,e){n.scopes.push({isBlockLocal:e,scope:r})},r.uninstallScope=function(n){if(n.scopes.length<2)throw new Error("[SX] uninstallScope: Unable to pop stack.");return n.scopes.pop()},r.getScope=f,r.getGlobalScope=c,r.optimizeTailCall=function(n,r,e){if(Array.isArray(e[e.length-1])){var t=e.slice(0,e.length-1),a=e[e.length-1];if(a&&a[0].symbol===n.config.reservedNames.if&&a[3][0].symbol===n.config.reservedNames.self)return[[{symbol:n.config.reservedNames.until},a[1]].concat(o(t),o(a[3].slice(1).map(function(e,t){return[{symbol:n.config.reservedNames.let},r[t],e]}))),a[2]]}return e},r.evaluate=function n(r,e){if(null===e||void 0===e)return e;var u=e;for(;Array.isArray(u);){if(0===u.length)return u;var f=(0,t.isSymbol)(u[0]);if(!f)break;var c=a(r,f);if(!c)break;u=c(u)}if(Array.isArray(u)){if(0<(u=u.slice(0)).length){var s=(0,t.isSymbol)(u[0]);if(s){if(s.symbol===r.config.reservedNames.quote)return u.slice(1,2)[0];if(s.symbol===r.config.reservedNames.eval)return n(r,u[1])}for(var v=u.length-1;v>0;v--)u[v]=n(r,u[v]);var y=void 0;if("function"!=typeof(y="function"==typeof u[0]?u[0]:s?l(r,s):n(r,u[0])))throw new Error("[SX] evaluate: First item of list is not a function: "+JSON.stringify(u)+".");u=y.apply(void 0,o(u.slice(1)))}}else if(r.config.wrapExternalValue&&Object.prototype.hasOwnProperty.call(u,"value"))u=u.value;else if(Object.prototype.hasOwnProperty.call(u,"symbol"))u=i(r,u);else if(Object.prototype.hasOwnProperty.call(u,"car"))if(Array.isArray(u.cdr)){var $=u.cdr.slice(0);$.unshift(u.car),u=n(r,$)}else u={car:n(r,u.car),cdr:n(r,u.cdr)};else Object.prototype.hasOwnProperty.call(u,"dotted")?u=[n(r,u.dotted)]:Object.prototype.hasOwnProperty.call(u,"comment")&&(u=r.config.strippedCommentValue);return u};var t=e(0);function o(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}function a(n,r){var e=n.macroMap.get(r.symbol);return!!e&&e.fn(n,r.symbol)}function l(n,r){if("function"==typeof r)return r;var e=n.funcMap.get(r.symbol);if(e)return e.fn(n,r.symbol);var t=i(n,r);if("function"==typeof t)return t;if(n.config.funcSymbolResolverFallback)return n.config.funcSymbolResolverFallback(n,r.symbol);if(n.config.raiseOnUnresolvedSymbol)throw new Error("[SX] resolveFunctionSymbol: Unresolved symbol: "+r.symbol+".");return r.symbol}function u(n,r,e){for(var t=n.scopes.length-1;t>0;t--){var o=n.scopes[t];if(o&&Object.prototype.hasOwnProperty.call(o.scope,r.symbol))return o.scope;if(!o.isBlockLocal)break}var a=c(n);return Object.prototype.hasOwnProperty.call(a.scope,r.symbol)?a.scope:e?null:f(n).scope}function i(n,r){var e=u(n,r,!0);if(e)return e[r.symbol];var t=n.symbolMap.get(r.symbol);if(t)return t.fn(n,r.symbol);if(n.config.valueSymbolResolverFallback)return n.config.valueSymbolResolverFallback(n,r.symbol);if(n.config.raiseOnUnresolvedSymbol)throw new Error("[SX] resolveValueSymbol: Unresolved symbol: "+r.symbol+".");return r.symbol}function f(n){return n.scopes[n.scopes.length-1]}function c(n){return n.scopes[0]}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$jsxComponentTag=r.$jsxStandardTag=r.$jsxProps=r.$__toObject=r.$__outputForOf=r.$__outputIf=void 0;var t=e(0),o=e(2),a=e(1);function l(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}r.$__outputIf=function(n,r){return function(){for(var r=arguments.length,e=Array(r),t=0;t<r;t++)e[t]=arguments[t];var u,i=a.$$firstAndSecond.apply(void 0,e),f=i.car,c=i.cdr,s=[];(0,a.$$boolean)(f)&&(2<e.length?((u=s).push.apply(u,[{symbol:n.config.reservedNames.Template}].concat(l(e.slice(1)))),s=(0,o.evaluate)(n,s)):s=(0,o.evaluate)(n,c));return s}},r.$__outputForOf=function(n,r){return function(){for(var e=arguments.length,u=Array(e),i=0;i<e;i++)u[i]=arguments[i];var f=a.$$first.apply(void 0,u),c=[];if(Array.isArray(f))for(var s=0;s<f.length;s++){var v=f[s],y=(0,a.$__scope)(n,r).apply(void 0,[!0,!0,[["$data",(0,t.quote)(n,v)],["$index",s],["$parent",(0,o.getScope)(n)]]].concat(l(u.slice(1))));2<u.length&&Array.isArray(y)?c.push.apply(c,l(y)):c.push(y)}return(0,o.evaluate)(n,[{symbol:n.config.reservedNames.Template}].concat(c.map(function(r){return[{symbol:n.config.reservedNames.quote},r]})))}},r.$__toObject=function(n,r){return function(){for(var r=arguments.length,e=Array(r),a=0;a<r;a++)e[a]=arguments[a];var l={},u=!0,i=!1,f=void 0;try{for(var c,s=e[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var v=c.value;if(Array.isArray(v)&&0<v.length){var y=(0,t.isSymbol)(v[0]),$=y?y.symbol:String((0,o.evaluate)(n,v[0]));1===v.length?l[$]=!0:2===v.length?l[$]=(0,o.evaluate)(n,v[1]):l[$]=(0,o.evaluate)(n,[{symbol:n.config.reservedNames.list}].concat(v.slice(1)))}}}catch(n){i=!0,f=n}finally{try{!u&&s.return&&s.return()}finally{if(i)throw f}}return l}};var u=r.$jsxProps=function(n,r){return function(){for(var r=arguments.length,e=Array(r),a=0;a<r;a++)e[a]=arguments[a];var l={},u=!0,i=!1,f=void 0;try{for(var c,s=e[Symbol.iterator]();!(u=(c=s.next()).done);u=!0){var v=c.value;if(Array.isArray(v)&&0<v.length){var y=(0,t.isSymbol)(v[0]),$=y?y.symbol:String((0,o.evaluate)(n,v[0]));switch($){case"style":if(1===v.length)l[$]="";else if(v.length>=2){var m={},d=!0,p=!1,b=void 0;try{for(var g,h=v.slice(1)[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var _=g.value;if(Array.isArray(_)&&1<_.length)m[String((0,o.evaluate)(n,_[0]))]=String((0,o.evaluate)(n,_[1]));else if("string"==typeof _){var S=!0,w=!1,A=void 0;try{for(var N,x=_.split(";")[Symbol.iterator]();!(S=(N=x.next()).done);S=!0){var O=N.value,j=/^\s*(\S+)\s*:\s*(.*?)\s*$/.exec(O);j&&(m[j[1]]=j[2])}}catch(n){w=!0,A=n}finally{try{!S&&x.return&&x.return()}finally{if(w)throw A}}}}}catch(n){p=!0,b=n}finally{try{!d&&h.return&&h.return()}finally{if(p)throw b}}l[$]=m}break;case"class":case"styleClass":if(1===v.length)l[$]=[];else if(v.length>=2){var E=[],M=!0,q=!1,P=void 0;try{for(var k,I=v.slice(1)[Symbol.iterator]();!(M=(k=I.next()).done);M=!0){var X=k.value;Array.isArray(X)?E=E.concat(X.map(function(r){return(0,o.evaluate)(n,r)})):"string"==typeof X&&(E=E.concat(X.split(" ")))}}catch(n){q=!0,P=n}finally{try{!M&&I.return&&I.return()}finally{if(q)throw P}}l[$]=E.map(function(n){return null===n||void 0===n?"":String(n)})}break;case"className":if(1===v.length)l[$]="";else if(v.length>=2){var C="",T=!0,F=!1,L=void 0;try{for(var U,V=v.slice(1)[Symbol.iterator]();!(T=(U=V.next()).done);T=!0){var R=U.value,z="";Array.isArray(R)?z=R.map(function(r){return(0,o.evaluate)(n,r)}).map(function(n){return null===n||void 0===n?"":String(n)}).join(" "):"string"==typeof R&&(z=R),0<C.length?C+=" "+z:C=z}}catch(n){F=!0,L=n}finally{try{!T&&V.return&&V.return()}finally{if(F)throw L}}l[$]=C}break;case"dangerouslySetInnerHTML":1===v.length?l[$]={__html:""}:v.length>=2?l[$]={__html:(0,o.evaluate)(n,v[1])}:l[$]={__html:(0,o.evaluate)(n,[{symbol:n.config.reservedNames.list}].concat(v.slice(1)))};break;default:1===v.length?l[$]=!0:2===v.length?l[$]=(0,o.evaluate)(n,v[1]):l[$]=(0,o.evaluate)(n,[{symbol:n.config.reservedNames.list}].concat(v.slice(1)))}}}}catch(n){i=!0,f=n}finally{try{!u&&s.return&&s.return()}finally{if(i)throw f}}return l}};function i(n){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];var a=e,i={};0<e.length&&Array.isArray(e[0])&&((0,t.isSymbol)(e[0][0],"@")&&(i=u(n,"").apply(void 0,l(e[0].slice(1))),a=a.slice(1)));return{props:i,children:a}}r.$jsxStandardTag=function(n,r){return function(){for(var e,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var u=i.apply(void 0,[n].concat(o)),f=u.props,c=u.children;return(e=n.config).jsx.apply(e,[r,f].concat(l(c)))}},r.$jsxComponentTag=function(n){return function(r,e){return function(){for(var e,t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];var u=i.apply(void 0,[r].concat(o)),f=u.props,c=u.children;return(e=r.config).jsx.apply(e,[n,f].concat(l(c)))}}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.symbols=[];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.macros=void 0;var t=e(0);function o(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}var a=r.macros=[{name:"#",fn:function(n,r){return function(r){return[{symbol:"$__#"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"@",fn:function(n,r){return function(r){return(0,t.quote)(n,r)}}},{name:"$=if",fn:function(n,r){return function(r){return[{symbol:"$=__if"},r[1]].concat(o(r.slice(2).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$=for",fn:function(n,r){return function(r){return[{symbol:"$=__for"},r[1]].concat(o(r.slice(2).map(function(r){return(0,t.quote)(n,r)})))}}}];r.default=a},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.funcs=void 0;var t=function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e]);return r.default=n,r}(e(3));var o=r.funcs=[{name:"$=__if",fn:t.$__outputIf},{name:"$=__for",fn:t.$__outputForOf},{name:"$__#",fn:t.$__toObject}];r.default=o},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(n,r){var e;n.funcs=(n.funcs||[]).concat(t.default),n.macros=(n.macros||[]).concat(o.default),n.symbols=(n.symbols||[]).concat(a.default);var u=Object.entries(r.components).map(function(n){return{name:n[0],fn:(0,l.$jsxComponentTag)(n[1])}});return n.funcs=(e=n.funcs).concat.apply(e,[{name:n.reservedNames.Template,fn:(0,l.$jsxComponentTag)(r.jsxFlagment)}].concat(function(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}(u))),n.funcSymbolResolverFallback=l.$jsxStandardTag,n.jsx=r.jsx,n.JsxFragment=r.jsxFlagment,n};var t=u(e(6)),o=u(e(5)),a=u(e(4)),l=e(3);function u(n){return n&&n.__esModule?n:{default:n}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.symbols=[];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.macros=[];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$$slice=r.$slice=r.$$concat=r.$concat=r.$$length=r.$length=void 0;var t=e(1);var o=r.$length=function(n,r){return function(){return t.$$first.apply(void 0,arguments).length()}},a=(r.$$length=o(null,null),r.$concat=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return o.concat.apply(o,function(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}(r.slice(1)))}}),l=(r.$$concat=a(null,null),r.$slice=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.slice(2).slice(Number(r[0]),Number(r[1]))}});r.$$slice=l(null,null)},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.funcs=void 0;var t=function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e]);return r.default=n,r}(e(10));var o=r.funcs=[{name:"$length",fn:t.$length},{name:"$concat",fn:t.$concat},{name:"$slice",fn:t.$slice}];r.default=o},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(n){return n.funcs=(n.funcs||[]).concat(t.default),n.macros=(n.macros||[]).concat(o.default),n.symbols=(n.symbols||[]).concat(a.default),n};var t=l(e(11)),o=l(e(9)),a=l(e(8));function l(n){return n&&n.__esModule?n:{default:n}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.symbols=[];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.macros=[];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$$round=r.$round=r.$$ceil=r.$ceil=r.$$floor=r.$floor=r.$$avg=r.$avg=r.$$min=r.$min=r.$$max=r.$max=r.$$mod=r.$mod=r.$$div=r.$div=r.$$sup=r.$sup=r.$$mul=r.$mul=r.$$sub=r.$sub=r.$$add=r.$add=r.$$bitXor=r.$bitXor=r.$$bitOr=r.$bitOr=r.$$bitAnd=r.$bitAnd=r.$$bitNot=r.$bitNot=void 0;var t=e(1),o=r.$bitNot=function(n,r){return function(){var n=t.$$first.apply(void 0,arguments);return~Number(n)}},a=(r.$$bitNot=o(null,null),r.$bitAnd=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)&Number(r)},Number(o))}}),l=(r.$$bitAnd=a(null,null),r.$bitOr=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)|Number(r)},Number(o))}}),u=(r.$$bitOr=l(null,null),r.$bitXor=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)^Number(r)},Number(o))}}),i=(r.$$bitXor=u(null,null),r.$add=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.reduce(function(n,r){return Number(n)+Number(r)},0)}}),f=(r.$$add=i(null,null),r.$sub=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return 0===r.slice(1).length?-Number(o):r.slice(1).reduce(function(n,r){return Number(n)-Number(r)},Number(o))}}),c=(r.$$sub=f(null,null),r.$mul=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)*Number(r)},Number(o))}}),s=(r.$$mul=c(null,null),r.$sup=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Math.pow(Number(n),Number(r))},Number(o))}}),v=(r.$$sup=s(null,null),r.$div=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)/Number(r)},Number(o))}}),y=(r.$$div=v(null,null),r.$mod=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];var o=t.$$first.apply(void 0,r);return r.slice(1).reduce(function(n,r){return Number(n)%Number(r)},Number(o))}}),$=(r.$$mod=y(null,null),r.$max=function(n,r){return function(){return Math.max.apply(Math,arguments)}}),m=(r.$$max=$(null,null),r.$min=function(n,r){return function(){return Math.min.apply(Math,arguments)}}),d=(r.$$min=m(null,null),r.$avg=function(n,r){return function(){for(var n=arguments.length,r=Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.length>0?r.reduce(function(n,r){return Number(n)+Number(r)},0)/r.length:null}}),p=(r.$$avg=d(null,null),r.$floor=function(n,r){return function(){return Math.floor(Number(t.$$first.apply(void 0,arguments)))}}),b=(r.$$floor=p(null,null),r.$ceil=function(n,r){return function(){return Math.ceil(Number(t.$$first.apply(void 0,arguments)))}}),g=(r.$$ceil=b(null,null),r.$round=function(n,r){return function(){return Math.round(Number(t.$$first.apply(void 0,arguments)))}});r.$$round=g(null,null)},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.funcs=void 0;var t=function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e]);return r.default=n,r}(e(15));var o=r.funcs=[{name:"$bit-not",fn:t.$bitNot},{name:"$bit-and",fn:t.$bitAnd},{name:"$bit-or",fn:t.$bitOr},{name:"$bit-xor",fn:t.$bitXor},{name:"+",fn:t.$add},{name:"$add",fn:t.$add},{name:"$sum",fn:t.$add},{name:"-",fn:t.$sub},{name:"$sub",fn:t.$sub},{name:"$neg",fn:t.$sub},{name:"*",fn:t.$mul},{name:"$mul",fn:t.$mul},{name:"**",fn:t.$sup},{name:"$sup",fn:t.$sup},{name:"/",fn:t.$div},{name:"$div",fn:t.$div},{name:"%",fn:t.$mod},{name:"$mod",fn:t.$mod},{name:"$max",fn:t.$max},{name:"$min",fn:t.$min},{name:"$avg",fn:t.$avg},{name:"$floor",fn:t.$floor},{name:"$ceil",fn:t.$ceil},{name:"$round",fn:t.$round}];r.default=o},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(n){return n.funcs=(n.funcs||[]).concat(t.default),n.macros=(n.macros||[]).concat(o.default),n.symbols=(n.symbols||[]).concat(a.default),n};var t=l(e(16)),o=l(e(14)),a=l(e(13));function l(n){return n&&n.__esModule?n:{default:n}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=r.symbols=[{name:"nil",fn:function(n,r){return[]}},{name:"null",fn:function(n,r){return null}},{name:"undefined",fn:function(n,r){}},{name:"true",fn:function(n,r){return!0}},{name:"#true",fn:function(n,r){return!0}},{name:"#t",fn:function(n,r){return!0}},{name:"false",fn:function(n,r){return!1}},{name:"#false",fn:function(n,r){return!1}},{name:"#f",fn:function(n,r){return!1}},{name:"+Infinity",fn:function(n,r){return 1/0}},{name:"-Infinity",fn:function(n,r){return-1/0}},{name:"NaN",fn:function(n,r){return NaN}}];r.default=t},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.macros=void 0;var t=e(0);function o(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}var a=r.macros=[{name:"$scope",fn:function(n,r){return function(r){return[{symbol:"$__scope"},r[1],r[2]].concat(o(r.slice(3).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$local",fn:function(n,r){return function(r){return[{symbol:"$__scope"},!0,!1].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$global",fn:function(n,r){return function(r){return[{symbol:"$__scope"},!0,!1].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$clisp-let",fn:function(n,r){return function(r){return[{symbol:"$__scope"},!0,!1].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$lambda",fn:function(n,r){return function(r){return[{symbol:"$__lambda"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$defun",fn:function(n,r){return function(r){return[{symbol:"$__defun"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$if",fn:function(n,r){return function(r){return[{symbol:"$__if"},r[1]].concat(o(r.slice(2).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$cond",fn:function(n,r){return function(r){return[{symbol:"$__cond"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$while",fn:function(n,r){return function(r){return[{symbol:"$__while"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$do-while",fn:function(n,r){return function(r){return[{symbol:"$__do-while"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$until",fn:function(n,r){return function(r){return[{symbol:"$__until"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$do-until",fn:function(n,r){return function(r){return[{symbol:"$__do-until"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$repeat",fn:function(n,r){return function(r){if(!(0,t.isSymbol)(r[2],"of"))throw new Error("[SX] $repeat: Invalid syntax: missing 'of' keyword.");return[{symbol:"$__repeat"},(0,t.quote)(n,r[1]),r[3]].concat(o(r.slice(4).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$for",fn:function(n,r){return function(r){if(!(0,t.isSymbol)(r[2],"of"))throw new Error("[SX] $for: Invalid syntax: missing 'of' keyword.");return[{symbol:"$__for"},(0,t.quote)(n,r[1]),r[3]].concat(o(r.slice(4).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$get",fn:function(n,r){return function(r){return[{symbol:"$__get"}].concat(o(r.slice(1).map(function(r){return(0,t.quote)(n,r)})))}}},{name:"$let",fn:function(n,r){return function(r){return[{symbol:"$__let"},(0,t.quote)(n,r[1]),r[2]]}}},{name:"$clisp-defvar",fn:function(n,r){return function(r){return[{symbol:"$global"},[{symbol:"$__let"},(0,t.quote)(n,r[1]),r[2]]]}}},{name:"$set",fn:function(n,r){return function(r){return[{symbol:"$__set"},(0,t.quote)(n,r[1]),r[2]]}}},{name:"$clisp-setq",fn:function(n,r){return function(r){return[{symbol:"$__set"},(0,t.quote)(n,r[1]),r[2]]}}}];r.default=a},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.funcs=void 0;var t=function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(r[e]=n[e]);return r.default=n,r}(e(1));var o=r.funcs=[{name:"$car",fn:t.$car},{name:"$cdr",fn:t.$cdr},{name:"$cons",fn:t.$cons},{name:"$first",fn:t.$first},{name:"$second",fn:t.$second},{name:"$rest",fn:t.$rest},{name:"$first-and-second",fn:t.$firstAndSecond},{name:"$atom",fn:t.$atom},{name:"$eq",fn:t.$eq},{name:"$not-eq",fn:t.$notEq},{name:"$list",fn:t.$list},{name:"$__scope",fn:t.$__scope},{name:"$__global",fn:t.$__globalScope},{name:"$__lambda",fn:t.$__lambda},{name:"$__defun",fn:t.$__defun},{name:"$__if",fn:t.$__if},{name:"$__cond",fn:t.$__cond},{name:"$__while",fn:t.$__while},{name:"$__do-while",fn:t.$__doWhile},{name:"$__until",fn:t.$__until},{name:"$__do-until",fn:t.$__doUntil},{name:"$__repeat",fn:t.$__repeat},{name:"$__for",fn:t.$__for},{name:"$__get",fn:t.$__get},{name:"$__let",fn:t.$__let},{name:"$__set",fn:t.$__set},{name:"$boolean",fn:t.$boolean},{name:"$not",fn:t.$not},{name:"$and",fn:t.$and},{name:"$or",fn:t.$or},{name:"==",fn:t.$ambiguousEq},{name:"!=",fn:t.$ambiguousNotEq},{name:"<",fn:t.$lt},{name:"<=",fn:t.$le},{name:">",fn:t.$gt},{name:">=",fn:t.$ge},{name:"$is-list",fn:t.$isList},{name:"$is-string",fn:t.$isString},{name:"$is-number",fn:t.$isNumber},{name:"$is-NaN",fn:t.$isNaN},{name:"$is-finite",fn:t.$isFinite},{name:"$is-integer",fn:t.$isInteger},{name:"$to-string",fn:t.$toString},{name:"$to-number",fn:t.$toNumber}];r.default=o},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(n){return n.funcs=(n.funcs||[]).concat(t.default),n.macros=(n.macros||[]).concat(o.default),n.symbols=(n.symbols||[]).concat(a.default),n};var t=l(e(20)),o=l(e(19)),a=l(e(18));function l(n){return n&&n.__esModule?n:{default:n}}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};r.parse=function(n){var r=[];$(n);var e=y(n);for(;!a(e);){switch(e){case"(":s(n),r.push(w(n,")",[]));break;case"'":s(n),$(n),r.push((0,o.quote)(n,S(n)));break;case";":s(n),r.push(h(n));break;case"#":var t=v(n,2);"|"===t[1]?(s(n),s(n),r.push(_(n))):(s(n),r.push(h(n)));break;default:throw new Error("[SX] parseInitialState: Invalid syntax at: "+c(n)+".")}$(n),e=y(n)}return r};var o=e(0);function a(n){return"object"===(void 0===n?"undefined":t(n))&&Object.prototype.hasOwnProperty.call(n,"eof")}function l(n){return"string"==typeof n&&0===n.trim().length}function u(n){return"string"==typeof n&&/^[0-9\+\-]$/.test(n)}function i(n){return"string"==typeof n&&/^[0-9]$/.test(n)}function f(n){return"string"==typeof n&&!l(n)&&!u(n)}function c(n){return"line: "+n.line+" / strings: "+n.index+" / pos: "+n.pos+" :"+(n.strings.length>n.index?n.strings[n.index].slice(n.pos,n.pos+20):"")}function s(n,r){if(n.strings.length<=n.index)return{eof:!0};if(n.strings[n.index].length<=n.pos){if(!n.values||n.values.length<=n.index)return n.pos=0,n.index++,s(n);var e={value:n.values[n.index]};return n.pos=0,n.index++,e}if(r){var t=!0,o=!1,a=void 0;try{for(var l,u=r[Symbol.iterator]();!(t=(l=u.next()).done);t=!0){var i=l.value,f=n.strings[n.index].slice(n.pos,n.pos+i.length);if(f===i)return n.pos+=i.length,n.line+=f.split("\n").length-1,{eof:!1,eofSeq:i}}}catch(n){o=!0,a=n}finally{try{!t&&u.return&&u.return()}finally{if(o)throw a}}}var v=n.strings[n.index].slice(n.pos,n.pos+1);if(n.pos++,"\n"===v&&n.line++,"\\"===v){if(n.strings[n.index].length<=n.pos)throw new Error("[SX] getChar: Invalid syntax at: "+c(n)+".");switch(v=n.strings[n.index].slice(n.pos,n.pos+1),n.pos++,v){case"b":v="\b";break;case"t":v="\t";break;case"n":v="\n";break;case"v":v="\v";break;case"f":v="\f";break;case"r":v="\r";break;case"U":case"u":if("{"===n.strings[n.index].slice(n.pos,n.pos+1)){for(var y="",$=0;$<6;$++){var m=n.strings[n.index].slice(n.pos+$,n.pos+1+$);if("}"===m){if(0===$)throw new Error("[SX] getChar: Invalid syntax at: "+c(n)+".");n.pos+=$;break}if(!/^[0-9A-Fa-f]{1}$/.test(y))throw new Error("[SX] getChar: Invalid syntax at: "+c(n)+".");y+=m}if("}"!==n.strings[n.index].slice(n.pos,n.pos+1))throw new Error("[SX] getChar: Invalid syntax at: "+c(n)+".");n.pos++,v=String.fromCodePoint(Number.parseInt(y,16))}else{var d=n.strings[n.index].slice(n.pos,n.pos+4);if(!/^[0-9A-Fa-f]{4}$/.test(d))throw new Error("[SX] getChar: Invalid syntax at: "+c(n)+".");n.pos+=4,v=String.fromCodePoint(Number.parseInt(d,16))}}}return v}function v(n,r,e){var t=n.index,o=n.pos,a=n.line,l=[];try{for(var u=0;u<r;u++)l.push(s(n,e))}finally{n.index=t,n.pos=o,n.line=a}return l}function y(n,r){var e=n.index,t=n.pos,o=n.line,a=void 0;try{a=s(n,r)}finally{n.index=e,n.pos=t,n.line=o}return a}function $(n){for(var r=y(n);!a(r)&&l(r);)s(n),r=y(n)}function m(n,r){for(var e="",t=y(n,r);!a(t)&&"string"==typeof t&&/^[0-9\+\-\.EeInfinityNaN]+$/.test(e+t);)s(n,r),e+=t,t=y(n,r);if(!/^([\+\-]?\d*\.?\d+(?:[Ee][\+\-]?\d+)?)|([\+\-]Infinity)|(NaN)$/.test(e))throw new Error("[SX] parseNumber: Invalid syntax at: "+c(n)+".");return Number(e)}function d(n,r){for(var e="",o=y(n,r);!a(o);){if("string"==typeof o){if(l(o))break;if("#"===o&&"|"===v(n,2,r)[1])break;if(!/^[^.;()"]+$/.test(e+o))break;s(n,r),e+=o}else{if("object"!==(void 0===o?"undefined":t(o))||!Object.prototype.hasOwnProperty.call(o,"value"))throw new Error("[SX] parseSymbol: Invalid syntax at: "+c(n)+".");s(n,r);o.value;e+=String(o)}o=y(n,r)}return{symbol:e}}function p(n,r,e,o){for(var l=e?[].concat(function(n){if(Array.isArray(n)){for(var r=0,e=Array(n.length);r<n.length;r++)e[r]=n[r];return e}return Array.from(n)}(r),[e]):r,u=[],i=[];;){for(var f="",v=y(n,l);!a(v);){if("string"==typeof v)s(n,l),f+=v;else{if("object"!==(void 0===v?"undefined":t(v))||!Object.prototype.hasOwnProperty.call(v,"value"))throw new Error("[SX] parseStringOrComment: Invalid syntax at: "+c(n)+".");s(n,l);v.value;f+=String(v)}v=y(n,l)}if(s(n,l),!0===v.eof)throw new Error("[SX] parseStringOrComment: Unexpected termination of script.");if(u.push(f),v.eofSeq!==e)break;i.push(w(n,o,[]))}return{strings:u,values:i}}function b(n){return p(n,['"'],null,")").strings[0]}function g(n,r,e){var t=[r];e&&t.push(e);for(var o=p(n,['"""'],"%%%(",")"),a=0;a<o.strings.length;a++)t.push(o.strings[a]),a<o.values.length&&t.push(o.values[a]);return t}function h(n){return n.config.stripComments?n.config.strippedCommentValue:{comment:p(n,["\r","\n"],null,")").strings[0]}}function _(n){return n.config.stripComments?n.config.strippedCommentValue:{comment:p(n,["|#"],null,")").strings[0]}}function S(n){$(n);for(var r=y(n);!a(r);){switch(r){case")":throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".");case"(":return s(n),w(n,")",[]);case"'":return s(n),$(n),(0,o.quote)(n,S(n));case".":return s(n),$(n),{dotted:S(n)};case'"':s(n);var e=v(n,4);if(n.config.enableHereDoc&&'"'===e[0]&&'"'===e[1]){var p=!0;a(e[2])||l(e[2])||(u(e[2])?"+"!==e[2]&&"-"!==e[2]||i(e[3])||(p=!1):f(e[2])&&(p=!1)),s(n),s(n);var A=null,N=null;if(p)A={symbol:n.config.reservedNames.Template};else{if(null===(A=d(n,["@"])))throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".");if("number"==typeof A)throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".");var x=v(n,2);if("@"===x[0]){if("{"!==x[1])throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".");s(n),s(n),N=w(n,"}",[{symbol:"@"}])}}return g(n,A,N)}return b(n);case";":return s(n),h(n);case"#":return"|"===v(n,2)[1]?(s(n),s(n),_(n)):d(n);default:if("string"!=typeof r){if("object"===(void 0===r?"undefined":t(r))&&Object.prototype.hasOwnProperty.call(r,"value"))return s(n),n.config.wrapExternalValue?r:r.value;throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".")}if(l(r))break;if(u(r)){if("+"===r||"-"===r)if(!i(v(n,2)[1]))return d(n);return m(n)}if(f(r))return d(n);throw new Error("[SX] parseOneToken: Invalid syntax at: "+c(n)+".")}$(n),r=y(n)}throw new Error("[SX] parseOneToken: Unexpected termination of script.")}function w(n,r,e){var o=e.slice(0);$(n);for(var l=y(n);!a(l);){switch(l){case r:return s(n),o;default:var u=S(n);if("object"===(void 0===u?"undefined":t(u))&&Object.prototype.hasOwnProperty.call(u,"dotted")){if(0===o.length||Array.isArray(o[o.length-1]))throw new Error("[SX] parseList: Invalid syntax at: "+c(n)+".");Array.isArray(u)?(u.unshift(o.pop()),o.push(u)):o.push({car:o.pop(),cdr:u})}else o.push(u)}$(n),l=y(n)}throw new Error("[SX] parseList: Unexpected termination of script.")}},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LM=r.lisp=r.LS=r.L=r.S=r.defaultConfig=r.defaultReservedNames=void 0,r.SExpression=v,r.LSX=function(n){var r=Object.assign({},s);return r=(0,a.default)(r),r=(0,l.default)(r),r=(0,u.default)(r),v(r=(0,i.default)(r,n))};var t=e(22),o=e(2),a=f(e(21)),l=f(e(17)),u=f(e(12)),i=f(e(7));function f(n){return n&&n.__esModule?n:{default:n}}var c=r.defaultReservedNames={eval:"$eval",quote:"$quote",car:"$car",cdr:"$cdr",cons:"$cons",atom:"$atom",eq:"$eq",list:"$list",let:"$clisp-let",lambda:"$lambda",self:"$self",defun:"$defun",if:"$if",cond:"$cond",while:"$while",doWhile:"$do-while",until:"$until",doUntil:"$do-until",get:"$get",defvar:"$clisp-defvar",setq:"$clisp-setq",set:"$set",not:"$not",and:"$and",or:"$or",Template:"Template"},s=r.defaultConfig={raiseOnUnresolvedSymbol:!1,enableEvaluate:!0,enableHereDoc:!0,enableTailCallOptimization:!0,stripComments:!1,strippedCommentValue:[],wrapExternalValue:!0,returnMultipleRoot:!1,reservedNames:c,symbols:[],macros:[],funcs:[]};function v(n){return function(r){for(var e=arguments.length,a=Array(e>1?e-1:0),l=1;l<e;l++)a[l-1]=arguments[l];var u={strings:"string"==typeof r?[r]:r,values:a||[],index:0,pos:0,line:0,scopes:[{isBlockLocal:!1,scope:{}}],macroMap:new Map(n.macros.map(function(n){return[n.name,n]})),funcMap:new Map(n.funcs.map(function(n){return[n.name,n]})),symbolMap:new Map(n.symbols.map(function(n){return[n.name,n]})),config:n},i=(0,t.parse)(u);if(n.enableEvaluate)for(var f=0;f<i.length;f++)i[f]=(0,o.evaluate)(u,i[f]);return n.returnMultipleRoot?1===i.length?i[0]:i:i[i.length-1]}}r.S=(y=Object.assign({},s),y=(0,a.default)(y),y=(0,l.default)(y),(y=(0,u.default)(y)).enableEvaluate=!1,y.returnMultipleRoot=!0,v(y));var y,$=r.L=function(){var n=Object.assign({},s);return n=(0,a.default)(n),n=(0,l.default)(n),v(n=(0,u.default)(n))}();r.LS=$,r.lisp=$,r.LM=function(){var n=Object.assign({},s);return n=(0,a.default)(n),n=(0,l.default)(n),(n=(0,u.default)(n)).returnMultipleRoot=!0,v(n)}()},function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(23);Object.keys(t).forEach(function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})})},function(n,r,e){n.exports=e(24)}]);
//# sourceMappingURL=liyad.js.map